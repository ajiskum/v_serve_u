(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},Wu={},jv={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),kE=Symbol.for("react.portal"),bE=Symbol.for("react.fragment"),IE=Symbol.for("react.strict_mode"),PE=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),RE=Symbol.for("react.context"),jE=Symbol.for("react.forward_ref"),VE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),ME=Symbol.for("react.lazy"),eg=Symbol.iterator;function LE(t){return t===null||typeof t!="object"?null:(t=eg&&t[eg]||t["@@iterator"],typeof t=="function"?t:null)}var Vv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dv=Object.assign,Mv={};function Wi(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||Vv}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lv(){}Lv.prototype=Wi.prototype;function yf(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||Vv}var vf=yf.prototype=new Lv;vf.constructor=yf;Dv(vf,Wi.prototype);vf.isPureReactComponent=!0;var tg=Array.isArray,Fv=Object.prototype.hasOwnProperty,xf={current:null},Ov={key:!0,ref:!0,__self:!0,__source:!0};function Bv(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fv.call(e,r)&&!Ov.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ka,type:t,key:i,ref:o,props:s,_owner:xf.current}}function FE(t,e){return{$$typeof:ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function OE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ng=/\/+/g;function Wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OE(""+t.key):e.toString(36)}function Pl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ka:case kE:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wc(o,0):r,tg(s)?(n="",t!=null&&(n=t.replace(ng,"$&/")+"/"),Pl(s,e,n,"",function(h){return h})):s!=null&&(wf(s)&&(s=FE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ng,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Wc(i,l);o+=Pl(i,e,n,u,s)}else if(u=LE(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Wc(i,l++),o+=Pl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tl(t,e,n){if(t==null)return t;var r=[],s=0;return Pl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function BE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Nl={transition:null},UE={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Nl,ReactCurrentOwner:xf};function Uv(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:tl,forEach:function(t,e,n){tl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tl(t,function(){e++}),e},toArray:function(t){return tl(t,function(e){return e})||[]},only:function(t){if(!wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Wi;ce.Fragment=bE;ce.Profiler=PE;ce.PureComponent=yf;ce.StrictMode=IE;ce.Suspense=VE;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;ce.act=Uv;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Fv.call(e,u)&&!Ov.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ka,type:t.type,key:s,ref:i,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:RE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NE,_context:t},t.Consumer=t};ce.createElement=Bv;ce.createFactory=function(t){var e=Bv.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:jE,render:t}};ce.isValidElement=wf;ce.lazy=function(t){return{$$typeof:ME,_payload:{_status:-1,_result:t},_init:BE}};ce.memo=function(t,e){return{$$typeof:DE,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Nl.transition;Nl.transition={};try{t()}finally{Nl.transition=e}};ce.unstable_act=Uv;ce.useCallback=function(t,e){return jt.current.useCallback(t,e)};ce.useContext=function(t){return jt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return jt.current.useEffect(t,e)};ce.useId=function(){return jt.current.useId()};ce.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return jt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};ce.useRef=function(t){return jt.current.useRef(t)};ce.useState=function(t){return jt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return jt.current.useTransition()};ce.version="18.3.1";jv.exports=ce;var L=jv.exports;const W=Nv(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=L,$E=Symbol.for("react.element"),WE=Symbol.for("react.fragment"),HE=Object.prototype.hasOwnProperty,qE=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GE={key:!0,ref:!0,__self:!0,__source:!0};function zv(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HE.call(e,r)&&!GE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:$E,type:t,key:i,ref:o,props:s,_owner:qE.current}}Wu.Fragment=WE;Wu.jsx=zv;Wu.jsxs=zv;Rv.exports=Wu;var c=Rv.exports,$v={exports:{}},Yt={},Wv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,U){var Q=z.length;z.push(U);e:for(;0<Q;){var X=Q-1>>>1,Y=z[X];if(0<s(Y,U))z[X]=U,z[Q]=Y,Q=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],Q=z.pop();if(Q!==U){z[0]=Q;e:for(var X=0,Y=z.length,le=Y>>>1;X<le;){var ie=2*(X+1)-1,Ee=z[ie],Se=ie+1,he=z[Se];if(0>s(Ee,Q))Se<Y&&0>s(he,Ee)?(z[X]=he,z[Se]=Q,X=Se):(z[X]=Ee,z[ie]=Q,X=ie);else if(Se<Y&&0>s(he,Q))z[X]=he,z[Se]=Q,X=Se;else break e}}return U}function s(z,U){var Q=z.sortIndex-U.sortIndex;return Q!==0?Q:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],d=1,p=null,g=3,y=!1,b=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=z)r(h),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(h)}}function R(z){if(S=!1,_(z),!b)if(n(u)!==null)b=!0,ue(V);else{var U=n(h);U!==null&&_e(R,U.startTime-z)}}function V(z,U){b=!1,S&&(S=!1,T(x),x=-1),y=!0;var Q=g;try{for(_(U),p=n(u);p!==null&&(!(p.expirationTime>U)||z&&!I());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var Y=X(p.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(u)&&r(u),_(U)}else r(u);p=n(u)}if(p!==null)var le=!0;else{var ie=n(h);ie!==null&&_e(R,ie.startTime-U),le=!1}return le}finally{p=null,g=Q,y=!1}}var M=!1,A=null,x=-1,E=5,k=-1;function I(){return!(t.unstable_now()-k<E)}function N(){if(A!==null){var z=t.unstable_now();k=z;var U=!0;try{U=A(!0,z)}finally{U?C():(M=!1,A=null)}}else M=!1}var C;if(typeof v=="function")C=function(){v(N)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,we=Z.port2;Z.port1.onmessage=N,C=function(){we.postMessage(null)}}else C=function(){P(N,0)};function ue(z){A=z,M||(M=!0,C())}function _e(z,U){x=P(function(){z(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ue(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Q=g;g=U;try{return z()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=g;g=z;try{return U()}finally{g=Q}},t.unstable_scheduleCallback=function(z,U,Q){var X=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,z={id:d++,callback:U,priorityLevel:z,startTime:Q,expirationTime:Y,sortIndex:-1},Q>X?(z.sortIndex=Q,e(h,z),n(u)===null&&z===n(h)&&(S?(T(x),x=-1):S=!0,_e(R,Q-X))):(z.sortIndex=Y,e(u,z),b||y||(b=!0,ue(V))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var U=g;return function(){var Q=g;g=U;try{return z.apply(this,arguments)}finally{g=Q}}}})(Hv);Wv.exports=Hv;var KE=Wv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=L,Kt=KE;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qv=new Set,Jo={};function Ms(t,e){bi(t,e),bi(t+"Capture",e)}function bi(t,e){for(Jo[t]=e,t=0;t<e.length;t++)qv.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=Object.prototype.hasOwnProperty,YE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rg={},sg={};function XE(t){return Oh.call(sg,t)?!0:Oh.call(rg,t)?!1:YE.test(t)?sg[t]=!0:(rg[t]=!0,!1)}function JE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZE(t,e,n,r){if(e===null||typeof e>"u"||JE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _f=/[\-:]([a-z])/g;function Ef(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_f,Ef);gt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_f,Ef);gt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_f,Ef);gt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tf(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZE(e,n,s,r)&&(n=null),r||s===null?XE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=QE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Kv=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),zh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Qv=Symbol.for("react.offscreen"),ig=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=ig&&t[ig]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Hc;function Ao(t){if(Hc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hc=e&&e[1]||""}return`
`+Hc+t}var qc=!1;function Gc(t,e){if(!t||qc)return"";qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{qc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function eT(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=Gc(t.type,!1),t;case 11:return t=Gc(t.type.render,!1),t;case 1:return t=Gc(t.type,!0),t;default:return""}}function $h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case si:return"Fragment";case ri:return"Portal";case Bh:return"Profiler";case Sf:return"StrictMode";case Uh:return"Suspense";case zh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kv:return(t.displayName||"Context")+".Consumer";case Gv:return(t._context.displayName||"Context")+".Provider";case Af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cf:return e=t.displayName||null,e!==null?e:$h(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return $h(t(e))}catch{}}return null}function tT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(e);case 8:return e===Sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nT(t){var e=Yv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rl(t){t._valueTracker||(t._valueTracker=nT(t))}function Xv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wh(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function og(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jv(t,e){e=e.checked,e!=null&&Tf(t,"checked",e,!1)}function Hh(t,e){Jv(t,e);var n=$r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&qh(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ag(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qh(t,e,n){(e!=="number"||Yl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Co=Array.isArray;function xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$r(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Co(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$r(n)}}function Zv(t,e){var n=$r(e.value),r=$r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sl,t1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(t){rT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vo[e]=Vo[t]})});function n1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Vo.hasOwnProperty(t)&&Vo[t]?(""+e).trim():e+"px"}function r1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=n1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sT=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qh(t,e){if(e){if(sT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Yh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jh=null,wi=null,_i=null;function cg(t){if(t=Pa(t)){if(typeof Jh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Qu(e),Jh(t.stateNode,t.type,e))}}function s1(t){wi?_i?_i.push(t):_i=[t]:wi=t}function i1(){if(wi){var t=wi,e=_i;if(_i=wi=null,cg(t),e)for(t=0;t<e.length;t++)cg(e[t])}}function o1(t,e){return t(e)}function a1(){}var Kc=!1;function l1(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return o1(t,e,n)}finally{Kc=!1,(wi!==null||_i!==null)&&(a1(),i1())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Zh=!1;if(nr)try{var go={};Object.defineProperty(go,"passive",{get:function(){Zh=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Zh=!1}function iT(t,e,n,r,s,i,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Do=!1,Xl=null,Jl=!1,ed=null,oT={onError:function(t){Do=!0,Xl=t}};function aT(t,e,n,r,s,i,o,l,u){Do=!1,Xl=null,iT.apply(oT,arguments)}function lT(t,e,n,r,s,i,o,l,u){if(aT.apply(this,arguments),Do){if(Do){var h=Xl;Do=!1,Xl=null}else throw Error(B(198));Jl||(Jl=!0,ed=h)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function u1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hg(t){if(Ls(t)!==t)throw Error(B(188))}function uT(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hg(s),t;if(i===r)return hg(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function c1(t){return t=uT(t),t!==null?h1(t):null}function h1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h1(t);if(e!==null)return e;t=t.sibling}return null}var d1=Kt.unstable_scheduleCallback,dg=Kt.unstable_cancelCallback,cT=Kt.unstable_shouldYield,hT=Kt.unstable_requestPaint,Ge=Kt.unstable_now,dT=Kt.unstable_getCurrentPriorityLevel,bf=Kt.unstable_ImmediatePriority,f1=Kt.unstable_UserBlockingPriority,Zl=Kt.unstable_NormalPriority,fT=Kt.unstable_LowPriority,p1=Kt.unstable_IdlePriority,Hu=null,Rn=null;function pT(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Hu,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:yT,mT=Math.log,gT=Math.LN2;function yT(t){return t>>>=0,t===0?32:31-(mT(t)/gT|0)|0}var il=64,ol=4194304;function ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ko(l):(i&=o,i!==0&&(r=ko(i)))}else o=n&~s,o!==0?r=ko(o):i!==0&&(r=ko(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),s=1<<n,r|=t[n],e&=~s;return r}function vT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=vT(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function td(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function m1(){var t=il;return il<<=1,!(il&4194240)&&(il=64),t}function Qc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function wT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function If(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function g1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y1,Pf,v1,x1,w1,nd=!1,al=[],br=null,Ir=null,Pr=null,ta=new Map,na=new Map,Tr=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fg(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function yo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pa(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ET(t,e,n,r,s){switch(e){case"focusin":return br=yo(br,t,e,n,r,s),!0;case"dragenter":return Ir=yo(Ir,t,e,n,r,s),!0;case"mouseover":return Pr=yo(Pr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ta.set(i,yo(ta.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,na.set(i,yo(na.get(i)||null,t,e,n,r,s)),!0}return!1}function _1(t){var e=xs(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=u1(n),e!==null){t.blockedOn=e,w1(t.priority,function(){v1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xh=r,n.target.dispatchEvent(r),Xh=null}else return e=Pa(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function pg(t,e,n){Rl(t)&&n.delete(e)}function TT(){nd=!1,br!==null&&Rl(br)&&(br=null),Ir!==null&&Rl(Ir)&&(Ir=null),Pr!==null&&Rl(Pr)&&(Pr=null),ta.forEach(pg),na.forEach(pg)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,nd||(nd=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,TT)))}function ra(t){function e(s){return vo(s,t)}if(0<al.length){vo(al[0],t);for(var n=1;n<al.length;n++){var r=al[n];r.blockedOn===t&&(r.blockedOn=null)}}for(br!==null&&vo(br,t),Ir!==null&&vo(Ir,t),Pr!==null&&vo(Pr,t),ta.forEach(e),na.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)_1(n),n.blockedOn===null&&Tr.shift()}var Ei=cr.ReactCurrentBatchConfig,tu=!0;function ST(t,e,n,r){var s=xe,i=Ei.transition;Ei.transition=null;try{xe=1,Nf(t,e,n,r)}finally{xe=s,Ei.transition=i}}function AT(t,e,n,r){var s=xe,i=Ei.transition;Ei.transition=null;try{xe=4,Nf(t,e,n,r)}finally{xe=s,Ei.transition=i}}function Nf(t,e,n,r){if(tu){var s=rd(t,e,n,r);if(s===null)ih(t,e,r,nu,n),fg(t,r);else if(ET(s,t,e,n,r))r.stopPropagation();else if(fg(t,r),e&4&&-1<_T.indexOf(t)){for(;s!==null;){var i=Pa(s);if(i!==null&&y1(i),i=rd(t,e,n,r),i===null&&ih(t,e,r,nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ih(t,e,r,null,n)}}var nu=null;function rd(t,e,n,r){if(nu=null,t=kf(r),t=xs(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=u1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nu=t,null}function E1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case bf:return 1;case f1:return 4;case Zl:case fT:return 16;case p1:return 536870912;default:return 16}default:return 16}}var Ar=null,Rf=null,jl=null;function T1(){if(jl)return jl;var t,e=Rf,n=e.length,r,s="value"in Ar?Ar.value:Ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return jl=s.slice(t,1<r?1-r:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ll(){return!0}function mg(){return!1}function Xt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ll:mg,this.isPropagationStopped=mg,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),e}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=Xt(Hi),Ia=Oe({},Hi,{view:0,detail:0}),CT=Xt(Ia),Yc,Xc,xo,qu=Oe({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(Yc=t.screenX-xo.screenX,Xc=t.screenY-xo.screenY):Xc=Yc=0,xo=t),Yc)},movementY:function(t){return"movementY"in t?t.movementY:Xc}}),gg=Xt(qu),kT=Oe({},qu,{dataTransfer:0}),bT=Xt(kT),IT=Oe({},Ia,{relatedTarget:0}),Jc=Xt(IT),PT=Oe({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),NT=Xt(PT),RT=Oe({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jT=Xt(RT),VT=Oe({},Hi,{data:0}),yg=Xt(VT),DT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LT[t])?!!e[t]:!1}function Vf(){return FT}var OT=Oe({},Ia,{key:function(t){if(t.key){var e=DT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BT=Xt(OT),UT=Oe({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Xt(UT),zT=Oe({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),$T=Xt(zT),WT=Oe({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),HT=Xt(WT),qT=Oe({},qu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GT=Xt(qT),KT=[9,13,27,32],Df=nr&&"CompositionEvent"in window,Mo=null;nr&&"documentMode"in document&&(Mo=document.documentMode);var QT=nr&&"TextEvent"in window&&!Mo,S1=nr&&(!Df||Mo&&8<Mo&&11>=Mo),xg=String.fromCharCode(32),wg=!1;function A1(t,e){switch(t){case"keyup":return KT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ii=!1;function YT(t,e){switch(t){case"compositionend":return C1(e);case"keypress":return e.which!==32?null:(wg=!0,xg);case"textInput":return t=e.data,t===xg&&wg?null:t;default:return null}}function XT(t,e){if(ii)return t==="compositionend"||!Df&&A1(t,e)?(t=T1(),jl=Rf=Ar=null,ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S1&&e.locale!=="ko"?null:e.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JT[t.type]:e==="textarea"}function k1(t,e,n,r){s1(r),e=ru(e,"onChange"),0<e.length&&(n=new jf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lo=null,sa=null;function ZT(t){F1(t,0)}function Gu(t){var e=li(t);if(Xv(e))return t}function eS(t,e){if(t==="change")return e}var b1=!1;if(nr){var Zc;if(nr){var eh="oninput"in document;if(!eh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),eh=typeof Eg.oninput=="function"}Zc=eh}else Zc=!1;b1=Zc&&(!document.documentMode||9<document.documentMode)}function Tg(){Lo&&(Lo.detachEvent("onpropertychange",I1),sa=Lo=null)}function I1(t){if(t.propertyName==="value"&&Gu(sa)){var e=[];k1(e,sa,t,kf(t)),l1(ZT,e)}}function tS(t,e,n){t==="focusin"?(Tg(),Lo=e,sa=n,Lo.attachEvent("onpropertychange",I1)):t==="focusout"&&Tg()}function nS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(sa)}function rS(t,e){if(t==="click")return Gu(e)}function sS(t,e){if(t==="input"||t==="change")return Gu(e)}function iS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:iS;function ia(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oh.call(e,s)||!_n(t[s],e[s]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,e){var n=Sg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sg(n)}}function P1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N1(){for(var t=window,e=Yl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yl(t.document)}return e}function Mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oS(t){var e=N1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P1(n.ownerDocument.documentElement,n)){if(r!==null&&Mf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ag(n,i);var o=Ag(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aS=nr&&"documentMode"in document&&11>=document.documentMode,oi=null,sd=null,Fo=null,id=!1;function Cg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;id||oi==null||oi!==Yl(r)||(r=oi,"selectionStart"in r&&Mf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fo&&ia(Fo,r)||(Fo=r,r=ru(sd,"onSelect"),0<r.length&&(e=new jf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oi)))}function ul(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ai={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},th={},R1={};nr&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Ku(t){if(th[t])return th[t];if(!ai[t])return t;var e=ai[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R1)return th[t]=e[n];return t}var j1=Ku("animationend"),V1=Ku("animationiteration"),D1=Ku("animationstart"),M1=Ku("transitionend"),L1=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){L1.set(t,e),Ms(e,[t])}for(var nh=0;nh<kg.length;nh++){var rh=kg[nh],lS=rh.toLowerCase(),uS=rh[0].toUpperCase()+rh.slice(1);Zr(lS,"on"+uS)}Zr(j1,"onAnimationEnd");Zr(V1,"onAnimationIteration");Zr(D1,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(M1,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function bg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lT(r,e,void 0,t),t.currentTarget=null}function F1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;bg(s,l,h),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;bg(s,l,h),i=u}}}if(Jl)throw t=ed,Jl=!1,ed=null,t}function Pe(t,e){var n=e[cd];n===void 0&&(n=e[cd]=new Set);var r=t+"__bubble";n.has(r)||(O1(e,t,2,!1),n.add(r))}function sh(t,e,n){var r=0;e&&(r|=4),O1(n,t,r,e)}var cl="_reactListening"+Math.random().toString(36).slice(2);function oa(t){if(!t[cl]){t[cl]=!0,qv.forEach(function(n){n!=="selectionchange"&&(cS.has(n)||sh(n,!1,t),sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cl]||(e[cl]=!0,sh("selectionchange",!1,e))}}function O1(t,e,n,r){switch(E1(e)){case 1:var s=ST;break;case 4:s=AT;break;default:s=Nf}n=s.bind(null,e,n,t),s=void 0,!Zh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ih(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xs(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}l1(function(){var h=i,d=kf(n),p=[];e:{var g=L1.get(t);if(g!==void 0){var y=jf,b=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":y=BT;break;case"focusin":b="focus",y=Jc;break;case"focusout":b="blur",y=Jc;break;case"beforeblur":case"afterblur":y=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$T;break;case j1:case V1:case D1:y=NT;break;case M1:y=HT;break;case"scroll":y=CT;break;case"wheel":y=GT;break;case"copy":case"cut":case"paste":y=jT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vg}var S=(e&4)!==0,P=!S&&t==="scroll",T=S?g!==null?g+"Capture":null:g;S=[];for(var v=h,_;v!==null;){_=v;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,T!==null&&(R=ea(v,T),R!=null&&S.push(aa(v,R,_)))),P)break;v=v.return}0<S.length&&(g=new y(g,b,null,n,d),p.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Xh&&(b=n.relatedTarget||n.fromElement)&&(xs(b)||b[rr]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=h,b=b?xs(b):null,b!==null&&(P=Ls(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=h),y!==b)){if(S=gg,R="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=vg,R="onPointerLeave",T="onPointerEnter",v="pointer"),P=y==null?g:li(y),_=b==null?g:li(b),g=new S(R,v+"leave",y,n,d),g.target=P,g.relatedTarget=_,R=null,xs(d)===h&&(S=new S(T,v+"enter",b,n,d),S.target=_,S.relatedTarget=P,R=S),P=R,y&&b)t:{for(S=y,T=b,v=0,_=S;_;_=Xs(_))v++;for(_=0,R=T;R;R=Xs(R))_++;for(;0<v-_;)S=Xs(S),v--;for(;0<_-v;)T=Xs(T),_--;for(;v--;){if(S===T||T!==null&&S===T.alternate)break t;S=Xs(S),T=Xs(T)}S=null}else S=null;y!==null&&Ig(p,g,y,S,!1),b!==null&&P!==null&&Ig(p,P,b,S,!0)}}e:{if(g=h?li(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var V=eS;else if(_g(g))if(b1)V=sS;else{V=nS;var M=tS}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=rS);if(V&&(V=V(t,h))){k1(p,V,n,d);break e}M&&M(t,g,h),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&qh(g,"number",g.value)}switch(M=h?li(h):window,t){case"focusin":(_g(M)||M.contentEditable==="true")&&(oi=M,sd=h,Fo=null);break;case"focusout":Fo=sd=oi=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Cg(p,n,d);break;case"selectionchange":if(aS)break;case"keydown":case"keyup":Cg(p,n,d)}var A;if(Df)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ii?A1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(S1&&n.locale!=="ko"&&(ii||x!=="onCompositionStart"?x==="onCompositionEnd"&&ii&&(A=T1()):(Ar=d,Rf="value"in Ar?Ar.value:Ar.textContent,ii=!0)),M=ru(h,x),0<M.length&&(x=new yg(x,t,null,n,d),p.push({event:x,listeners:M}),A?x.data=A:(A=C1(n),A!==null&&(x.data=A)))),(A=QT?YT(t,n):XT(t,n))&&(h=ru(h,"onBeforeInput"),0<h.length&&(d=new yg("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=A))}F1(p,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ea(t,n),i!=null&&r.unshift(aa(t,i,s)),i=ea(t,e),i!=null&&r.push(aa(t,i,s))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ig(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,s?(u=ea(n,i),u!=null&&o.unshift(aa(n,u,l))):s||(u=ea(n,i),u!=null&&o.push(aa(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function Pg(t){return(typeof t=="string"?t:""+t).replace(hS,`
`).replace(dS,"")}function hl(t,e,n){if(e=Pg(e),Pg(t)!==e&&n)throw Error(B(425))}function su(){}var od=null,ad=null;function ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(t){return Ng.resolve(null).then(t).catch(mS)}:ud;function mS(t){setTimeout(function(){throw t})}function oh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ra(e)}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+qi,la="__reactProps$"+qi,rr="__reactContainer$"+qi,cd="__reactEvents$"+qi,gS="__reactListeners$"+qi,yS="__reactHandles$"+qi;function xs(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rg(t);t!==null;){if(n=t[Nn])return n;t=Rg(t)}return e}t=n,n=t.parentNode}return null}function Pa(t){return t=t[Nn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Qu(t){return t[la]||null}var hd=[],ui=-1;function es(t){return{current:t}}function Re(t){0>ui||(t.current=hd[ui],hd[ui]=null,ui--)}function ke(t,e){ui++,hd[ui]=t.current,t.current=e}var Wr={},kt=es(Wr),Ot=es(!1),bs=Wr;function Ii(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function iu(){Re(Ot),Re(kt)}function jg(t,e,n){if(kt.current!==Wr)throw Error(B(168));ke(kt,e),ke(Ot,n)}function B1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,tT(t)||"Unknown",s));return Oe({},n,r)}function ou(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,bs=kt.current,ke(kt,t),ke(Ot,Ot.current),!0}function Vg(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=B1(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Re(Ot),Re(kt),ke(kt,t)):Re(Ot),ke(Ot,n)}var Kn=null,Yu=!1,ah=!1;function U1(t){Kn===null?Kn=[t]:Kn.push(t)}function vS(t){Yu=!0,U1(t)}function ts(){if(!ah&&Kn!==null){ah=!0;var t=0,e=xe;try{var n=Kn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Yu=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(t+1)),d1(bf,ts),s}finally{xe=e,ah=!1}}return null}var ci=[],hi=0,au=null,lu=0,tn=[],nn=0,Is=null,Qn=1,Yn="";function fs(t,e){ci[hi++]=lu,ci[hi++]=au,au=t,lu=e}function z1(t,e,n){tn[nn++]=Qn,tn[nn++]=Yn,tn[nn++]=Is,Is=t;var r=Qn;t=Yn;var s=32-vn(r)-1;r&=~(1<<s),n+=1;var i=32-vn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Qn=1<<32-vn(e)+s|n<<s|r,Yn=i+t}else Qn=1<<i|n<<s|r,Yn=t}function Lf(t){t.return!==null&&(fs(t,1),z1(t,1,0))}function Ff(t){for(;t===au;)au=ci[--hi],ci[hi]=null,lu=ci[--hi],ci[hi]=null;for(;t===Is;)Is=tn[--nn],tn[nn]=null,Yn=tn[--nn],tn[nn]=null,Qn=tn[--nn],tn[nn]=null}var Gt=null,qt=null,Ve=!1,gn=null;function $1(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=Nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Is!==null?{id:Qn,overflow:Yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fd(t){if(Ve){var e=qt;if(e){var n=e;if(!Dg(t,e)){if(dd(t))throw Error(B(418));e=Nr(n.nextSibling);var r=Gt;e&&Dg(t,e)?$1(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Gt=t)}}else{if(dd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ve=!1,Gt=t}}}function Mg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function dl(t){if(t!==Gt)return!1;if(!Ve)return Mg(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ld(t.type,t.memoizedProps)),e&&(e=qt)){if(dd(t))throw W1(),Error(B(418));for(;e;)$1(t,e),e=Nr(e.nextSibling)}if(Mg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?Nr(t.stateNode.nextSibling):null;return!0}function W1(){for(var t=qt;t;)t=Nr(t.nextSibling)}function Pi(){qt=Gt=null,Ve=!1}function Of(t){gn===null?gn=[t]:gn.push(t)}var xS=cr.ReactCurrentBatchConfig;function wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function fl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lg(t){var e=t._init;return e(t._payload)}function H1(t){function e(T,v){if(t){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function s(T,v){return T=Dr(T,v),T.index=0,T.sibling=null,T}function i(T,v,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=2,v):_):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,v,_,R){return v===null||v.tag!==6?(v=ph(_,T.mode,R),v.return=T,v):(v=s(v,_),v.return=T,v)}function u(T,v,_,R){var V=_.type;return V===si?d(T,v,_.props.children,R,_.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&Lg(V)===v.type)?(R=s(v,_.props),R.ref=wo(T,v,_),R.return=T,R):(R=Ul(_.type,_.key,_.props,null,T.mode,R),R.ref=wo(T,v,_),R.return=T,R)}function h(T,v,_,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=mh(_,T.mode,R),v.return=T,v):(v=s(v,_.children||[]),v.return=T,v)}function d(T,v,_,R,V){return v===null||v.tag!==7?(v=As(_,T.mode,R,V),v.return=T,v):(v=s(v,_),v.return=T,v)}function p(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ph(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nl:return _=Ul(v.type,v.key,v.props,null,T.mode,_),_.ref=wo(T,null,v),_.return=T,_;case ri:return v=mh(v,T.mode,_),v.return=T,v;case wr:var R=v._init;return p(T,R(v._payload),_)}if(Co(v)||mo(v))return v=As(v,T.mode,_,null),v.return=T,v;fl(T,v)}return null}function g(T,v,_,R){var V=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:l(T,v,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nl:return _.key===V?u(T,v,_,R):null;case ri:return _.key===V?h(T,v,_,R):null;case wr:return V=_._init,g(T,v,V(_._payload),R)}if(Co(_)||mo(_))return V!==null?null:d(T,v,_,R,null);fl(T,_)}return null}function y(T,v,_,R,V){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(_)||null,l(v,T,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case nl:return T=T.get(R.key===null?_:R.key)||null,u(v,T,R,V);case ri:return T=T.get(R.key===null?_:R.key)||null,h(v,T,R,V);case wr:var M=R._init;return y(T,v,_,M(R._payload),V)}if(Co(R)||mo(R))return T=T.get(_)||null,d(v,T,R,V,null);fl(v,R)}return null}function b(T,v,_,R){for(var V=null,M=null,A=v,x=v=0,E=null;A!==null&&x<_.length;x++){A.index>x?(E=A,A=null):E=A.sibling;var k=g(T,A,_[x],R);if(k===null){A===null&&(A=E);break}t&&A&&k.alternate===null&&e(T,A),v=i(k,v,x),M===null?V=k:M.sibling=k,M=k,A=E}if(x===_.length)return n(T,A),Ve&&fs(T,x),V;if(A===null){for(;x<_.length;x++)A=p(T,_[x],R),A!==null&&(v=i(A,v,x),M===null?V=A:M.sibling=A,M=A);return Ve&&fs(T,x),V}for(A=r(T,A);x<_.length;x++)E=y(A,T,x,_[x],R),E!==null&&(t&&E.alternate!==null&&A.delete(E.key===null?x:E.key),v=i(E,v,x),M===null?V=E:M.sibling=E,M=E);return t&&A.forEach(function(I){return e(T,I)}),Ve&&fs(T,x),V}function S(T,v,_,R){var V=mo(_);if(typeof V!="function")throw Error(B(150));if(_=V.call(_),_==null)throw Error(B(151));for(var M=V=null,A=v,x=v=0,E=null,k=_.next();A!==null&&!k.done;x++,k=_.next()){A.index>x?(E=A,A=null):E=A.sibling;var I=g(T,A,k.value,R);if(I===null){A===null&&(A=E);break}t&&A&&I.alternate===null&&e(T,A),v=i(I,v,x),M===null?V=I:M.sibling=I,M=I,A=E}if(k.done)return n(T,A),Ve&&fs(T,x),V;if(A===null){for(;!k.done;x++,k=_.next())k=p(T,k.value,R),k!==null&&(v=i(k,v,x),M===null?V=k:M.sibling=k,M=k);return Ve&&fs(T,x),V}for(A=r(T,A);!k.done;x++,k=_.next())k=y(A,T,x,k.value,R),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?x:k.key),v=i(k,v,x),M===null?V=k:M.sibling=k,M=k);return t&&A.forEach(function(N){return e(T,N)}),Ve&&fs(T,x),V}function P(T,v,_,R){if(typeof _=="object"&&_!==null&&_.type===si&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case nl:e:{for(var V=_.key,M=v;M!==null;){if(M.key===V){if(V=_.type,V===si){if(M.tag===7){n(T,M.sibling),v=s(M,_.props.children),v.return=T,T=v;break e}}else if(M.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&Lg(V)===M.type){n(T,M.sibling),v=s(M,_.props),v.ref=wo(T,M,_),v.return=T,T=v;break e}n(T,M);break}else e(T,M);M=M.sibling}_.type===si?(v=As(_.props.children,T.mode,R,_.key),v.return=T,T=v):(R=Ul(_.type,_.key,_.props,null,T.mode,R),R.ref=wo(T,v,_),R.return=T,T=R)}return o(T);case ri:e:{for(M=_.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(T,v.sibling),v=s(v,_.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=mh(_,T.mode,R),v.return=T,T=v}return o(T);case wr:return M=_._init,P(T,v,M(_._payload),R)}if(Co(_))return b(T,v,_,R);if(mo(_))return S(T,v,_,R);fl(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(T,v.sibling),v=s(v,_),v.return=T,T=v):(n(T,v),v=ph(_,T.mode,R),v.return=T,T=v),o(T)):n(T,v)}return P}var Ni=H1(!0),q1=H1(!1),uu=es(null),cu=null,di=null,Bf=null;function Uf(){Bf=di=cu=null}function zf(t){var e=uu.current;Re(uu),t._currentValue=e}function pd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ti(t,e){cu=t,Bf=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(Bf!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(cu===null)throw Error(B(308));di=t,cu.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var ws=null;function $f(t){ws===null?ws=[t]:ws.push(t)}function G1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$f(e)):(n.next=s.next,s.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _r=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sr(t,n)}return s=r.interleaved,s===null?(e.next=e,$f(r)):(e.next=s.next,s.next=e),r.interleaved=e,sr(t,n)}function Dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}function Fg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hu(t,e,n,r){var s=t.updateQueue;_r=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=h=u=null,l=i;do{var g=l.lane,y=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,S=l;switch(g=e,y=n,S.tag){case 1:if(b=S.payload,typeof b=="function"){p=b.call(y,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,g=typeof b=="function"?b.call(y,p,g):b,g==null)break e;p=Oe({},p,g);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,u=p):d=d.next=y,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=p}}function Og(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Na={},jn=es(Na),ua=es(Na),ca=es(Na);function _s(t){if(t===Na)throw Error(B(174));return t}function Hf(t,e){switch(ke(ca,e),ke(ua,t),ke(jn,Na),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kh(e,t)}Re(jn),ke(jn,e)}function Ri(){Re(jn),Re(ua),Re(ca)}function Q1(t){_s(ca.current);var e=_s(jn.current),n=Kh(e,t.type);e!==n&&(ke(ua,t),ke(jn,n))}function qf(t){ua.current===t&&(Re(jn),Re(ua))}var De=es(0);function du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lh=[];function Gf(){for(var t=0;t<lh.length;t++)lh[t]._workInProgressVersionPrimary=null;lh.length=0}var Ml=cr.ReactCurrentDispatcher,uh=cr.ReactCurrentBatchConfig,Ps=0,Fe=null,nt=null,ct=null,fu=!1,Oo=!1,ha=0,wS=0;function wt(){throw Error(B(321))}function Kf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function Qf(t,e,n,r,s,i){if(Ps=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ml.current=t===null||t.memoizedState===null?SS:AS,t=n(r,s),Oo){i=0;do{if(Oo=!1,ha=0,25<=i)throw Error(B(301));i+=1,ct=nt=null,e.updateQueue=null,Ml.current=CS,t=n(r,s)}while(Oo)}if(Ml.current=pu,e=nt!==null&&nt.next!==null,Ps=0,ct=nt=Fe=null,fu=!1,e)throw Error(B(300));return t}function Yf(){var t=ha!==0;return ha=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Fe.memoizedState=ct=t:ct=ct.next=t,ct}function un(){if(nt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ct===null?Fe.memoizedState:ct.next;if(e!==null)ct=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ct===null?Fe.memoizedState=ct=t:ct=ct.next=t}return ct}function da(t,e){return typeof e=="function"?e(t):e}function ch(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,h=i;do{var d=h.lane;if((Ps&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Fe.lanes|=d,Ns|=d}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=l,_n(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,Ns|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hh(t){var e=un(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_n(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Y1(){}function X1(t,e){var n=Fe,r=un(),s=e(),i=!_n(r.memoizedState,s);if(i&&(r.memoizedState=s,Ft=!0),r=r.queue,Xf(ex.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,fa(9,Z1.bind(null,n,r,s,e),void 0,null),ht===null)throw Error(B(349));Ps&30||J1(n,e,s)}return s}function J1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z1(t,e,n,r){e.value=n,e.getSnapshot=r,tx(e)&&nx(t)}function ex(t,e,n){return n(function(){tx(e)&&nx(t)})}function tx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function nx(t){var e=sr(t,1);e!==null&&xn(e,t,1,-1)}function Bg(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},e.queue=t,t=t.dispatch=TS.bind(null,Fe,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rx(){return un().memoizedState}function Ll(t,e,n,r){var s=In();Fe.flags|=t,s.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function Xu(t,e,n,r){var s=un();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&Kf(r,o.deps)){s.memoizedState=fa(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=fa(1|e,n,i,r)}function Ug(t,e){return Ll(8390656,8,t,e)}function Xf(t,e){return Xu(2048,8,t,e)}function sx(t,e){return Xu(4,2,t,e)}function ix(t,e){return Xu(4,4,t,e)}function ox(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ax(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4,4,ox.bind(null,e,t),n)}function Jf(){}function lx(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ux(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cx(t,e,n){return Ps&21?(_n(n,e)||(n=m1(),Fe.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function _S(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=uh.transition;uh.transition={};try{t(!1),e()}finally{xe=n,uh.transition=r}}function hx(){return un().memoizedState}function ES(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dx(t))fx(e,n);else if(n=G1(t,e,n,r),n!==null){var s=Rt();xn(n,t,r,s),px(n,e,r)}}function TS(t,e,n){var r=Vr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dx(t))fx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_n(l,o)){var u=e.interleaved;u===null?(s.next=s,$f(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=G1(t,e,s,r),n!==null&&(s=Rt(),xn(n,t,r,s),px(n,e,r))}}function dx(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function fx(t,e){Oo=fu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function px(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}var pu={readContext:ln,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},SS={readContext:ln,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Ug,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4194308,4,ox.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ll(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ES.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Bg,useDebugValue:Jf,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Bg(!1),e=t[0];return t=_S.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=In();if(Ve){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ht===null)throw Error(B(349));Ps&30||J1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ug(ex.bind(null,r,i,t),[t]),r.flags|=2048,fa(9,Z1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=In(),e=ht.identifierPrefix;if(Ve){var n=Yn,r=Qn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AS={readContext:ln,useCallback:lx,useContext:ln,useEffect:Xf,useImperativeHandle:ax,useInsertionEffect:sx,useLayoutEffect:ix,useMemo:ux,useReducer:ch,useRef:rx,useState:function(){return ch(da)},useDebugValue:Jf,useDeferredValue:function(t){var e=un();return cx(e,nt.memoizedState,t)},useTransition:function(){var t=ch(da)[0],e=un().memoizedState;return[t,e]},useMutableSource:Y1,useSyncExternalStore:X1,useId:hx,unstable_isNewReconciler:!1},CS={readContext:ln,useCallback:lx,useContext:ln,useEffect:Xf,useImperativeHandle:ax,useInsertionEffect:sx,useLayoutEffect:ix,useMemo:ux,useReducer:hh,useRef:rx,useState:function(){return hh(da)},useDebugValue:Jf,useDeferredValue:function(t){var e=un();return nt===null?e.memoizedState=t:cx(e,nt.memoizedState,t)},useTransition:function(){var t=hh(da)[0],e=un().memoizedState;return[t,e]},useMutableSource:Y1,useSyncExternalStore:X1,useId:hx,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function md(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ju={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Vr(t),i=Jn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Rr(t,i,s),e!==null&&(xn(e,t,s,r),Dl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),s=Vr(t),i=Jn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Rr(t,i,s),e!==null&&(xn(e,t,s,r),Dl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Vr(t),s=Jn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Rr(t,s,r),e!==null&&(xn(e,t,r,n),Dl(e,t,r))}};function zg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ia(n,r)||!ia(s,i):!0}function mx(t,e,n){var r=!1,s=Wr,i=e.contextType;return typeof i=="object"&&i!==null?i=ln(i):(s=Bt(e)?bs:kt.current,r=e.contextTypes,i=(r=r!=null)?Ii(t,s):Wr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ju,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $g(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ju.enqueueReplaceState(e,e.state,null)}function gd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ln(i):(i=Bt(e)?bs:kt.current,s.context=Ii(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(md(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ju.enqueueReplaceState(s,s.state,null),hu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ji(t,e){try{var n="",r=e;do n+=eT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function gx(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gu||(gu=!0,kd=r),yd(t,e)},n}function yx(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){yd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yd(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=US.bind(null,t,e,n),e.then(t,t))}function Hg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var bS=cr.ReactCurrentOwner,Ft=!1;function Nt(t,e,n,r){e.child=t===null?q1(e,null,n,r):Ni(e,t.child,n,r)}function Gg(t,e,n,r,s){n=n.render;var i=e.ref;return Ti(e,s),r=Qf(t,e,n,r,i,s),n=Yf(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Ve&&n&&Lf(e),e.flags|=1,Nt(t,e,r,s),e.child)}function Kg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!op(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vx(t,e,i,r,s)):(t=Ul(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ia,n(o,r)&&t.ref===e.ref)return ir(t,e,s)}return e.flags|=1,t=Dr(i,r),t.ref=e.ref,t.return=e,e.child=t}function vx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ia(i,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,ir(t,e,s)}return vd(t,e,n,r,s)}function xx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(pi,Ht),Ht|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(pi,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(pi,Ht),Ht|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(pi,Ht),Ht|=r;return Nt(t,e,s,n),e.child}function wx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vd(t,e,n,r,s){var i=Bt(n)?bs:kt.current;return i=Ii(e,i),Ti(e,s),n=Qf(t,e,n,r,i,s),r=Yf(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Ve&&r&&Lf(e),e.flags|=1,Nt(t,e,n,s),e.child)}function Qg(t,e,n,r,s){if(Bt(n)){var i=!0;ou(e)}else i=!1;if(Ti(e,s),e.stateNode===null)Fl(t,e),mx(e,n,r),gd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ln(h):(h=Bt(n)?bs:kt.current,h=Ii(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&$g(e,o,r,h),_r=!1;var g=e.memoizedState;o.state=g,hu(e,r,o,s),u=e.memoizedState,l!==r||g!==u||Ot.current||_r?(typeof d=="function"&&(md(e,n,d,r),u=e.memoizedState),(l=_r||zg(e,n,l,r,g,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K1(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:pn(e.type,l),o.props=h,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ln(u):(u=Bt(n)?bs:kt.current,u=Ii(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&$g(e,o,r,u),_r=!1,g=e.memoizedState,o.state=g,hu(e,r,o,s);var b=e.memoizedState;l!==p||g!==b||Ot.current||_r?(typeof y=="function"&&(md(e,n,y,r),b=e.memoizedState),(h=_r||zg(e,n,h,r,g,b,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return xd(t,e,n,r,i,s)}function xd(t,e,n,r,s,i){wx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Vg(e,n,!1),ir(t,e,i);r=e.stateNode,bS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ni(e,t.child,null,i),e.child=Ni(e,null,l,i)):Nt(t,e,l,i),e.memoizedState=r.state,s&&Vg(e,n,!0),e.child}function _x(t){var e=t.stateNode;e.pendingContext?jg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jg(t,e.context,!1),Hf(t,e.containerInfo)}function Yg(t,e,n,r,s){return Pi(),Of(s),e.flags|=256,Nt(t,e,n,r),e.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function _d(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ex(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(De,s&1),t===null)return fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tc(o,r,0,null),t=As(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_d(n),e.memoizedState=wd,t):Zf(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return IS(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Dr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Dr(l,i):(i=As(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_d(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=wd,r}return i=t.child,t=i.sibling,r=Dr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zf(t,e){return e=tc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pl(t,e,n,r){return r!==null&&Of(r),Ni(e,t.child,null,n),t=Zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dh(Error(B(422))),pl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tc({mode:"visible",children:r.children},s,0,null),i=As(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ni(e,t.child,null,o),e.child.memoizedState=_d(o),e.memoizedState=wd,i);if(!(e.mode&1))return pl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=dh(i,r,void 0),pl(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ft||l){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sr(t,s),xn(r,t,s,-1))}return ip(),r=dh(Error(B(421))),pl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qt=Nr(s.nextSibling),Gt=e,Ve=!0,gn=null,t!==null&&(tn[nn++]=Qn,tn[nn++]=Yn,tn[nn++]=Is,Qn=t.id,Yn=t.overflow,Is=e),e=Zf(e,r.children),e.flags|=4096,e)}function Xg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pd(t.return,e,n)}function fh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,n,e);else if(t.tag===19)Xg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&du(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&du(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fh(e,!0,n,null,i);break;case"together":fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PS(t,e,n){switch(e.tag){case 3:_x(e),Pi();break;case 5:Q1(e);break;case 1:Bt(e.type)&&ou(e);break;case 4:Hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?Ex(t,e,n):(ke(De,De.current&1),t=ir(t,e,n),t!==null?t.sibling:null);ke(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,xx(t,e,n)}return ir(t,e,n)}var Sx,Ed,Ax,Cx;Sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ed=function(){};Ax=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_s(jn.current);var i=null;switch(n){case"input":s=Wh(t,s),r=Wh(t,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Gh(t,s),r=Gh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}Qh(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Jo.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(l=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Pe("scroll",t),i||l===u||(i=[])):(i=i||[]).push(h,u))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};Cx=function(t,e,n,r){n!==r&&(e.flags|=4)};function _o(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NS(t,e,n){var r=e.pendingProps;switch(Ff(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Bt(e.type)&&iu(),_t(e),null;case 3:return r=e.stateNode,Ri(),Re(Ot),Re(kt),Gf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Pd(gn),gn=null))),Ed(t,e),_t(e),null;case 5:qf(e);var s=_s(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)Ax(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=_s(jn.current),dl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[la]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<bo.length;s++)Pe(bo[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":og(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":lg(r,i),Pe("invalid",r)}Qh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hl(r.textContent,l,t),s=["children",""+l]):Jo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":rl(r),ag(r,i,!0);break;case"textarea":rl(r),ug(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=su)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[la]=r,Sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yh(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bo.length;s++)Pe(bo[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":og(t,r),s=Wh(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":lg(t,r),s=Gh(t,r),Pe("invalid",t);break;default:s=r}Qh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?r1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&t1(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Zo(t,u):typeof u=="number"&&Zo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Pe("scroll",t):u!=null&&Tf(t,i,u,o))}switch(n){case"input":rl(t),ag(t,r,!1);break;case"textarea":rl(t),ug(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$r(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Cx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=_s(ca.current),_s(jn.current),dl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return _t(e),null;case 13:if(Re(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&qt!==null&&e.mode&1&&!(e.flags&128))W1(),Pi(),e.flags|=98560,i=!1;else if(i=dl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Nn]=e}else Pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else gn!==null&&(Pd(gn),gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?rt===0&&(rt=3):ip())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Ri(),Ed(t,e),t===null&&oa(e.stateNode.containerInfo),_t(e),null;case 10:return zf(e.type._context),_t(e),null;case 17:return Bt(e.type)&&iu(),_t(e),null;case 19:if(Re(De),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_o(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=du(t),o!==null){for(e.flags|=128,_o(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Vi&&(e.flags|=128,r=!0,_o(i,!1),e.lanes=4194304)}else{if(!r)if(t=du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ve)return _t(e),null}else 2*Ge()-i.renderingStartTime>Vi&&n!==1073741824&&(e.flags|=128,r=!0,_o(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=De.current,ke(De,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return sp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function RS(t,e){switch(Ff(e),e.tag){case 1:return Bt(e.type)&&iu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),Re(Ot),Re(kt),Gf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qf(e),null;case 13:if(Re(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(De),null;case 4:return Ri(),null;case 10:return zf(e.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var ml=!1,At=!1,jS=typeof WeakSet=="function"?WeakSet:Set,K=null;function fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Td(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Jg=!1;function VS(t,e){if(od=tu,t=N1(),Mf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,d=0,p=t,g=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++h===s&&(l=o),g===i&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:t,selectionRange:n},tu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,P=b.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:pn(e.type,S),P);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(R){ze(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return b=Jg,Jg=!1,b}function Bo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Td(e,n,i)}s=s.next}while(s!==r)}}function Zu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kx(t){var e=t.alternate;e!==null&&(t.alternate=null,kx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[la],delete e[cd],delete e[gS],delete e[yS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bx(t){return t.tag===5||t.tag===3||t.tag===4}function Zg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(Ad(t,e,n),t=t.sibling;t!==null;)Ad(t,e,n),t=t.sibling}function Cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cd(t,e,n),t=t.sibling;t!==null;)Cd(t,e,n),t=t.sibling}var dt=null,mn=!1;function yr(t,e,n){for(n=n.child;n!==null;)Ix(t,e,n),n=n.sibling}function Ix(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Hu,n)}catch{}switch(n.tag){case 5:At||fi(n,e);case 6:var r=dt,s=mn;dt=null,yr(t,e,n),dt=r,mn=s,dt!==null&&(mn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(mn?(t=dt,n=n.stateNode,t.nodeType===8?oh(t.parentNode,n):t.nodeType===1&&oh(t,n),ra(t)):oh(dt,n.stateNode));break;case 4:r=dt,s=mn,dt=n.stateNode.containerInfo,mn=!0,yr(t,e,n),dt=r,mn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Td(n,e,o),s=s.next}while(s!==r)}yr(t,e,n);break;case 1:if(!At&&(fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,e,l)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,yr(t,e,n),At=r):yr(t,e,n);break;default:yr(t,e,n)}}function ey(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jS),e.forEach(function(r){var s=$S.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,mn=!1;break e;case 3:dt=l.stateNode.containerInfo,mn=!0;break e;case 4:dt=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(dt===null)throw Error(B(160));Ix(i,o,s),dt=null,mn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){ze(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Px(e,t),e=e.sibling}function Px(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),bn(t),r&4){try{Bo(3,t,t.return),Zu(3,t)}catch(S){ze(t,t.return,S)}try{Bo(5,t,t.return)}catch(S){ze(t,t.return,S)}}break;case 1:dn(e,t),bn(t),r&512&&n!==null&&fi(n,n.return);break;case 5:if(dn(e,t),bn(t),r&512&&n!==null&&fi(n,n.return),t.flags&32){var s=t.stateNode;try{Zo(s,"")}catch(S){ze(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jv(s,i),Yh(l,o);var h=Yh(l,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?r1(s,p):d==="dangerouslySetInnerHTML"?t1(s,p):d==="children"?Zo(s,p):Tf(s,d,p,h)}switch(l){case"input":Hh(s,i);break;case"textarea":Zv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?xi(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?xi(s,!!i.multiple,i.defaultValue,!0):xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[la]=i}catch(S){ze(t,t.return,S)}}break;case 6:if(dn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){ze(t,t.return,S)}}break;case 3:if(dn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(S){ze(t,t.return,S)}break;case 4:dn(e,t),bn(t);break;case 13:dn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(np=Ge())),r&4&&ey(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(At=(h=At)||d,dn(e,t),At=h):dn(e,t),bn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(p=K=d;K!==null;){switch(g=K,y=g.child,g.tag){case 0:case 11:case 14:case 15:Bo(4,g,g.return);break;case 1:fi(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(S){ze(r,n,S)}}break;case 5:fi(g,g.return);break;case 22:if(g.memoizedState!==null){ny(p);continue}}y!==null?(y.return=g,K=y):ny(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=n1("display",o))}catch(S){ze(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(S){ze(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dn(e,t),bn(t),r&4&&ey(t);break;case 21:break;default:dn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zo(s,""),r.flags&=-33);var i=Zg(t);Cd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Zg(t);Ad(t,l,o);break;default:throw Error(B(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DS(t,e,n){K=t,Nx(t)}function Nx(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ml;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||At;l=ml;var h=At;if(ml=o,(At=u)&&!h)for(K=s;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?ry(s):u!==null?(u.return=o,K=u):ry(s);for(;i!==null;)K=i,Nx(i),i=i.sibling;K=s,ml=l,At=h}ty(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):ty(t)}}function ty(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Zu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Og(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Og(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ra(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}At||e.flags&512&&Sd(e)}catch(g){ze(e,e.return,g)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function ny(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function ry(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zu(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ze(e,s,u)}}var i=e.return;try{Sd(e)}catch(u){ze(e,i,u)}break;case 5:var o=e.return;try{Sd(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var MS=Math.ceil,mu=cr.ReactCurrentDispatcher,ep=cr.ReactCurrentOwner,an=cr.ReactCurrentBatchConfig,ye=0,ht=null,Ye=null,mt=0,Ht=0,pi=es(0),rt=0,pa=null,Ns=0,ec=0,tp=0,Uo=null,Lt=null,np=0,Vi=1/0,Gn=null,gu=!1,kd=null,jr=null,gl=!1,Cr=null,yu=0,zo=0,bd=null,Ol=-1,Bl=0;function Rt(){return ye&6?Ge():Ol!==-1?Ol:Ol=Ge()}function Vr(t){return t.mode&1?ye&2&&mt!==0?mt&-mt:xS.transition!==null?(Bl===0&&(Bl=m1()),Bl):(t=xe,t!==0||(t=window.event,t=t===void 0?16:E1(t.type)),t):1}function xn(t,e,n,r){if(50<zo)throw zo=0,bd=null,Error(B(185));ba(t,n,r),(!(ye&2)||t!==ht)&&(t===ht&&(!(ye&2)&&(ec|=n),rt===4&&Sr(t,mt)),Ut(t,r),n===1&&ye===0&&!(e.mode&1)&&(Vi=Ge()+500,Yu&&ts()))}function Ut(t,e){var n=t.callbackNode;xT(t,e);var r=eu(t,t===ht?mt:0);if(r===0)n!==null&&dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dg(n),e===1)t.tag===0?vS(sy.bind(null,t)):U1(sy.bind(null,t)),pS(function(){!(ye&6)&&ts()}),n=null;else{switch(g1(r)){case 1:n=bf;break;case 4:n=f1;break;case 16:n=Zl;break;case 536870912:n=p1;break;default:n=Zl}n=Ox(n,Rx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rx(t,e){if(Ol=-1,Bl=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(Si()&&t.callbackNode!==n)return null;var r=eu(t,t===ht?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vu(t,r);else{e=r;var s=ye;ye|=2;var i=Vx();(ht!==t||mt!==e)&&(Gn=null,Vi=Ge()+500,Ss(t,e));do try{OS();break}catch(l){jx(t,l)}while(1);Uf(),mu.current=i,ye=s,Ye!==null?e=0:(ht=null,mt=0,e=rt)}if(e!==0){if(e===2&&(s=td(t),s!==0&&(r=s,e=Id(t,s))),e===1)throw n=pa,Ss(t,0),Sr(t,r),Ut(t,Ge()),n;if(e===6)Sr(t,r);else{if(s=t.current.alternate,!(r&30)&&!LS(s)&&(e=vu(t,r),e===2&&(i=td(t),i!==0&&(r=i,e=Id(t,i))),e===1))throw n=pa,Ss(t,0),Sr(t,r),Ut(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ps(t,Lt,Gn);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=np+500-Ge(),10<e)){if(eu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ud(ps.bind(null,t,Lt,Gn),e);break}ps(t,Lt,Gn);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-vn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MS(r/1960))-r,10<r){t.timeoutHandle=ud(ps.bind(null,t,Lt,Gn),r);break}ps(t,Lt,Gn);break;case 5:ps(t,Lt,Gn);break;default:throw Error(B(329))}}}return Ut(t,Ge()),t.callbackNode===n?Rx.bind(null,t):null}function Id(t,e){var n=Uo;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=vu(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Pd(e)),t}function Pd(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function LS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_n(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~tp,e&=~ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function sy(t){if(ye&6)throw Error(B(327));Si();var e=eu(t,0);if(!(e&1))return Ut(t,Ge()),null;var n=vu(t,e);if(t.tag!==0&&n===2){var r=td(t);r!==0&&(e=r,n=Id(t,r))}if(n===1)throw n=pa,Ss(t,0),Sr(t,e),Ut(t,Ge()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,Lt,Gn),Ut(t,Ge()),null}function rp(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Vi=Ge()+500,Yu&&ts())}}function Rs(t){Cr!==null&&Cr.tag===0&&!(ye&6)&&Si();var e=ye;ye|=1;var n=an.transition,r=xe;try{if(an.transition=null,xe=1,t)return t()}finally{xe=r,an.transition=n,ye=e,!(ye&6)&&ts()}}function sp(){Ht=pi.current,Re(pi)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fS(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Ff(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&iu();break;case 3:Ri(),Re(Ot),Re(kt),Gf();break;case 5:qf(r);break;case 4:Ri();break;case 13:Re(De);break;case 19:Re(De);break;case 10:zf(r.type._context);break;case 22:case 23:sp()}n=n.return}if(ht=t,Ye=t=Dr(t.current,null),mt=Ht=e,rt=0,pa=null,tp=ec=Ns=0,Lt=Uo=null,ws!==null){for(e=0;e<ws.length;e++)if(n=ws[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ws=null}return t}function jx(t,e){do{var n=Ye;try{if(Uf(),Ml.current=pu,fu){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fu=!1}if(Ps=0,ct=nt=Fe=null,Oo=!1,ha=0,ep.current=null,n===null||n.return===null){rt=1,pa=e,Ye=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Hg(o);if(y!==null){y.flags&=-257,qg(y,o,l,i,e),y.mode&1&&Wg(i,h,e),e=y,u=h;var b=e.updateQueue;if(b===null){var S=new Set;S.add(u),e.updateQueue=S}else b.add(u);break e}else{if(!(e&1)){Wg(i,h,e),ip();break e}u=Error(B(426))}}else if(Ve&&l.mode&1){var P=Hg(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),qg(P,o,l,i,e),Of(ji(u,l));break e}}i=u=ji(u,l),rt!==4&&(rt=2),Uo===null?Uo=[i]:Uo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=gx(i,u,e);Fg(i,T);break e;case 1:l=u;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jr===null||!jr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=yx(i,l,e);Fg(i,R);break e}}i=i.return}while(i!==null)}Mx(n)}catch(V){e=V,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function Vx(){var t=mu.current;return mu.current=pu,t===null?pu:t}function ip(){(rt===0||rt===3||rt===2)&&(rt=4),ht===null||!(Ns&268435455)&&!(ec&268435455)||Sr(ht,mt)}function vu(t,e){var n=ye;ye|=2;var r=Vx();(ht!==t||mt!==e)&&(Gn=null,Ss(t,e));do try{FS();break}catch(s){jx(t,s)}while(1);if(Uf(),ye=n,mu.current=r,Ye!==null)throw Error(B(261));return ht=null,mt=0,rt}function FS(){for(;Ye!==null;)Dx(Ye)}function OS(){for(;Ye!==null&&!cT();)Dx(Ye)}function Dx(t){var e=Fx(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?Mx(t):Ye=e,ep.current=null}function Mx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RS(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ye=null;return}}else if(n=NS(n,e,Ht),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);rt===0&&(rt=5)}function ps(t,e,n){var r=xe,s=an.transition;try{an.transition=null,xe=1,BS(t,e,n,r)}finally{an.transition=s,xe=r}return null}function BS(t,e,n,r){do Si();while(Cr!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wT(t,i),t===ht&&(Ye=ht=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,Ox(Zl,function(){return Si(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var o=xe;xe=1;var l=ye;ye|=4,ep.current=null,VS(t,n),Px(n,t),oS(ad),tu=!!od,ad=od=null,t.current=n,DS(n),hT(),ye=l,xe=o,an.transition=i}else t.current=n;if(gl&&(gl=!1,Cr=t,yu=s),i=t.pendingLanes,i===0&&(jr=null),pT(n.stateNode),Ut(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gu)throw gu=!1,t=kd,kd=null,t;return yu&1&&t.tag!==0&&Si(),i=t.pendingLanes,i&1?t===bd?zo++:(zo=0,bd=t):zo=0,ts(),null}function Si(){if(Cr!==null){var t=g1(yu),e=an.transition,n=xe;try{if(an.transition=null,xe=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,yu=0,ye&6)throw Error(B(331));var s=ye;for(ye|=4,K=t.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(K=h;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Bo(8,d,i)}var p=d.child;if(p!==null)p.return=d,K=p;else for(;K!==null;){d=K;var g=d.sibling,y=d.return;if(kx(d),d===h){K=null;break}if(g!==null){g.return=y,K=g;break}K=y}}}var b=i.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bo(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,K=T;break e}K=i.return}}var v=t.current;for(K=v;K!==null;){o=K;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,K=_;else e:for(o=v;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zu(9,l)}}catch(V){ze(l,l.return,V)}if(l===o){K=null;break e}var R=l.sibling;if(R!==null){R.return=l.return,K=R;break e}K=l.return}}if(ye=s,ts(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Hu,t)}catch{}r=!0}return r}finally{xe=n,an.transition=e}}return!1}function iy(t,e,n){e=ji(n,e),e=gx(t,e,1),t=Rr(t,e,1),e=Rt(),t!==null&&(ba(t,1,e),Ut(t,e))}function ze(t,e,n){if(t.tag===3)iy(t,t,n);else for(;e!==null;){if(e.tag===3){iy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=ji(n,t),t=yx(e,t,1),e=Rr(e,t,1),t=Rt(),e!==null&&(ba(e,1,t),Ut(e,t));break}}e=e.return}}function US(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(mt&n)===n&&(rt===4||rt===3&&(mt&130023424)===mt&&500>Ge()-np?Ss(t,0):tp|=n),Ut(t,e)}function Lx(t,e){e===0&&(t.mode&1?(e=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):e=1);var n=Rt();t=sr(t,e),t!==null&&(ba(t,e,n),Ut(t,n))}function zS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lx(t,n)}function $S(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Lx(t,n)}var Fx;Fx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,PS(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ve&&e.flags&1048576&&z1(e,lu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fl(t,e),t=e.pendingProps;var s=Ii(e,kt.current);Ti(e,n),s=Qf(null,e,r,t,s,n);var i=Yf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,ou(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wf(e),s.updater=Ju,e.stateNode=s,s._reactInternals=e,gd(e,r,t,n),e=xd(null,e,r,!0,i,n)):(e.tag=0,Ve&&i&&Lf(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HS(r),t=pn(r,t),s){case 0:e=vd(null,e,r,t,n);break e;case 1:e=Qg(null,e,r,t,n);break e;case 11:e=Gg(null,e,r,t,n);break e;case 14:e=Kg(null,e,r,pn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),vd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Qg(t,e,r,s,n);case 3:e:{if(_x(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,K1(t,e),hu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ji(Error(B(423)),e),e=Yg(t,e,r,n,s);break e}else if(r!==s){s=ji(Error(B(424)),e),e=Yg(t,e,r,n,s);break e}else for(qt=Nr(e.stateNode.containerInfo.firstChild),Gt=e,Ve=!0,gn=null,n=q1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),r===s){e=ir(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return Q1(e),t===null&&fd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ld(r,s)?o=null:i!==null&&ld(r,i)&&(e.flags|=32),wx(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&fd(e),null;case 13:return Ex(t,e,n);case 4:return Hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ni(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Gg(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(uu,r._currentValue),r._currentValue=o,i!==null)if(_n(i.value,o)){if(i.children===s.children&&!Ot.current){e=ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Jn(-1,n&-n),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),pd(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ti(e,n),s=ln(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=pn(r,e.pendingProps),s=pn(r.type,s),Kg(t,e,r,s,n);case 15:return vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Fl(t,e),e.tag=1,Bt(r)?(t=!0,ou(e)):t=!1,Ti(e,n),mx(e,r,s),gd(e,r,s,n),xd(null,e,r,!0,t,n);case 19:return Tx(t,e,n);case 22:return xx(t,e,n)}throw Error(B(156,e.tag))};function Ox(t,e){return d1(t,e)}function WS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new WS(t,e,n,r)}function op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HS(t){if(typeof t=="function")return op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Af)return 11;if(t===Cf)return 14}return 2}function Dr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ul(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")op(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case si:return As(n.children,s,i,e);case Sf:o=8,s|=8;break;case Bh:return t=on(12,n,e,s|2),t.elementType=Bh,t.lanes=i,t;case Uh:return t=on(13,n,e,s),t.elementType=Uh,t.lanes=i,t;case zh:return t=on(19,n,e,s),t.elementType=zh,t.lanes=i,t;case Qv:return tc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gv:o=10;break e;case Kv:o=9;break e;case Af:o=11;break e;case Cf:o=14;break e;case wr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=on(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function As(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function tc(t,e,n,r){return t=on(22,t,r,e),t.elementType=Qv,t.lanes=n,t.stateNode={isHidden:!1},t}function ph(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function mh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ap(t,e,n,r,s,i,o,l,u){return t=new qS(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(i),t}function GS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bx(t){if(!t)return Wr;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Bt(n))return B1(t,n,e)}return e}function Ux(t,e,n,r,s,i,o,l,u){return t=ap(n,r,!0,t,s,i,o,l,u),t.context=Bx(null),n=t.current,r=Rt(),s=Vr(n),i=Jn(r,s),i.callback=e??null,Rr(n,i,s),t.current.lanes=s,ba(t,s,r),Ut(t,r),t}function nc(t,e,n,r){var s=e.current,i=Rt(),o=Vr(s);return n=Bx(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(s,e,o),t!==null&&(xn(t,s,o,i),Dl(t,s,o)),o}function xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lp(t,e){oy(t,e),(t=t.alternate)&&oy(t,e)}function KS(){return null}var zx=typeof reportError=="function"?reportError:function(t){console.error(t)};function up(t){this._internalRoot=t}rc.prototype.render=up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));nc(t,e,null,null)};rc.prototype.unmount=up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){nc(null,t,null,null)}),e[rr]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=x1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&_1(t)}};function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ay(){}function QS(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=xu(o);i.call(h)}}var o=Ux(e,r,t,0,null,!1,!1,"",ay);return t._reactRootContainer=o,t[rr]=o.current,oa(t.nodeType===8?t.parentNode:t),Rs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var h=xu(u);l.call(h)}}var u=ap(t,0,!1,null,null,!1,!1,"",ay);return t._reactRootContainer=u,t[rr]=u.current,oa(t.nodeType===8?t.parentNode:t),Rs(function(){nc(e,u,n,r)}),u}function ic(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=xu(o);l.call(u)}}nc(e,o,t,s)}else o=QS(n,e,t,s,r);return xu(o)}y1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ko(e.pendingLanes);n!==0&&(If(e,n|1),Ut(e,Ge()),!(ye&6)&&(Vi=Ge()+500,ts()))}break;case 13:Rs(function(){var r=sr(t,1);if(r!==null){var s=Rt();xn(r,t,1,s)}}),lp(t,1)}};Pf=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=Rt();xn(e,t,134217728,n)}lp(t,134217728)}};v1=function(t){if(t.tag===13){var e=Vr(t),n=sr(t,e);if(n!==null){var r=Rt();xn(n,t,e,r)}lp(t,e)}};x1=function(){return xe};w1=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Jh=function(t,e,n){switch(e){case"input":if(Hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qu(r);if(!s)throw Error(B(90));Xv(r),Hh(r,s)}}}break;case"textarea":Zv(t,n);break;case"select":e=n.value,e!=null&&xi(t,!!n.multiple,e,!1)}};o1=rp;a1=Rs;var YS={usingClientEntryPoint:!1,Events:[Pa,li,Qu,s1,i1,rp]},Eo={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XS={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c1(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||KS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Hu=yl.inject(XS),Rn=yl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(e))throw Error(B(200));return GS(t,e,null,n)};Yt.createRoot=function(t,e){if(!cp(t))throw Error(B(299));var n=!1,r="",s=zx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ap(t,1,!1,null,null,n,!1,r,s),t[rr]=e.current,oa(t.nodeType===8?t.parentNode:t),new up(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=c1(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Rs(t)};Yt.hydrate=function(t,e,n){if(!sc(e))throw Error(B(200));return ic(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!cp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ux(e,null,t,1,n??null,s,!1,i,o),t[rr]=e.current,oa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rc(e)};Yt.render=function(t,e,n){if(!sc(e))throw Error(B(200));return ic(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!sc(t))throw Error(B(40));return t._reactRootContainer?(Rs(function(){ic(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};Yt.unstable_batchedUpdates=rp;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ic(t,e,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function $x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($x)}catch(t){console.error(t)}}$x(),$v.exports=Yt;var Wx=$v.exports;const JS=Nv(Wx);var Hx,ly=Wx;Hx=ly.createRoot,ly.hydrateRoot;function yt({children:t,title:e,showBack:n,onBack:r}){return c.jsx("div",{className:"bg-white w-full min-h-screen md:min-h-0 md:h-auto flex flex-col md:block",children:c.jsx("div",{className:"flex-1",children:t})})}const qx=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),oc=L.createContext({}),ac=L.createContext(null),lc=typeof document<"u",hp=lc?L.useLayoutEffect:L.useEffect,Gx=L.createContext({strict:!1}),dp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ZS="framerAppearId",Kx="data-"+dp(ZS);function eA(t,e,n,r){const{visualElement:s}=L.useContext(oc),i=L.useContext(Gx),o=L.useContext(ac),l=L.useContext(qx).reducedMotion,u=L.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=u.current;L.useInsertionEffect(()=>{h&&h.update(n,o)});const d=L.useRef(!!(n[Kx]&&!window.HandoffComplete));return hp(()=>{h&&(h.render(),d.current&&h.animationState&&h.animationState.animateChanges())}),L.useEffect(()=>{h&&(h.updateFeatures(),!d.current&&h.animationState&&h.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),h}function mi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tA(t,e,n){return L.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mi(n)&&(n.current=r))},[e])}function ma(t){return typeof t=="string"||Array.isArray(t)}function uc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pp=["initial",...fp];function cc(t){return uc(t.animate)||pp.some(e=>ma(t[e]))}function Qx(t){return!!(cc(t)||t.variants)}function nA(t,e){if(cc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ma(n)?n:void 0,animate:ma(r)?r:void 0}}return t.inherit!==!1?e:{}}function rA(t){const{initial:e,animate:n}=nA(t,L.useContext(oc));return L.useMemo(()=>({initial:e,animate:n}),[uy(e),uy(n)])}function uy(t){return Array.isArray(t)?t.join(" "):t}const cy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ga={};for(const t in cy)ga[t]={isEnabled:e=>cy[t].some(n=>!!e[n])};function sA(t){for(const e in t)ga[e]={...ga[e],...t[e]}}const mp=L.createContext({}),Yx=L.createContext({}),iA=Symbol.for("motionComponentSymbol");function oA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&sA(t);function i(l,u){let h;const d={...L.useContext(qx),...l,layoutId:aA(l)},{isStatic:p}=d,g=rA(l),y=r(l,p);if(!p&&lc){g.visualElement=eA(s,y,d,e);const b=L.useContext(Yx),S=L.useContext(Gx).strict;g.visualElement&&(h=g.visualElement.loadFeatures(d,S,t,b))}return L.createElement(oc.Provider,{value:g},h&&g.visualElement?L.createElement(h,{visualElement:g.visualElement,...d}):null,n(s,l,tA(y,g.visualElement,u),y,p,g.visualElement))}const o=L.forwardRef(i);return o[iA]=s,o}function aA({layoutId:t}){const e=L.useContext(mp).id;return e&&t!==void 0?e+"-"+t:t}function lA(t){function e(r,s={}){return oA(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const uA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gp(t){return typeof t!="string"||t.includes("-")?!1:!!(uA.indexOf(t)>-1||/[A-Z]/.test(t))}const wu={};function cA(t){Object.assign(wu,t)}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fs=new Set(Ra);function Xx(t,{layout:e,layoutId:n}){return Fs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wu[t]||t==="opacity")}const zt=t=>!!(t&&t.getVelocity),hA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dA=Ra.length;function fA(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<dA;o++){const l=Ra[o];if(t[l]!==void 0){const u=hA[l]||l;i+=`${u}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const Jx=t=>e=>typeof e=="string"&&e.startsWith(t),Zx=Jx("--"),Nd=Jx("var(--"),pA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hr=(t,e,n)=>Math.min(Math.max(n,t),e),Os={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$o={...Os,transform:t=>Hr(0,1,t)},vl={...Os,default:1},Wo=t=>Math.round(t*1e5)/1e5,hc=/(-)?([\d]*\.?[\d])+/g,ew=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,gA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ja(t){return typeof t=="string"}const Va=t=>({test:e=>ja(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=Va("deg"),Vn=Va("%"),te=Va("px"),yA=Va("vh"),vA=Va("vw"),hy={...Vn,parse:t=>Vn.parse(t)/100,transform:t=>Vn.transform(t*100)},dy={...Os,transform:Math.round},tw={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:vl,scaleX:vl,scaleY:vl,scaleZ:vl,skew:xr,skewX:xr,skewY:xr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:$o,originX:hy,originY:hy,originZ:te,zIndex:dy,fillOpacity:$o,strokeOpacity:$o,numOctaves:dy};function yp(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:l}=t;let u=!1,h=!1,d=!0;for(const p in e){const g=e[p];if(Zx(p)){i[p]=g;continue}const y=tw[p],b=mA(g,y);if(Fs.has(p)){if(u=!0,o[p]=b,!d)continue;g!==(y.default||0)&&(d=!1)}else p.startsWith("origin")?(h=!0,l[p]=b):s[p]=b}if(e.transform||(u||r?s.transform=fA(t.transform,n,d,r):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${g} ${y}`}}const vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nw(t,e,n){for(const r in e)!zt(e[r])&&!Xx(r,n)&&(t[r]=e[r])}function xA({transformTemplate:t},e,n){return L.useMemo(()=>{const r=vp();return yp(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function wA(t,e,n){const r=t.style||{},s={};return nw(s,r,t),Object.assign(s,xA(t,e,n)),t.transformValues?t.transformValues(s):s}function _A(t,e,n){const r={},s=wA(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const EA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _u(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EA.has(t)}let rw=t=>!_u(t);function TA(t){t&&(rw=e=>e.startsWith("on")?!_u(e):t(e))}try{TA(require("@emotion/is-prop-valid").default)}catch{}function SA(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rw(s)||n===!0&&_u(s)||!e&&!_u(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function fy(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function AA(t,e,n){const r=fy(e,t.x,t.width),s=fy(n,t.y,t.height);return`${r} ${s}`}const CA={offset:"stroke-dashoffset",array:"stroke-dasharray"},kA={offset:"strokeDashoffset",array:"strokeDasharray"};function bA(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?CA:kA;t[i.offset]=te.transform(-r);const o=te.transform(e),l=te.transform(n);t[i.array]=`${o} ${l}`}function xp(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},d,p,g){if(yp(t,h,d,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:S}=t;y.transform&&(S&&(b.transform=y.transform),delete y.transform),S&&(s!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=AA(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&bA(y,o,l,u,!1)}const sw=()=>({...vp(),attrs:{}}),wp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IA(t,e,n,r){const s=L.useMemo(()=>{const i=sw();return xp(i,e,{enableHardwareAcceleration:!1},wp(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};nw(i,t.style,t),s.style={...i,...s.style}}return s}function PA(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(gp(n)?IA:_A)(r,i,o,n),d={...SA(r,typeof n=="string",t),...u,ref:s},{children:p}=r,g=L.useMemo(()=>zt(p)?p.get():p,[p]);return L.createElement(n,{...d,children:g})}}function iw(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const ow=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aw(t,e,n,r){iw(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ow.has(s)?s:dp(s),e.attrs[s])}function _p(t,e){const{style:n}=t,r={};for(const s in n)(zt(n[s])||e.style&&zt(e.style[s])||Xx(s,t))&&(r[s]=n[s]);return r}function lw(t,e){const n=_p(t,e);for(const r in t)if(zt(t[r])||zt(e[r])){const s=Ra.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Ep(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function uw(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eu=t=>Array.isArray(t),NA=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),RA=t=>Eu(t)?t[t.length-1]||0:t;function zl(t){const e=zt(t)?t.get():t;return NA(e)?e.toValue():e}function jA({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:VA(r,s,i,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const cw=t=>(e,n)=>{const r=L.useContext(oc),s=L.useContext(ac),i=()=>jA(t,e,r,s);return n?i():uw(i)};function VA(t,e,n,r){const s={},i=r(t,{});for(const g in i)s[g]=zl(i[g]);let{initial:o,animate:l}=t;const u=cc(t),h=Qx(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?l:o;return p&&typeof p!="boolean"&&!uc(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const b=Ep(t,y);if(!b)return;const{transitionEnd:S,transition:P,...T}=b;for(const v in T){let _=T[v];if(Array.isArray(_)){const R=d?_.length-1:0;_=_[R]}_!==null&&(s[v]=_)}for(const v in S)s[v]=S[v]}),s}const $e=t=>t;class py{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function DA(t){let e=new py,n=new py,r=0,s=!1,i=!1;const o=new WeakSet,l={schedule:(u,h=!1,d=!1)=>{const p=d&&s,g=p?e:n;return h&&o.add(u),g.add(u)&&p&&s&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let h=0;h<r;h++){const d=e.order[h];d(u),o.has(d)&&(l.schedule(d),t())}s=!1,i&&(i=!1,l.process(u))}};return l}const xl=["prepare","read","update","preRender","render","postRender"],MA=40;function LA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=xl.reduce((p,g)=>(p[g]=DA(()=>n=!0),p),{}),o=p=>i[p].process(s),l=()=>{const p=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,MA),1),s.timestamp=p,s.isProcessing=!0,xl.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(l))},u=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:xl.reduce((p,g)=>{const y=i[g];return p[g]=(b,S=!1,P=!1)=>(n||u(),y.schedule(b,S,P)),p},{}),cancel:p=>xl.forEach(g=>i[g].cancel(p)),state:s,steps:i}}const{schedule:be,cancel:or,state:Tt,steps:gh}=LA(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),FA={useVisualState:cw({scrapeMotionValuesFromProps:lw,createRenderState:sw,onMount:(t,e,{renderState:n,latestValues:r})=>{be.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{xp(n,r,{enableHardwareAcceleration:!1},wp(e.tagName),t.transformTemplate),aw(e,n)})}})},OA={useVisualState:cw({scrapeMotionValuesFromProps:_p,createRenderState:vp})};function BA(t,{forwardMotionProps:e=!1},n,r){return{...gp(t)?FA:OA,preloadedFeatures:n,useRender:PA(e),createVisualElement:r,Component:t}}function Xn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const hw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function dc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const UA=t=>e=>hw(e)&&t(e,dc(e));function Zn(t,e,n,r){return Xn(t,e,UA(n),r)}const zA=(t,e)=>n=>e(t(n)),Mr=(...t)=>t.reduce(zA);function dw(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const my=dw("dragHorizontal"),gy=dw("dragVertical");function fw(t){let e=!1;if(t==="y")e=gy();else if(t==="x")e=my();else{const n=my(),r=gy();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function pw(){const t=fw(!0);return t?(t(),!1):!0}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}function yy(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||pw())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&be.update(()=>l[r](i,o))};return Zn(t.current,n,s,{passive:!t.getProps()[r]})}class $A extends ns{mount(){this.unmount=Mr(yy(this.node,!0),yy(this.node,!1))}unmount(){}}class WA extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mr(Xn(this.node.current,"focus",()=>this.onFocus()),Xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mw=(t,e)=>e?t===e?!0:mw(t,e.parentElement):!1;function yh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,dc(n))}class HA extends ns{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Zn(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:d,globalTapTarget:p}=this.node.getProps();be.update(()=>{!p&&!mw(this.node.current,l.target)?d&&d(l,u):h&&h(l,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=Zn(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Mr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||yh("up",(u,h)=>{const{onTap:d}=this.node.getProps();d&&be.update(()=>d(u,h))})};this.removeEndListeners(),this.removeEndListeners=Xn(this.node.current,"keyup",o),yh("down",(l,u)=>{this.startPress(l,u)})},n=Xn(this.node.current,"keydown",e),r=()=>{this.isPressing&&yh("cancel",(i,o)=>this.cancelPress(i,o))},s=Xn(this.node.current,"blur",r);this.removeAccessibleListeners=Mr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&be.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&be.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Zn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Mr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rd=new WeakMap,vh=new WeakMap,qA=t=>{const e=Rd.get(t.target);e&&e(t)},GA=t=>{t.forEach(qA)};function KA({root:t,...e}){const n=t||document;vh.has(n)||vh.set(n,{});const r=vh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(GA,{root:t,...e})),r[s]}function QA(t,e,n){const r=KA(e);return Rd.set(t,n),r.observe(t),()=>{Rd.delete(t),r.unobserve(t)}}const YA={some:0,all:1};class XA extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:YA[s]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=h?d:p;g&&g(u)};return QA(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JA(e,n))&&this.startObserver()}unmount(){}}function JA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZA={inView:{Feature:XA},tap:{Feature:HA},focus:{Feature:WA},hover:{Feature:$A}};function gw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function eC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function tC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function fc(t,e,n){const r=t.getProps();return Ep(r,e,n!==void 0?n:r.custom,eC(t),tC(t))}let nC=$e,Tp=$e;const Lr=t=>t*1e3,er=t=>t/1e3,rC={current:!1},yw=t=>Array.isArray(t)&&typeof t[0]=="number";function vw(t){return!!(!t||typeof t=="string"&&xw[t]||yw(t)||Array.isArray(t)&&t.every(vw))}const Io=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Io([0,.65,.55,1]),circOut:Io([.55,0,1,.45]),backIn:Io([.31,.01,.66,-.59]),backOut:Io([.33,1.53,.69,.99])};function ww(t){if(t)return yw(t)?Io(t):Array.isArray(t)?t.map(ww):xw[t]}function sC(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:l,times:u}={}){const h={[e]:n};u&&(h.offset=u);const d=ww(l);return Array.isArray(d)&&(h.easing=d),t.animate(h,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function iC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const _w=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oC=1e-7,aC=12;function lC(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=_w(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>oC&&++l<aC);return o}function Da(t,e,n,r){if(t===e&&n===r)return $e;const s=i=>lC(i,0,1,t,n);return i=>i===0||i===1?i:_w(s(i),e,r)}const uC=Da(.42,0,1,1),cC=Da(0,0,.58,1),Ew=Da(.42,0,.58,1),hC=t=>Array.isArray(t)&&typeof t[0]!="number",Tw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Sw=t=>e=>1-t(1-e),Sp=t=>1-Math.sin(Math.acos(t)),Aw=Sw(Sp),dC=Tw(Sp),Cw=Da(.33,1.53,.69,.99),Ap=Sw(Cw),fC=Tw(Ap),pC=t=>(t*=2)<1?.5*Ap(t):.5*(2-Math.pow(2,-10*(t-1))),mC={linear:$e,easeIn:uC,easeInOut:Ew,easeOut:cC,circIn:Sp,circInOut:dC,circOut:Aw,backIn:Ap,backInOut:fC,backOut:Cw,anticipate:pC},vy=t=>{if(Array.isArray(t)){Tp(t.length===4);const[e,n,r,s]=t;return Da(e,n,r,s)}else if(typeof t=="string")return mC[t];return t},Cp=(t,e)=>n=>!!(ja(n)&&gA.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),kw=(t,e,n)=>r=>{if(!ja(r))return r;const[s,i,o,l]=r.match(hc);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},gC=t=>Hr(0,255,t),xh={...Os,transform:t=>Math.round(gC(t))},Es={test:Cp("rgb","red"),parse:kw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xh.transform(t)+", "+xh.transform(e)+", "+xh.transform(n)+", "+Wo($o.transform(r))+")"};function yC(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jd={test:Cp("#"),parse:yC,transform:Es.transform},gi={test:Cp("hsl","hue"),parse:kw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vn.transform(Wo(e))+", "+Vn.transform(Wo(n))+", "+Wo($o.transform(r))+")"},Pt={test:t=>Es.test(t)||jd.test(t)||gi.test(t),parse:t=>Es.test(t)?Es.parse(t):gi.test(t)?gi.parse(t):jd.parse(t),transform:t=>ja(t)?t:t.hasOwnProperty("red")?Es.transform(t):gi.transform(t)},Le=(t,e,n)=>-n*t+n*e+t;function wh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=wh(u,l,t+1/3),i=wh(u,l,t),o=wh(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const _h=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},xC=[jd,Es,gi],wC=t=>xC.find(e=>e.test(t));function xy(t){const e=wC(t);let n=e.parse(t);return e===gi&&(n=vC(n)),n}const bw=(t,e)=>{const n=xy(t),r=xy(e),s={...n};return i=>(s.red=_h(n.red,r.red,i),s.green=_h(n.green,r.green,i),s.blue=_h(n.blue,r.blue,i),s.alpha=Le(n.alpha,r.alpha,i),Es.transform(s))};function _C(t){var e,n;return isNaN(t)&&ja(t)&&(((e=t.match(hc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ew))===null||n===void 0?void 0:n.length)||0)>0}const Iw={regex:pA,countKey:"Vars",token:"${v}",parse:$e},Pw={regex:ew,countKey:"Colors",token:"${c}",parse:Pt.parse},Nw={regex:hc,countKey:"Numbers",token:"${n}",parse:Os.parse};function Eh(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Tu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Eh(n,Iw),Eh(n,Pw),Eh(n,Nw),n}function Rw(t){return Tu(t).values}function jw(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Tu(t),i=e.length;return o=>{let l=s;for(let u=0;u<i;u++)u<r?l=l.replace(Iw.token,o[u]):u<r+n?l=l.replace(Pw.token,Pt.transform(o[u])):l=l.replace(Nw.token,Wo(o[u]));return l}}const EC=t=>typeof t=="number"?0:t;function TC(t){const e=Rw(t);return jw(t)(e.map(EC))}const qr={test:_C,parse:Rw,createTransformer:jw,getAnimatableNone:TC},Vw=(t,e)=>n=>`${n>0?e:t}`;function Dw(t,e){return typeof t=="number"?n=>Le(t,e,n):Pt.test(t)?bw(t,e):t.startsWith("var(")?Vw(t,e):Lw(t,e)}const Mw=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Dw(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},SC=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Dw(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Lw=(t,e)=>{const n=qr.createTransformer(e),r=Tu(t),s=Tu(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Mr(Mw(r.values,s.values),n):Vw(t,e)},ya=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wy=(t,e)=>n=>Le(t,e,n);function AC(t){return typeof t=="number"?wy:typeof t=="string"?Pt.test(t)?bw:Lw:Array.isArray(t)?Mw:typeof t=="object"?SC:wy}function CC(t,e,n){const r=[],s=n||AC(t[0]),i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||$e:e;l=Mr(u,l)}r.push(l)}return r}function Fw(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Tp(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=CC(e,r,s),l=o.length,u=h=>{let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=ya(t[d],t[d+1],h);return o[d](p)};return n?h=>u(Hr(t[0],t[i-1],h)):u}function kC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ya(0,e,r);t.push(Le(n,1,s))}}function bC(t){const e=[0];return kC(e,t.length-1),e}function IC(t,e){return t.map(n=>n*e)}function PC(t,e){return t.map(()=>e||Ew).splice(0,t.length-1)}function Su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=hC(r)?r.map(vy):vy(r),i={done:!1,value:e[0]},o=IC(n&&n.length===e.length?n:bC(e),t),l=Fw(o,e,{ease:Array.isArray(s)?s:PC(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}function Ow(t,e){return e?t*(1e3/e):0}const NC=5;function Bw(t,e,n){const r=Math.max(e-NC,0);return Ow(n-t(r),e-r)}const Th=.001,RC=.01,_y=10,jC=.05,VC=1;function DC({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;nC(t<=Lr(_y));let o=1-e;o=Hr(jC,VC,o),t=Hr(RC,_y,er(t)),o<1?(s=h=>{const d=h*o,p=d*t,g=d-n,y=Vd(h,o),b=Math.exp(-p);return Th-g/y*b},i=h=>{const p=h*o*t,g=p*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,b=Math.exp(-p),S=Vd(Math.pow(h,2),o);return(-s(h)+Th>0?-1:1)*((g-y)*b)/S}):(s=h=>{const d=Math.exp(-h*t),p=(h-n)*t+1;return-Th+d*p},i=h=>{const d=Math.exp(-h*t),p=(n-h)*(t*t);return d*p});const l=5/t,u=LC(s,i,l);if(t=Lr(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const MC=12;function LC(t,e,n){let r=n;for(let s=1;s<MC;s++)r=r-t(r)/e(r);return r}function Vd(t,e){return t*Math.sqrt(1-e*e)}const FC=["duration","bounce"],OC=["stiffness","damping","mass"];function Ey(t,e){return e.some(n=>t[n]!==void 0)}function BC(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Ey(t,OC)&&Ey(t,FC)){const n=DC(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Uw({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:p,isResolvedFromDuration:g}=BC({...r,velocity:-er(r.velocity||0)}),y=p||0,b=u/(2*Math.sqrt(l*h)),S=i-s,P=er(Math.sqrt(l/h)),T=Math.abs(S)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let v;if(b<1){const _=Vd(P,b);v=R=>{const V=Math.exp(-b*P*R);return i-V*((y+b*P*S)/_*Math.sin(_*R)+S*Math.cos(_*R))}}else if(b===1)v=_=>i-Math.exp(-P*_)*(S+(y+P*S)*_);else{const _=P*Math.sqrt(b*b-1);v=R=>{const V=Math.exp(-b*P*R),M=Math.min(_*R,300);return i-V*((y+b*P*S)*Math.sinh(M)+_*S*Math.cosh(M))/_}}return{calculatedDuration:g&&d||null,next:_=>{const R=v(_);if(g)o.done=_>=d;else{let V=y;_!==0&&(b<1?V=Bw(v,_,R):V=0);const M=Math.abs(V)<=n,A=Math.abs(i-R)<=e;o.done=M&&A}return o.value=o.done?i:R,o}}}function Ty({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:h=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},y=x=>l!==void 0&&x<l||u!==void 0&&x>u,b=x=>l===void 0?u:u===void 0||Math.abs(l-x)<Math.abs(u-x)?l:u;let S=n*e;const P=p+S,T=o===void 0?P:o(P);T!==P&&(S=T-p);const v=x=>-S*Math.exp(-x/r),_=x=>T+v(x),R=x=>{const E=v(x),k=_(x);g.done=Math.abs(E)<=h,g.value=g.done?T:k};let V,M;const A=x=>{y(g.value)&&(V=x,M=Uw({keyframes:[g.value,b(g.value)],velocity:Bw(_,x,g.value),damping:s,stiffness:i,restDelta:h,restSpeed:d}))};return A(0),{calculatedDuration:null,next:x=>{let E=!1;return!M&&V===void 0&&(E=!0,R(x),A(x)),V!==void 0&&x>V?M.next(x-V):(!E&&R(x),g)}}}const UC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>be.update(e,!0),stop:()=>or(e),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},Sy=2e4;function Ay(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sy;)e+=n,r=t.next(e);return e>=Sy?1/0:e}const zC={decay:Ty,inertia:Ty,tween:Su,keyframes:Su,spring:Uw};function Au({autoplay:t=!0,delay:e=0,driver:n=UC,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:h,onComplete:d,onUpdate:p,...g}){let y=1,b=!1,S,P;const T=()=>{P=new Promise(X=>{S=X})};T();let v;const _=zC[s]||Su;let R;_!==Su&&typeof r[0]!="number"&&(R=Fw([0,100],r,{clamp:!1}),r=[0,100]);const V=_({...g,keyframes:r});let M;l==="mirror"&&(M=_({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let A="idle",x=null,E=null,k=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=Ay(V));const{calculatedDuration:I}=V;let N=1/0,C=1/0;I!==null&&(N=I+o,C=N*(i+1)-o);let Z=0;const we=X=>{if(E===null)return;y>0&&(E=Math.min(E,X)),y<0&&(E=Math.min(X-C/y,E)),x!==null?Z=x:Z=Math.round(X-E)*y;const Y=Z-e*(y>=0?1:-1),le=y>=0?Y<0:Y>C;Z=Math.max(Y,0),A==="finished"&&x===null&&(Z=C);let ie=Z,Ee=V;if(i){const bt=Math.min(Z,C)/N;let It=Math.floor(bt),G=bt%1;!G&&bt>=1&&(G=1),G===1&&It--,It=Math.min(It,i+1),!!(It%2)&&(l==="reverse"?(G=1-G,o&&(G-=o/N)):l==="mirror"&&(Ee=M)),ie=Hr(0,1,G)*N}const Se=le?{done:!1,value:r[0]}:Ee.next(ie);R&&(Se.value=R(Se.value));let{done:he}=Se;!le&&I!==null&&(he=y>=0?Z>=C:Z<=0);const cn=x===null&&(A==="finished"||A==="running"&&he);return p&&p(Se.value),cn&&z(),Se},ue=()=>{v&&v.stop(),v=void 0},_e=()=>{A="idle",ue(),S(),T(),E=k=null},z=()=>{A="finished",d&&d(),ue(),S()},U=()=>{if(b)return;v||(v=n(we));const X=v.now();u&&u(),x!==null?E=X-x:(!E||A==="finished")&&(E=X),A==="finished"&&T(),k=E,x=null,A="running",v.start()};t&&U();const Q={then(X,Y){return P.then(X,Y)},get time(){return er(Z)},set time(X){X=Lr(X),Z=X,x!==null||!v||y===0?x=X:E=v.now()-X/y},get duration(){const X=V.calculatedDuration===null?Ay(V):V.calculatedDuration;return er(X)},get speed(){return y},set speed(X){X===y||!v||(y=X,Q.time=er(Z))},get state(){return A},play:U,pause:()=>{A="paused",x=Z},stop:()=>{b=!0,A!=="idle"&&(A="idle",h&&h(),_e())},cancel:()=>{k!==null&&we(k),_e()},complete:()=>{A="finished"},sample:X=>(E=0,we(X))};return Q}function $C(t){let e;return()=>(e===void 0&&(e=t()),e)}const WC=$C(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wl=10,qC=2e4,GC=(t,e)=>e.type==="spring"||t==="backgroundColor"||!vw(e.ease);function KC(t,e,{onUpdate:n,onComplete:r,...s}){if(!(WC()&&HC.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,l,u,h=!1;const d=()=>{u=new Promise(_=>{l=_})};d();let{keyframes:p,duration:g=300,ease:y,times:b}=s;if(GC(e,s)){const _=Au({...s,repeat:0,delay:0});let R={done:!1,value:p[0]};const V=[];let M=0;for(;!R.done&&M<qC;)R=_.sample(M),V.push(R.value),M+=wl;b=void 0,p=V,g=M-wl,y="linear"}const S=sC(t.owner.current,e,p,{...s,duration:g,ease:y,times:b}),P=()=>{h=!1,S.cancel()},T=()=>{h=!0,be.update(P),l(),d()};return S.onfinish=()=>{h||(t.set(iC(p,s)),r&&r(),T())},{then(_,R){return u.then(_,R)},attachTimeline(_){return S.timeline=_,S.onfinish=null,$e},get time(){return er(S.currentTime||0)},set time(_){S.currentTime=Lr(_)},get speed(){return S.playbackRate},set speed(_){S.playbackRate=_},get duration(){return er(g)},play:()=>{o||(S.play(),or(P))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:_}=S;if(_){const R=Au({...s,autoplay:!1});t.setWithVelocity(R.sample(_-wl).value,R.sample(_).value,wl)}T()},complete:()=>{h||S.finish()},cancel:T}}function QC({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:$e,pause:$e,stop:$e,then:i=>(i(),Promise.resolve()),cancel:$e,complete:$e});return e?Au({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const YC={type:"spring",stiffness:500,damping:25,restSpeed:10},XC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JC={type:"keyframes",duration:.8},ZC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ek=(t,{keyframes:e})=>e.length>2?JC:Fs.has(t)?t.startsWith("scale")?XC(e[1]):YC:ZC,Dd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qr.test(e)||e==="0")&&!e.startsWith("url(")),tk=new Set(["brightness","contrast","saturate","opacity"]);function nk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hc)||[];if(!r)return t;const s=n.replace(r,"");let i=tk.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const rk=/([a-z-]*)\(.*?\)/g,Md={...qr,getAnimatableNone:t=>{const e=t.match(rk);return e?e.map(nk).join(" "):t}},sk={...tw,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Md,WebkitFilter:Md},kp=t=>sk[t];function zw(t,e){let n=kp(t);return n!==Md&&(n=qr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $w=t=>/^0[^.\s]+$/.test(t);function ik(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||$w(t)}function ok(t,e,n,r){const s=Dd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const u=[];for(let h=0;h<i.length;h++)i[h]===null&&(i[h]=h===0?o:i[h-1]),ik(i[h])&&u.push(h),typeof i[h]=="string"&&i[h]!=="none"&&i[h]!=="0"&&(l=i[h]);if(s&&u.length&&l)for(let h=0;h<u.length;h++){const d=u[h];i[d]=zw(e,l)}return i}function ak({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:h,...d}){return!!Object.keys(d).length}function bp(t,e){return t[e]||t.default||t}const lk={skipAnimations:!1},Ip=(t,e,n,r={})=>s=>{const i=bp(r,t)||{},o=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Lr(o);const u=ok(e,t,n,i),h=u[0],d=u[u.length-1],p=Dd(t,h),g=Dd(t,d);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(ak(i)||(y={...y,...ek(t,y)}),y.duration&&(y.duration=Lr(y.duration)),y.repeatDelay&&(y.repeatDelay=Lr(y.repeatDelay)),!p||!g||rC.current||i.type===!1||lk.skipAnimations)return QC(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=KC(e,t,y);if(b)return b}return Au(y)};function Cu(t){return!!(zt(t)&&t.add)}const Ww=t=>/^\-?\d*\.?\d+$/.test(t);function Pp(t,e){t.indexOf(e)===-1&&t.push(e)}function Np(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Rp{constructor(){this.subscriptions=[]}add(e){return Pp(this.subscriptions,e),()=>Np(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uk=t=>!isNaN(parseFloat(t));class ck{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Tt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,be.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>be.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=uk(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rp);const r=this.events[e].add(n);return e==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ow(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(t,e){return new ck(t,e)}const Hw=t=>e=>e.test(t),hk={test:t=>t==="auto",parse:t=>t},qw=[Os,te,Vn,xr,vA,yA,hk],To=t=>qw.find(Hw(t)),dk=[...qw,Pt,qr],fk=t=>dk.find(Hw(t));function pk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Di(n))}function mk(t,e){const n=fc(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const l=RA(i[o]);pk(t,o,l)}}function gk(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const u=i[l],h=e[u];let d=null;Array.isArray(h)&&(d=h[0]),d===null&&(d=(s=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&s!==void 0?s:e[u]),d!=null&&(typeof d=="string"&&(Ww(d)||$w(d))?d=parseFloat(d):!fk(d)&&qr.test(h)&&(d=zw(u,h)),t.addValue(u,Di(d,{owner:t})),n[u]===void 0&&(n[u]=d),d!==null&&t.setBaseTarget(u,d))}}function yk(t,e){return e?(e[t]||e.default||e).from:void 0}function vk(t,e,n){const r={};for(const s in t){const i=yk(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function xk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wk(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Gw(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(i=r);const h=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in l){const g=t.getValue(p),y=l[p];if(!g||y===void 0||d&&xk(d,p))continue;const b={delay:n,elapsed:0,...bp(i||{},p)};if(window.HandoffAppearAnimations){const T=t.getProps()[Kx];if(T){const v=window.HandoffAppearAnimations(T,p,g,be);v!==null&&(b.elapsed=v,b.isHandoff=!0)}}let S=!b.isHandoff&&!wk(g,y);if(b.type==="spring"&&(g.getVelocity()||b.velocity)&&(S=!1),g.animation&&(S=!1),S)continue;g.start(Ip(p,g,y,t.shouldReduceMotion&&Fs.has(p)?{type:!1}:b));const P=g.animation;Cu(u)&&(u.add(p),P.then(()=>u.remove(p))),h.push(P)}return o&&Promise.all(h).then(()=>{o&&mk(t,o)}),h}function Ld(t,e,n={}){const r=fc(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Gw(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=s;return _k(t,e,h+u,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function _k(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(t.variantChildren).sort(Ek).forEach((h,d)=>{h.notify("AnimationStart",e),o.push(Ld(h,e,{...i,delay:n+u(d)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function Ek(t,e){return t.sortNodePosition(e)}function Tk(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Ld(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Ld(t,e,n);else{const s=typeof e=="function"?fc(t,e,n.custom):e;r=Promise.all(Gw(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Sk=[...fp].reverse(),Ak=fp.length;function Ck(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Tk(t,n,r)))}function kk(t){let e=Ck(t);const n=Ik();let r=!0;const s=(u,h)=>{const d=fc(t,h);if(d){const{transition:p,transitionEnd:g,...y}=d;u={...u,...y,...g}}return u};function i(u){e=u(t)}function o(u,h){const d=t.getProps(),p=t.getVariantContext(!0)||{},g=[],y=new Set;let b={},S=1/0;for(let T=0;T<Ak;T++){const v=Sk[T],_=n[v],R=d[v]!==void 0?d[v]:p[v],V=ma(R),M=v===h?_.isActive:null;M===!1&&(S=T);let A=R===p[v]&&R!==d[v]&&V;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),_.protectedKeys={...b},!_.isActive&&M===null||!R&&!_.prevProp||uc(R)||typeof R=="boolean")continue;let E=bk(_.prevProp,R)||v===h&&_.isActive&&!A&&V||T>S&&V,k=!1;const I=Array.isArray(R)?R:[R];let N=I.reduce(s,{});M===!1&&(N={});const{prevResolvedValues:C={}}=_,Z={...C,...N},we=ue=>{E=!0,y.has(ue)&&(k=!0,y.delete(ue)),_.needsAnimating[ue]=!0};for(const ue in Z){const _e=N[ue],z=C[ue];if(b.hasOwnProperty(ue))continue;let U=!1;Eu(_e)&&Eu(z)?U=!gw(_e,z):U=_e!==z,U?_e!==void 0?we(ue):y.add(ue):_e!==void 0&&y.has(ue)?we(ue):_.protectedKeys[ue]=!0}_.prevProp=R,_.prevResolvedValues=N,_.isActive&&(b={...b,...N}),r&&t.blockInitialAnimation&&(E=!1),E&&(!A||k)&&g.push(...I.map(ue=>({animation:ue,options:{type:v,...u}})))}if(y.size){const T={};y.forEach(v=>{const _=t.getBaseTarget(v);_!==void 0&&(T[v]=_)}),g.push({animation:T})}let P=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(g):Promise.resolve()}function l(u,h,d){var p;if(n[u].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),n[u].isActive=h;const g=o(d,u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function bk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gw(e,t):!1}function ds(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ik(){return{animate:ds(!0),whileInView:ds(),whileHover:ds(),whileTap:ds(),whileDrag:ds(),whileFocus:ds(),exit:ds()}}class Pk extends ns{constructor(e){super(e),e.animationState||(e.animationState=kk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),uc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Nk=0;class Rk extends ns{constructor(){super(...arguments),this.id=Nk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const jk={animation:{Feature:Pk},exit:{Feature:Rk}},Cy=(t,e)=>Math.abs(t-e);function Vk(t,e){const n=Cy(t.x,e.x),r=Cy(t.y,e.y);return Math.sqrt(n**2+r**2)}class Kw{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ah(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=Vk(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:b}=p,{timestamp:S}=Tt;this.history.push({...b,timestamp:S});const{onStart:P,onMove:T}=this.handlers;g||(P&&P(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Sh(g,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Ah(p.type==="pointercancel"?this.lastMoveEventInfo:Sh(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,P),b&&b(p,P)},!hw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=dc(e),l=Sh(o,this.transformPagePoint),{point:u}=l,{timestamp:h}=Tt;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Ah(l,this.history)),this.removeListeners=Mr(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Sh(t,e){return e?{point:e(t.point)}:t}function ky(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ah({point:t},e){return{point:t,delta:ky(t,Qw(e)),offset:ky(t,Dk(e)),velocity:Mk(e,.1)}}function Dk(t){return t[0]}function Qw(t){return t[t.length-1]}function Mk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Qw(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Lr(e)));)n--;if(!r)return{x:0,y:0};const i=er(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qt(t){return t.max-t.min}function Fd(t,e=0,n=.01){return Math.abs(t-e)<=n}function by(t,e,n,r=.5){t.origin=r,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Qt(n)/Qt(e),(Fd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(Fd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ho(t,e,n,r){by(t.x,e.x,n.x,r?r.originX:void 0),by(t.y,e.y,n.y,r?r.originY:void 0)}function Iy(t,e,n){t.min=n.min+e.min,t.max=t.min+Qt(e)}function Lk(t,e,n){Iy(t.x,e.x,n.x),Iy(t.y,e.y,n.y)}function Py(t,e,n){t.min=e.min-n.min,t.max=t.min+Qt(e)}function qo(t,e,n){Py(t.x,e.x,n.x),Py(t.y,e.y,n.y)}function Fk(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Le(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Le(n,t,r.max):Math.min(t,n)),t}function Ny(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ok(t,{top:e,left:n,bottom:r,right:s}){return{x:Ny(t.x,n,s),y:Ny(t.y,e,r)}}function Ry(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Bk(t,e){return{x:Ry(t.x,e.x),y:Ry(t.y,e.y)}}function Uk(t,e){let n=.5;const r=Qt(t),s=Qt(e);return s>r?n=ya(e.min,e.max-r,t.min):r>s&&(n=ya(t.min,t.max-s,e.min)),Hr(0,1,n)}function zk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Od=.35;function $k(t=Od){return t===!1?t=0:t===!0&&(t=Od),{x:jy(t,"left","right"),y:jy(t,"top","bottom")}}function jy(t,e,n){return{min:Vy(t,e),max:Vy(t,n)}}function Vy(t,e){return typeof t=="number"?t:t[e]||0}const Dy=()=>({translate:0,scale:1,origin:0,originPoint:0}),yi=()=>({x:Dy(),y:Dy()}),My=()=>({min:0,max:0}),Qe=()=>({x:My(),y:My()});function en(t){return[t("x"),t("y")]}function Yw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Wk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Hk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ch(t){return t===void 0||t===1}function Bd({scale:t,scaleX:e,scaleY:n}){return!Ch(t)||!Ch(e)||!Ch(n)}function ms(t){return Bd(t)||Xw(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Xw(t){return Ly(t.x)||Ly(t.y)}function Ly(t){return t&&t!=="0%"}function ku(t,e,n){const r=t-n,s=e*r;return n+s}function Fy(t,e,n,r,s){return s!==void 0&&(t=ku(t,s,r)),ku(t,n,r)+e}function Ud(t,e=0,n=1,r,s){t.min=Fy(t.min,e,n,r,s),t.max=Fy(t.max,e,n,r,s)}function Jw(t,{x:e,y:n}){Ud(t.x,e.translate,e.scale,e.originPoint),Ud(t.y,n.translate,n.scale,n.originPoint)}function qk(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vi(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Jw(t,o)),r&&ms(i.latestValues)&&vi(t,i.latestValues))}e.x=Oy(e.x),e.y=Oy(e.y)}function Oy(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Er(t,e){t.min=t.min+e,t.max=t.max+e}function By(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Le(t.min,t.max,i);Ud(t,e[n],e[r],o,e.scale)}const Gk=["x","scaleX","originX"],Kk=["y","scaleY","originY"];function vi(t,e){By(t.x,e,Gk),By(t.y,e,Kk)}function Zw(t,e){return Yw(Hk(t.getBoundingClientRect(),e))}function Qk(t,e,n){const r=Zw(t,n),{scroll:s}=e;return s&&(Er(r.x,s.offset.x),Er(r.y,s.offset.y)),r}const e2=({current:t})=>t?t.ownerDocument.defaultView:null,Yk=new WeakMap;class Xk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dc(d,"page").point)},i=(d,p)=>{const{drag:g,dragPropagation:y,onDragStart:b}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fw(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(P=>{let T=this.getAxisMotionValue(P).get()||0;if(Vn.test(T)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[P];_&&(T=Qt(_)*(parseFloat(T)/100))}}this.originPoint[P]=T}),b&&be.update(()=>b(d,p),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:b,onDrag:S}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:P}=p;if(y&&this.currentDirection===null){this.currentDirection=Jk(P),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,P),this.updateAxis("y",p.point,P),this.visualElement.render(),S&&S(d,p)},l=(d,p)=>this.stop(d,p),u=()=>en(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Kw(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:e2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&be.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_l(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Fk(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&mi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Ok(s.layoutBox,n):this.constraints=!1,this.elastic=$k(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&en(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=zk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Qk(r,s.root,this.visualElement.getTransformPagePoint());let o=Bk(s.layout.layoutBox,i);if(n){const l=n(Wk(o));this.hasMutatedConstraints=!!l,l&&(o=Yw(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=en(d=>{if(!_l(d,n,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,b)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ip(e,r,0,n))}stopAnimation(){en(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){en(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){en(n=>{const{drag:r}=this.getProps();if(!_l(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};en(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();s[o]=Uk({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(o=>{if(!_l(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];l.set(Le(u,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;Yk.set(this.visualElement,this);const e=this.visualElement.current,n=Zn(e,"pointerdown",u=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();mi(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Xn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(en(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Od,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function _l(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Jk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zk extends ns{constructor(e){super(e),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new Xk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const Uy=t=>(e,n)=>{t&&be.update(()=>t(e,n))};class eb extends ns{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(e){this.session=new Kw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Uy(e),onStart:Uy(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&be.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tb(){const t=L.useContext(ac);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=L.useId();return L.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const So={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=zy(t,e.target.x),r=zy(t,e.target.y);return`${n}% ${r}%`}},nb={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=qr.parse(t);if(s.length>5)return r;const i=qr.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const h=Le(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};class rb extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;cA(sb),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||be.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function t2(t){const[e,n]=tb(),r=L.useContext(mp);return W.createElement(rb,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(Yx),isPresent:e,safeToRemove:n})}const sb={borderRadius:{...So,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:So,borderTopRightRadius:So,borderBottomLeftRadius:So,borderBottomRightRadius:So,boxShadow:nb},n2=["TopLeft","TopRight","BottomLeft","BottomRight"],ib=n2.length,$y=t=>typeof t=="string"?parseFloat(t):t,Wy=t=>typeof t=="number"||te.test(t);function ob(t,e,n,r,s,i){s?(t.opacity=Le(0,n.opacity!==void 0?n.opacity:1,ab(r)),t.opacityExit=Le(e.opacity!==void 0?e.opacity:1,0,lb(r))):i&&(t.opacity=Le(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ib;o++){const l=`border${n2[o]}Radius`;let u=Hy(e,l),h=Hy(n,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Wy(u)===Wy(h)?(t[l]=Math.max(Le($y(u),$y(h),r),0),(Vn.test(h)||Vn.test(u))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,r))}function Hy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ab=r2(0,.5,Aw),lb=r2(.5,.95,$e);function r2(t,e,n){return r=>r<t?0:r>e?1:n(ya(t,e,r))}function qy(t,e){t.min=e.min,t.max=e.max}function Zt(t,e){qy(t.x,e.x),qy(t.y,e.y)}function Gy(t,e,n,r,s){return t-=e,t=ku(t,1/n,r),s!==void 0&&(t=ku(t,1/s,r)),t}function ub(t,e=0,n=1,r=.5,s,i=t,o=t){if(Vn.test(e)&&(e=parseFloat(e),e=Le(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Le(i.min,i.max,r);t===i&&(l-=e),t.min=Gy(t.min,e,n,l,s),t.max=Gy(t.max,e,n,l,s)}function Ky(t,e,[n,r,s],i,o){ub(t,e[n],e[r],e[s],e.scale,i,o)}const cb=["x","scaleX","originX"],hb=["y","scaleY","originY"];function Qy(t,e,n,r){Ky(t.x,e,cb,n?n.x:void 0,r?r.x:void 0),Ky(t.y,e,hb,n?n.y:void 0,r?r.y:void 0)}function Yy(t){return t.translate===0&&t.scale===1}function s2(t){return Yy(t.x)&&Yy(t.y)}function db(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function i2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Xy(t){return Qt(t.x)/Qt(t.y)}class fb{constructor(){this.members=[]}add(e){Pp(this.members,e),e.scheduleRender()}remove(e){if(Np(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jy(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:h,rotateY:d}=n;u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const pb=(t,e)=>t.depth-e.depth;class mb{constructor(){this.children=[],this.isDirty=!1}add(e){Pp(this.children,e),this.isDirty=!0}remove(e){Np(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pb),this.isDirty=!1,this.children.forEach(e)}}function gb(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(or(r),t(i-e))};return be.read(r,!0),()=>or(r)}function yb(t){window.MotionDebug&&window.MotionDebug.record(t)}function vb(t){return t instanceof SVGElement&&t.tagName!=="svg"}function xb(t,e,n){const r=zt(t)?t:Di(t);return r.start(Ip("",r,e,n)),r.animation}const Zy=["","X","Y","Z"],wb={visibility:"hidden"},e0=1e3;let _b=0;const gs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function o2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=_b++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gs.totalNodes=gs.resolvedTargetDeltas=gs.recalculatedProjection=0,this.nodes.forEach(Sb),this.nodes.forEach(Ib),this.nodes.forEach(Pb),this.nodes.forEach(Ab),yb(gs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mb)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vb(o),this.instance=o;const{layoutId:u,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=gb(g,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(n0))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||Db,{onLayoutAnimationStart:P,onLayoutAnimationComplete:T}=d.getProps(),v=!this.targetLayout||!i2(this.targetLayout,b)||y,_=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||g&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,_);const R={...bp(S,"layout"),onPlay:P,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||n0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nb),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t0);return}this.isUpdating||this.nodes.forEach(kb),this.isUpdating=!1,this.nodes.forEach(bb),this.nodes.forEach(Eb),this.nodes.forEach(Tb),this.clearAllSnapshots();const l=performance.now();Tt.delta=Hr(0,1e3/60,l-Tt.timestamp),Tt.timestamp=l,Tt.isProcessing=!0,gh.update.process(Tt),gh.preRender.process(Tt),gh.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cb),this.sharedNodes.forEach(Rb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!s2(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;o&&(l||ms(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),Mb(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qe();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(Er(l.x,u.offset.x),Er(l.y,u.offset.y)),l}removeElementScroll(o){const l=Qe();Zt(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:p}=h;if(h!==this.root&&d&&p.layoutScroll){if(d.isRoot){Zt(l,o);const{scroll:g}=this.root;g&&(Er(l.x,-g.offset.x),Er(l.y,-g.offset.y))}Er(l.x,d.offset.x),Er(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const u=Qe();Zt(u,o);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vi(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ms(d.latestValues)&&vi(u,d.latestValues)}return ms(this.latestValues)&&vi(u,this.latestValues),u}removeTransform(o){const l=Qe();Zt(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ms(h.latestValues))continue;Bd(h.latestValues)&&h.updateSnapshot();const d=Qe(),p=h.measurePageBox();Zt(d,p),Qy(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return ms(this.latestValues)&&Qy(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),qo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),Jw(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),qo(this.relativeTargetOrigin,this.target,y.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bd(this.parent.latestValues)||Xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Zt(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;qk(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=yi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yi(),this.projectionDeltaWithTransform=yi());const S=this.projectionTransform;Ho(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=Jy(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),gs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},p=yi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Qe(),y=u?u.source:void 0,b=this.layout?this.layout.source:void 0,S=y!==b,P=this.getStack(),T=!P||P.members.length<=1,v=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(Vb));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const V=R/1e3;r0(p.x,o.x,V),r0(p.y,o.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qo(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jb(this.relativeTarget,this.relativeTargetOrigin,g,V),_&&db(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Qe()),Zt(_,this.relativeTarget)),S&&(this.animationValues=d,ob(d,h,this.latestValues,V,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{$l.hasAnimatedSinceResize=!0,this.currentAnimation=xb(0,e0,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:d}=o;if(!(!l||!u||!h)){if(this!==o&&this.layout&&h&&a2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Qe();const p=Qt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=Qt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Zt(l,u),vi(l,d),Ho(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fb),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const h={};for(let d=0;d<Zy.length;d++){const p="rotate"+Zy[d];u[p]&&(h[p]=u[p],o.setStaticValue(p,0))}o.render();for(const d in h)o.setStaticValue(d,h[d]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wb;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=zl(o==null?void 0:o.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=zl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ms(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=Jy(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:y,y:b}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?h.opacity=p===this?(u=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in wu){if(g[S]===void 0)continue;const{correct:P,applyTo:T}=wu[S],v=h.transform==="none"?g[S]:P(g[S],p);if(T){const _=T.length;for(let R=0;R<_;R++)h[T[R]]=v}else h[S]=v}return this.options.layoutId&&(h.pointerEvents=p===this?zl(o==null?void 0:o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(t0),this.root.sharedNodes.clear()}}}function Eb(t){t.updateLayout()}function Tb(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?en(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Qt(g);g.min=r[p].min,g.max=g.min+y}):a2(i,n.layoutBox,r)&&en(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=Qt(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=yi();Ho(l,r,n.layoutBox);const u=yi();o?Ho(u,t.applyTransform(s,!0),n.measuredBox):Ho(u,r,n.layoutBox);const h=!s2(l);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const b=Qe();qo(b,n.layoutBox,g.layoutBox);const S=Qe();qo(S,r,y.layoutBox),i2(b,S)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Sb(t){gs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ab(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cb(t){t.clearSnapshot()}function t0(t){t.clearMeasurements()}function kb(t){t.isLayoutDirty=!1}function bb(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ib(t){t.resolveTargetDelta()}function Pb(t){t.calcProjection()}function Nb(t){t.resetRotation()}function Rb(t){t.removeLeadSnapshot()}function r0(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s0(t,e,n,r){t.min=Le(e.min,n.min,r),t.max=Le(e.max,n.max,r)}function jb(t,e,n,r){s0(t.x,e.x,n.x,r),s0(t.y,e.y,n.y,r)}function Vb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Db={duration:.45,ease:[.4,0,.1,1]},i0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),o0=i0("applewebkit/")&&!i0("chrome/")?Math.round:$e;function a0(t){t.min=o0(t.min),t.max=o0(t.max)}function Mb(t){a0(t.x),a0(t.y)}function a2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Fd(Xy(e),Xy(n),.2)}const Lb=o2({attachResizeListener:(t,e)=>Xn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kh={current:void 0},l2=o2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kh.current){const t=new Lb({});t.mount(window),t.setOptions({layoutScroll:!0}),kh.current=t}return kh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fb={pan:{Feature:eb},drag:{Feature:Zk,ProjectionNode:l2,MeasureLayout:t2}},Ob=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bb(t){const e=Ob.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function zd(t,e,n=1){const[r,s]=Bb(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Ww(o)?parseFloat(o):o}else return Nd(s)?zd(s,e,n+1):s}function Ub(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Nd(i))return;const o=zd(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Nd(i))continue;const o=zd(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const zb=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),u2=t=>zb.has(t),$b=t=>Object.keys(t).some(u2),l0=t=>t===Os||t===te,u0=(t,e)=>parseFloat(t.split(", ")[e]),c0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return u0(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?u0(i[1],t):0}},Wb=new Set(["x","y","z"]),Hb=Ra.filter(t=>!Wb.has(t));function qb(t){const e=[];return Hb.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Mi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:c0(4,13),y:c0(5,14)};Mi.translateX=Mi.x;Mi.translateY=Mi.y;const Gb=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(h=>{l[h]=Mi[h](r,i)}),e.render();const u=e.measureViewportBox();return n.forEach(h=>{const d=e.getValue(h);d&&d.jump(l[h]),t[h]=Mi[h](u,i)}),t},Kb=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(u2);let i=[],o=!1;const l=[];if(s.forEach(u=>{const h=t.getValue(u);if(!t.hasValue(u))return;let d=n[u],p=To(d);const g=e[u];let y;if(Eu(g)){const b=g.length,S=g[0]===null?1:0;d=g[S],p=To(d);for(let P=S;P<b&&g[P]!==null;P++)y?Tp(To(g[P])===y):y=To(g[P])}else y=To(g);if(p!==y)if(l0(p)&&l0(y)){const b=h.get();typeof b=="string"&&h.set(parseFloat(b)),typeof g=="string"?e[u]=parseFloat(g):Array.isArray(g)&&y===te&&(e[u]=g.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(d===0||g===0)?d===0?h.set(y.transform(d)):e[u]=p.transform(g):(o||(i=qb(t),o=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:e[u],h.jump(g))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,h=Gb(e,t,l);return i.length&&i.forEach(([d,p])=>{t.getValue(d).set(p)}),t.render(),lc&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Qb(t,e,n,r){return $b(e)?Kb(t,e,n,r):{target:e,transitionEnd:r}}const Yb=(t,e,n,r)=>{const s=Ub(t,e,r);return e=s.target,r=s.transitionEnd,Qb(t,e,n,r)},$d={current:null},c2={current:!1};function Xb(){if(c2.current=!0,!!lc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$d.current=t.matches;t.addListener(e),e()}else $d.current=!1}function Jb(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(zt(i))t.addValue(s,i),Cu(r)&&r.add(s);else if(zt(o))t.addValue(s,Di(i,{owner:t})),Cu(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Di(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const h0=new WeakMap,h2=Object.keys(ga),Zb=h2.length,d0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eI=pp.length;class tI{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=cc(n),this.isVariantNode=Qx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{});for(const p in d){const g=d[p];l[p]!==void 0&&zt(g)&&(g.set(l[p],!1),Cu(h)&&h.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,h0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),c2.current||Xb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$d.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h0.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Fs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&be.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,l;for(let u=0;u<Zb;u++){const h=h2[u],{isEnabled:d,Feature:p,ProjectionNode:g,MeasureLayout:y}=ga[h];g&&(o=g),d(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:d,dragConstraints:p,layoutScroll:g,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!d||p&&mi(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:i,layoutScroll:g,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d0.length;r++){const s=d0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=Jb(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<eI;r++){const s=pp[r],i=this.props[s];(ma(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Di(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Ep(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!zt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class d2 extends tI{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=vk(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){gk(this,r,o);const l=Yb(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function nI(t){return window.getComputedStyle(t)}class rI extends d2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Fs.has(n)){const r=kp(n);return r&&r.default||0}else{const r=nI(e),s=(Zx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Zw(e,n)}build(e,n,r,s){yp(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return _p(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){iw(e,n,r,s)}}class sI extends d2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fs.has(n)){const r=kp(n);return r&&r.default||0}return n=ow.has(n)?n:dp(n),e.getAttribute(n)}measureInstanceViewportBox(){return Qe()}scrapeMotionValuesFromProps(e,n){return lw(e,n)}build(e,n,r,s){xp(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){aw(e,n,r,s)}mount(e){this.isSVGTag=wp(e.tagName),super.mount(e)}}const iI=(t,e)=>gp(t)?new sI(e,{enableHardwareAcceleration:!1}):new rI(e,{enableHardwareAcceleration:!0}),oI={layout:{ProjectionNode:l2,MeasureLayout:t2}},aI={...jk,...ZA,...Fb,...oI},ae=lA((t,e)=>BA(t,e,aI,iI));function f2(){const t=L.useRef(!1);return hp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function lI(){const t=f2(),[e,n]=L.useState(0),r=L.useCallback(()=>{t.current&&n(e+1)},[e]);return[L.useCallback(()=>be.postRender(r),[r]),e]}class uI extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cI({children:t,isPresent:e}){const n=L.useId(),r=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:u}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),L.createElement(uI,{isPresent:e,childRef:r,sizeRef:s},L.cloneElement(t,{ref:r}))}const bh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=uw(hI),u=L.useId(),h=L.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const p of l.values())if(!p)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return L.useMemo(()=>{l.forEach((d,p)=>l.set(p,!1))},[n]),L.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=L.createElement(cI,{isPresent:n},t)),L.createElement(ac.Provider,{value:h},t)};function hI(){return new Map}function dI(t){return L.useEffect(()=>()=>t(),[])}const ys=t=>t.key||"";function fI(t,e){t.forEach(n=>{const r=ys(n);e.set(r,n)})}function pI(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const mI=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=L.useContext(mp).forceRender||lI()[0],u=f2(),h=pI(t);let d=h;const p=L.useRef(new Map).current,g=L.useRef(d),y=L.useRef(new Map).current,b=L.useRef(!0);if(hp(()=>{b.current=!1,fI(h,y),g.current=d}),dI(()=>{b.current=!0,y.clear(),p.clear()}),b.current)return L.createElement(L.Fragment,null,d.map(v=>L.createElement(bh,{key:ys(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},v)));d=[...d];const S=g.current.map(ys),P=h.map(ys),T=S.length;for(let v=0;v<T;v++){const _=S[v];P.indexOf(_)===-1&&!p.has(_)&&p.set(_,void 0)}return o==="wait"&&p.size&&(d=[]),p.forEach((v,_)=>{if(P.indexOf(_)!==-1)return;const R=y.get(_);if(!R)return;const V=S.indexOf(_);let M=v;if(!M){const A=()=>{p.delete(_);const x=Array.from(y.keys()).filter(E=>!P.includes(E));if(x.forEach(E=>y.delete(E)),g.current=h.filter(E=>{const k=ys(E);return k===_||x.includes(k)}),!p.size){if(u.current===!1)return;l(),r&&r()}};M=L.createElement(bh,{key:ys(R),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:i,mode:o},R),p.set(_,M)}d.splice(V,0,M)}),d=d.map(v=>{const _=v.key;return p.has(_)?v:L.createElement(bh,{key:ys(v),isPresent:!0,presenceAffectsLayout:i,mode:o},v)}),L.createElement(L.Fragment,null,p.size?d:d.map(v=>L.cloneElement(v)))};function gI(){return c.jsx(yt,{children:c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[607px] bg-gradient-to-b from-[#1A2238] via-[#2A3248] to-[#1A2238] text-white px-6 relative overflow-hidden",children:[c.jsx(ae.div,{className:"absolute w-96 h-96 bg-[#FF6A3D] rounded-full opacity-10 blur-3xl",animate:{scale:[1,1.2,1],x:[0,50,0],y:[0,-50,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{top:"-10%",right:"-20%"}}),c.jsx(ae.div,{className:"absolute w-80 h-80 bg-[#9DAAF2] rounded-full opacity-10 blur-3xl",animate:{scale:[1,1.3,1],x:[0,-50,0],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},style:{bottom:"-10%",left:"-20%"}}),c.jsxs(ae.div,{className:"mb-8 relative z-10",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:[.34,1.56,.64,1],delay:.2},children:[c.jsx(ae.div,{className:"w-32 h-32 bg-gradient-to-br from-[#FF6A3D] to-[#9DAAF2] rounded-3xl flex items-center justify-center mb-4 mx-auto shadow-2xl",animate:{rotateY:[0,360],boxShadow:["0 20px 60px rgba(255, 106, 61, 0.3)","0 20px 60px rgba(157, 170, 242, 0.3)","0 20px 60px rgba(255, 106, 61, 0.3)"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})}),c.jsx(ae.h1,{className:"text-center mb-2",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.6},children:"vserveu"}),c.jsx(ae.p,{className:"text-[#9DAAF2] text-center italic text-lg",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.6},children:'"v for us, v by us"'})]}),c.jsx(ae.div,{className:"mt-auto mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},children:c.jsx("div",{className:"flex gap-2 justify-center",children:[0,1,2].map(t=>c.jsx(ae.div,{className:"w-2 h-2 bg-white rounded-full",animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:t*.2}},t))})})]})})}function wn({children:t,className:e="",onClick:n}){return c.jsx("div",{className:`bg-white rounded-2xl shadow-sm p-4 ${n?"cursor-pointer hover:shadow-md transition-shadow":""} ${e}`,onClick:n,children:t})}function yI({onSelectRole:t}){const e=[{id:"user",title:"User",description:"Find local services",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})},{id:"worker",title:"Worker",description:"Offer your services",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 7h-9"}),c.jsx("path",{d:"M14 17H5"}),c.jsx("circle",{cx:"17",cy:"17",r:"3"}),c.jsx("circle",{cx:"7",cy:"7",r:"3"})]})},{id:"admin",title:"Admin",description:"Manage platform",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}];return c.jsx(yt,{children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h1",{className:"text-[#1A2238] mb-2",children:"Welcome to vserveu"}),c.jsx("p",{className:"text-[#2E2E2E]",children:"Select your role to continue"})]}),c.jsx("div",{className:"space-y-4",children:e.map(n=>c.jsx(wn,{onClick:()=>t(n.id),className:"p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"text-[#1A2238]",children:n.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-[#1A2238]",children:n.title}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:n.description})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m9 18 6-6-6-6"})})]})},n.id))})]})})}function Me({variant:t="primary",size:e="md",children:n,className:r="",...s}){const i="rounded-xl transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",o={primary:"bg-[#1A2238] text-white hover:bg-[#2A3248]",secondary:"bg-[#9DAAF2] text-[#1A2238] hover:bg-[#8D9AE2]",accent:"bg-[#FF6A3D] text-white hover:bg-[#EF5A2D]",outline:"border-2 border-[#1A2238] text-[#1A2238] hover:bg-[#1A2238] hover:text-white"},l={sm:"px-4 py-2 min-h-[40px]",md:"px-6 py-3 min-h-[48px]",lg:"px-8 py-4 min-h-[56px]"};return c.jsx("button",{className:`${i} ${o[t]} ${l[e]} ${r}`,...s,children:n})}const vI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},m2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,o||(g=64)),r.push(n[d],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new wI;const g=i<<2|l>>4;if(r.push(g),h!==64){const y=l<<4&240|h>>2;if(r.push(y),p!==64){const b=h<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _I=function(t){const e=p2(t);return m2.encodeByteArray(e,!0)},bu=function(t){return _I(t).replace(/\./g,"")},EI=function(t){try{return m2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=()=>TI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EI(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return vI()||SI()||AI()||CI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kI=t=>{var e,n;return(n=(e=jp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bI=t=>{const e=kI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g2=()=>{var t;return(t=jp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[bu(JSON.stringify(n)),bu(JSON.stringify(o)),l].join(".")}const Go={};function RI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?t.emulator.push(e):t.prod.push(e);return t}function jI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f0=!1;function VI(t,e){if(typeof window>"u"||typeof document>"u"||!Vp(window.location.host)||Go[t]===e||Go[t]||f0)return;Go[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=RI().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{f0=!0,o()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=jI(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),P=document.getElementById(S)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const _=g.element;l(_),d(P,S);const R=h();u(v,T),_.append(v,b,P,R),document.body.appendChild(_)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){var e;const t=(e=jp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return!MI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BI,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y2.prototype.create)}}class y2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?UI(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Gi(s,l,r)}}function UI(t,e){return t.replace(zI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zI=/\{\$([^}]+)}/g;function Iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(p0(i)&&p0(o)){if(!Iu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function p0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){return t&&t._delegate?t._delegate:t}class va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new II;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HI(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WI(t){return t===vs?void 0:t}function HI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const GI={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},KI=ge.INFO,QI={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},YI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v2{constructor(e){this.name=e,this._logLevel=KI,this._logHandler=YI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const XI=(t,e)=>e.some(n=>t instanceof n);let m0,g0;function JI(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZI(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x2=new WeakMap,Wd=new WeakMap,w2=new WeakMap,Ih=new WeakMap,Dp=new WeakMap;function eP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x2.set(n,t)}).catch(()=>{}),Dp.set(e,t),e}function tP(t){if(Wd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wd.set(t,e)}let Hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nP(t){Hd=t(Hd)}function rP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ph(this),e,...n);return w2.set(r,e.sort?e.sort():[e]),Fr(r)}:ZI().includes(t)?function(...e){return t.apply(Ph(this),e),Fr(x2.get(this))}:function(...e){return Fr(t.apply(Ph(this),e))}}function sP(t){return typeof t=="function"?rP(t):(t instanceof IDBTransaction&&tP(t),XI(t,JI())?new Proxy(t,Hd):t)}function Fr(t){if(t instanceof IDBRequest)return eP(t);if(Ih.has(t))return Ih.get(t);const e=sP(t);return e!==t&&(Ih.set(t,e),Dp.set(e,t)),e}const Ph=t=>Dp.get(t);function iP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Fr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Fr(o.result),u.oldVersion,u.newVersion,Fr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const oP=["get","getKey","getAll","getAllKeys","count"],aP=["put","add","delete","clear"],Nh=new Map;function y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nh.get(e))return Nh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oP.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return Nh.set(e,i),i}nP(t=>({...t,get:(e,n,r)=>y0(e,n)||t.get(e,n,r),has:(e,n)=>!!y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qd="@firebase/app",v0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new v2("@firebase/app"),cP="@firebase/app-compat",hP="@firebase/analytics-compat",dP="@firebase/analytics",fP="@firebase/app-check-compat",pP="@firebase/app-check",mP="@firebase/auth",gP="@firebase/auth-compat",yP="@firebase/database",vP="@firebase/data-connect",xP="@firebase/database-compat",wP="@firebase/functions",_P="@firebase/functions-compat",EP="@firebase/installations",TP="@firebase/installations-compat",SP="@firebase/messaging",AP="@firebase/messaging-compat",CP="@firebase/performance",kP="@firebase/performance-compat",bP="@firebase/remote-config",IP="@firebase/remote-config-compat",PP="@firebase/storage",NP="@firebase/storage-compat",RP="@firebase/firestore",jP="@firebase/ai",VP="@firebase/firestore-compat",DP="firebase",MP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",LP={[qd]:"fire-core",[cP]:"fire-core-compat",[dP]:"fire-analytics",[hP]:"fire-analytics-compat",[pP]:"fire-app-check",[fP]:"fire-app-check-compat",[mP]:"fire-auth",[gP]:"fire-auth-compat",[yP]:"fire-rtdb",[vP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[wP]:"fire-fn",[_P]:"fire-fn-compat",[EP]:"fire-iid",[TP]:"fire-iid-compat",[SP]:"fire-fcm",[AP]:"fire-fcm-compat",[CP]:"fire-perf",[kP]:"fire-perf-compat",[bP]:"fire-rc",[IP]:"fire-rc-compat",[PP]:"fire-gcs",[NP]:"fire-gcs-compat",[RP]:"fire-fst",[VP]:"fire-fst-compat",[jP]:"fire-vertex","fire-js":"fire-js",[DP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,FP=new Map,Kd=new Map;function x0(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(Kd.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Kd.set(e,t);for(const n of Pu.values())x0(n,t);for(const n of FP.values())x0(n,t);return!0}function OP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new y2("app","Firebase",UP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=MP;function _2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Or.create("bad-app-name",{appName:String(s)});if(n||(n=g2()),!n)throw Or.create("no-options");const i=Pu.get(s);if(i){if(Iu(n,i.options)&&Iu(r,i.config))return i;throw Or.create("duplicate-app",{appName:s})}const o=new qI(s);for(const u of Kd.values())o.addComponent(u);const l=new zP(n,r,o);return Pu.set(s,l),l}function WP(t=Gd){const e=Pu.get(t);if(!e&&t===Gd&&g2())return _2();if(!e)throw Or.create("no-app",{appName:t});return e}function Ai(t,e,n){let r=LP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(o.join(" "));return}Nu(new va(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",qP=1,xa="firebase-heartbeat-store";let Rh=null;function E2(){return Rh||(Rh=iP(HP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),Rh}async function GP(t){try{const n=(await E2()).transaction(xa),r=await n.objectStore(xa).get(T2(t));return await n.done,r}catch(e){if(e instanceof Gi)ar.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function w0(t,e){try{const r=(await E2()).transaction(xa,"readwrite");await r.objectStore(xa).put(e,T2(t)),await r.done}catch(n){if(n instanceof Gi)ar.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function T2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1024,QP=30;class YP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>QP){const o=ZP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_0(),{heartbeatsToSend:r,unsentEntries:s}=XP(this._heartbeatsCache.heartbeats),i=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ar.warn(n),""}}}function _0(){return new Date().toISOString().substring(0,10)}function XP(t,e=KP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),E0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function E0(t){return bu(JSON.stringify({version:2,heartbeats:t})).length}function ZP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){Nu(new va("platform-logger",e=>new lP(e),"PRIVATE")),Nu(new va("heartbeat",e=>new YP(e),"PRIVATE")),Ai(qd,v0,t),Ai(qd,v0,"esm2020"),Ai("fire-js","")}eN("");var tN="firebase",nN="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(tN,nN,"app");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,S2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,x){function E(){}E.prototype=x.prototype,A.F=x.prototype,A.prototype=new E,A.prototype.constructor=A,A.D=function(k,I,N){for(var C=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)C[Z-2]=arguments[Z];return x.prototype[I].apply(k,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,x,E){E||(E=0);const k=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)k[I]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(I=0;I<16;++I)k[I]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=A.g[0],E=A.g[1],I=A.g[2];let N=A.g[3],C;C=x+(N^E&(I^N))+k[0]+3614090360&4294967295,x=E+(C<<7&4294967295|C>>>25),C=N+(I^x&(E^I))+k[1]+3905402710&4294967295,N=x+(C<<12&4294967295|C>>>20),C=I+(E^N&(x^E))+k[2]+606105819&4294967295,I=N+(C<<17&4294967295|C>>>15),C=E+(x^I&(N^x))+k[3]+3250441966&4294967295,E=I+(C<<22&4294967295|C>>>10),C=x+(N^E&(I^N))+k[4]+4118548399&4294967295,x=E+(C<<7&4294967295|C>>>25),C=N+(I^x&(E^I))+k[5]+1200080426&4294967295,N=x+(C<<12&4294967295|C>>>20),C=I+(E^N&(x^E))+k[6]+2821735955&4294967295,I=N+(C<<17&4294967295|C>>>15),C=E+(x^I&(N^x))+k[7]+4249261313&4294967295,E=I+(C<<22&4294967295|C>>>10),C=x+(N^E&(I^N))+k[8]+1770035416&4294967295,x=E+(C<<7&4294967295|C>>>25),C=N+(I^x&(E^I))+k[9]+2336552879&4294967295,N=x+(C<<12&4294967295|C>>>20),C=I+(E^N&(x^E))+k[10]+4294925233&4294967295,I=N+(C<<17&4294967295|C>>>15),C=E+(x^I&(N^x))+k[11]+2304563134&4294967295,E=I+(C<<22&4294967295|C>>>10),C=x+(N^E&(I^N))+k[12]+1804603682&4294967295,x=E+(C<<7&4294967295|C>>>25),C=N+(I^x&(E^I))+k[13]+4254626195&4294967295,N=x+(C<<12&4294967295|C>>>20),C=I+(E^N&(x^E))+k[14]+2792965006&4294967295,I=N+(C<<17&4294967295|C>>>15),C=E+(x^I&(N^x))+k[15]+1236535329&4294967295,E=I+(C<<22&4294967295|C>>>10),C=x+(I^N&(E^I))+k[1]+4129170786&4294967295,x=E+(C<<5&4294967295|C>>>27),C=N+(E^I&(x^E))+k[6]+3225465664&4294967295,N=x+(C<<9&4294967295|C>>>23),C=I+(x^E&(N^x))+k[11]+643717713&4294967295,I=N+(C<<14&4294967295|C>>>18),C=E+(N^x&(I^N))+k[0]+3921069994&4294967295,E=I+(C<<20&4294967295|C>>>12),C=x+(I^N&(E^I))+k[5]+3593408605&4294967295,x=E+(C<<5&4294967295|C>>>27),C=N+(E^I&(x^E))+k[10]+38016083&4294967295,N=x+(C<<9&4294967295|C>>>23),C=I+(x^E&(N^x))+k[15]+3634488961&4294967295,I=N+(C<<14&4294967295|C>>>18),C=E+(N^x&(I^N))+k[4]+3889429448&4294967295,E=I+(C<<20&4294967295|C>>>12),C=x+(I^N&(E^I))+k[9]+568446438&4294967295,x=E+(C<<5&4294967295|C>>>27),C=N+(E^I&(x^E))+k[14]+3275163606&4294967295,N=x+(C<<9&4294967295|C>>>23),C=I+(x^E&(N^x))+k[3]+4107603335&4294967295,I=N+(C<<14&4294967295|C>>>18),C=E+(N^x&(I^N))+k[8]+1163531501&4294967295,E=I+(C<<20&4294967295|C>>>12),C=x+(I^N&(E^I))+k[13]+2850285829&4294967295,x=E+(C<<5&4294967295|C>>>27),C=N+(E^I&(x^E))+k[2]+4243563512&4294967295,N=x+(C<<9&4294967295|C>>>23),C=I+(x^E&(N^x))+k[7]+1735328473&4294967295,I=N+(C<<14&4294967295|C>>>18),C=E+(N^x&(I^N))+k[12]+2368359562&4294967295,E=I+(C<<20&4294967295|C>>>12),C=x+(E^I^N)+k[5]+4294588738&4294967295,x=E+(C<<4&4294967295|C>>>28),C=N+(x^E^I)+k[8]+2272392833&4294967295,N=x+(C<<11&4294967295|C>>>21),C=I+(N^x^E)+k[11]+1839030562&4294967295,I=N+(C<<16&4294967295|C>>>16),C=E+(I^N^x)+k[14]+4259657740&4294967295,E=I+(C<<23&4294967295|C>>>9),C=x+(E^I^N)+k[1]+2763975236&4294967295,x=E+(C<<4&4294967295|C>>>28),C=N+(x^E^I)+k[4]+1272893353&4294967295,N=x+(C<<11&4294967295|C>>>21),C=I+(N^x^E)+k[7]+4139469664&4294967295,I=N+(C<<16&4294967295|C>>>16),C=E+(I^N^x)+k[10]+3200236656&4294967295,E=I+(C<<23&4294967295|C>>>9),C=x+(E^I^N)+k[13]+681279174&4294967295,x=E+(C<<4&4294967295|C>>>28),C=N+(x^E^I)+k[0]+3936430074&4294967295,N=x+(C<<11&4294967295|C>>>21),C=I+(N^x^E)+k[3]+3572445317&4294967295,I=N+(C<<16&4294967295|C>>>16),C=E+(I^N^x)+k[6]+76029189&4294967295,E=I+(C<<23&4294967295|C>>>9),C=x+(E^I^N)+k[9]+3654602809&4294967295,x=E+(C<<4&4294967295|C>>>28),C=N+(x^E^I)+k[12]+3873151461&4294967295,N=x+(C<<11&4294967295|C>>>21),C=I+(N^x^E)+k[15]+530742520&4294967295,I=N+(C<<16&4294967295|C>>>16),C=E+(I^N^x)+k[2]+3299628645&4294967295,E=I+(C<<23&4294967295|C>>>9),C=x+(I^(E|~N))+k[0]+4096336452&4294967295,x=E+(C<<6&4294967295|C>>>26),C=N+(E^(x|~I))+k[7]+1126891415&4294967295,N=x+(C<<10&4294967295|C>>>22),C=I+(x^(N|~E))+k[14]+2878612391&4294967295,I=N+(C<<15&4294967295|C>>>17),C=E+(N^(I|~x))+k[5]+4237533241&4294967295,E=I+(C<<21&4294967295|C>>>11),C=x+(I^(E|~N))+k[12]+1700485571&4294967295,x=E+(C<<6&4294967295|C>>>26),C=N+(E^(x|~I))+k[3]+2399980690&4294967295,N=x+(C<<10&4294967295|C>>>22),C=I+(x^(N|~E))+k[10]+4293915773&4294967295,I=N+(C<<15&4294967295|C>>>17),C=E+(N^(I|~x))+k[1]+2240044497&4294967295,E=I+(C<<21&4294967295|C>>>11),C=x+(I^(E|~N))+k[8]+1873313359&4294967295,x=E+(C<<6&4294967295|C>>>26),C=N+(E^(x|~I))+k[15]+4264355552&4294967295,N=x+(C<<10&4294967295|C>>>22),C=I+(x^(N|~E))+k[6]+2734768916&4294967295,I=N+(C<<15&4294967295|C>>>17),C=E+(N^(I|~x))+k[13]+1309151649&4294967295,E=I+(C<<21&4294967295|C>>>11),C=x+(I^(E|~N))+k[4]+4149444226&4294967295,x=E+(C<<6&4294967295|C>>>26),C=N+(E^(x|~I))+k[11]+3174756917&4294967295,N=x+(C<<10&4294967295|C>>>22),C=I+(x^(N|~E))+k[2]+718787259&4294967295,I=N+(C<<15&4294967295|C>>>17),C=E+(N^(I|~x))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.v=function(A,x){x===void 0&&(x=A.length);const E=x-this.blockSize,k=this.C;let I=this.h,N=0;for(;N<x;){if(I==0)for(;N<=E;)s(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<x;)if(k[I++]=A.charCodeAt(N++),I==this.blockSize){s(this,k),I=0;break}}else for(;N<x;)if(k[I++]=A[N++],I==this.blockSize){s(this,k),I=0;break}}this.h=I,this.o+=x},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;x=this.o*8;for(var E=A.length-8;E<A.length;++E)A[E]=x&255,x/=256;for(this.v(A),A=Array(16),x=0,E=0;E<4;++E)for(let k=0;k<32;k+=8)A[x++]=this.g[E]>>>k&255;return A};function i(A,x){var E=l;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=x(A)}function o(A,x){this.h=x;const E=[];let k=!0;for(let I=A.length-1;I>=0;I--){const N=A[I]|0;k&&N==x||(E[I]=N,k=!1)}this.g=E}var l={};function u(A){return-128<=A&&A<128?i(A,function(x){return new o([x|0],x<0?-1:0)}):new o([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return P(h(-A));const x=[];let E=1;for(let k=0;A>=E;k++)x[k]=A/E|0,E*=4294967296;return new o(x,0)}function d(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return P(d(A.substring(1),x));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=h(Math.pow(x,8));let k=p;for(let N=0;N<A.length;N+=8){var I=Math.min(8,A.length-N);const C=parseInt(A.substring(N,N+I),x);I<8?(I=h(Math.pow(x,I)),k=k.j(I).add(h(C))):(k=k.j(E),k=k.add(h(C)))}return k}var p=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();let A=0,x=1;for(let E=0;E<this.g.length;E++){const k=this.i(E);A+=(k>=0?k:4294967296+k)*x,x*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(S(this))return"-"+P(this).toString(A);const x=h(Math.pow(A,6));var E=this;let k="";for(;;){const I=R(E,x).g;E=T(E,I.j(x));let N=((E.g.length>0?E.g[0]:E.h)>>>0).toString(A);if(E=I,b(E))return N+k;for(;N.length<6;)N="0"+N;k=N+k}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(let x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=T(this,A),S(A)?-1:b(A)?0:1};function P(A){const x=A.g.length,E=[];for(let k=0;k<x;k++)E[k]=~A.g[k];return new o(E,~A.h).add(g)}t.abs=function(){return S(this)?P(this):this},t.add=function(A){const x=Math.max(this.g.length,A.g.length),E=[];let k=0;for(let I=0;I<=x;I++){let N=k+(this.i(I)&65535)+(A.i(I)&65535),C=(N>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);k=C>>>16,N&=65535,C&=65535,E[I]=C<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(A,x){return A.add(P(x))}t.j=function(A){if(b(this)||b(A))return p;if(S(this))return S(A)?P(this).j(P(A)):P(P(this).j(A));if(S(A))return P(this.j(P(A)));if(this.l(y)<0&&A.l(y)<0)return h(this.m()*A.m());const x=this.g.length+A.g.length,E=[];for(var k=0;k<2*x;k++)E[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<A.g.length;I++){const N=this.i(k)>>>16,C=this.i(k)&65535,Z=A.i(I)>>>16,we=A.i(I)&65535;E[2*k+2*I]+=C*we,v(E,2*k+2*I),E[2*k+2*I+1]+=N*we,v(E,2*k+2*I+1),E[2*k+2*I+1]+=C*Z,v(E,2*k+2*I+1),E[2*k+2*I+2]+=N*Z,v(E,2*k+2*I+2)}for(A=0;A<x;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=x;A<2*x;A++)E[A]=0;return new o(E,0)};function v(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function _(A,x){this.g=A,this.h=x}function R(A,x){if(b(x))throw Error("division by zero");if(b(A))return new _(p,p);if(S(A))return x=R(P(A),x),new _(P(x.g),P(x.h));if(S(x))return x=R(A,P(x)),new _(P(x.g),x.h);if(A.g.length>30){if(S(A)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var E=g,k=x;k.l(A)<=0;)E=V(E),k=V(k);var I=M(E,1),N=M(k,1);for(k=M(k,2),E=M(E,2);!b(k);){var C=N.add(k);C.l(A)<=0&&(I=I.add(E),N=C),k=M(k,1),E=M(E,1)}return x=T(A,I.j(x)),new _(I,x)}for(I=p;A.l(x)>=0;){for(E=Math.max(1,Math.floor(A.m()/x.m())),k=Math.ceil(Math.log(E)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),N=h(E),C=N.j(x);S(C)||C.l(A)>0;)E-=k,N=h(E),C=N.j(x);b(N)&&(N=g),I=I.add(N),A=T(A,C)}return new _(I,A)}t.B=function(A){return R(this,A).h},t.and=function(A){const x=Math.max(this.g.length,A.g.length),E=[];for(let k=0;k<x;k++)E[k]=this.i(k)&A.i(k);return new o(E,this.h&A.h)},t.or=function(A){const x=Math.max(this.g.length,A.g.length),E=[];for(let k=0;k<x;k++)E[k]=this.i(k)|A.i(k);return new o(E,this.h|A.h)},t.xor=function(A){const x=Math.max(this.g.length,A.g.length),E=[];for(let k=0;k<x;k++)E[k]=this.i(k)^A.i(k);return new o(E,this.h^A.h)};function V(A){const x=A.g.length+1,E=[];for(let k=0;k<x;k++)E[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(E,A.h)}function M(A,x){const E=x>>5;x%=32;const k=A.g.length-E,I=[];for(let N=0;N<k;N++)I[N]=x>0?A.i(N+E)>>>x|A.i(N+E+1)<<32-x:A.i(N+E);return new o(I,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,Br=o}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A2,Po,C2,Wl,Qd,k2,b2,I2;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)e:{var m=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var j=a[w];if(!(j in m))break e;m=m[j]}a=a[a.length-1],w=m[a],f=f(w),f!=w&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var m=[],w;for(w in f)Object.prototype.hasOwnProperty.call(f,w)&&m.push([w,f[w]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,m){return a.call.apply(a.bind,arguments)}function h(a,f,m){return h=u,h.apply(null,arguments)}function d(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function p(a,f){function m(){}m.prototype=f.prototype,a.Z=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Ob=function(w,j,D){for(var $=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)$[oe-2]=arguments[oe];return f.prototype[j].apply(w,$)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function y(a){const f=a.length;if(f>0){const m=Array(f);for(let w=0;w<f;w++)m[w]=a[w];return m}return[]}function b(a,f){for(let w=1;w<arguments.length;w++){const j=arguments[w];var m=typeof j;if(m=m!="object"?m:j?Array.isArray(j)?"array":m:"null",m=="array"||m=="object"&&typeof j.length=="number"){m=a.length||0;const D=j.length||0;a.length=m+D;for(let $=0;$<D;$++)a[m+$]=j[$]}else a.push(j)}}class S{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(a){o.setTimeout(()=>{throw a},0)}function T(){var a=A;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class v{constructor(){this.h=this.g=null}add(f,m){const w=_.get();w.set(f,m),this.h?this.h.next=w:this.g=w,this.h=w}}var _=new S(()=>new R,a=>a.reset());class R{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,M=!1,A=new v,x=()=>{const a=Promise.resolve(void 0);V=()=>{a.then(E)}};function E(){for(var a;a=T();){try{a.h.call(a.g)}catch(m){P(m)}var f=_;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return a}();function C(a){return/^[\s\xa0]*$/.test(a)}function Z(a,f){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}p(Z,I),Z.prototype.init=function(a,f){const m=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),ue=0;function _e(a,f,m,w,j){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!w,this.ha=j,this.key=++ue,this.da=this.fa=!1}function z(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function U(a,f,m){for(const w in a)f.call(m,a[w],w,a)}function Q(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function X(a){const f={};for(const m in a)f[m]=a[m];return f}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(a,f){let m,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(m in w)a[m]=w[m];for(let D=0;D<Y.length;D++)m=Y[D],Object.prototype.hasOwnProperty.call(w,m)&&(a[m]=w[m])}}function ie(a){this.src=a,this.g={},this.h=0}ie.prototype.add=function(a,f,m,w,j){const D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);const $=Se(a,f,w,j);return $>-1?(f=a[$],m||(f.fa=!1)):(f=new _e(f,this.src,D,!!w,j),f.fa=m,a.push(f)),f};function Ee(a,f){const m=f.type;if(m in a.g){var w=a.g[m],j=Array.prototype.indexOf.call(w,f,void 0),D;(D=j>=0)&&Array.prototype.splice.call(w,j,1),D&&(z(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Se(a,f,m,w){for(let j=0;j<a.length;++j){const D=a[j];if(!D.da&&D.listener==f&&D.capture==!!m&&D.ha==w)return j}return-1}var he="closure_lm_"+(Math.random()*1e6|0),cn={};function bt(a,f,m,w,j){if(w&&w.once)return it(a,f,m,w,j);if(Array.isArray(f)){for(let D=0;D<f.length;D++)bt(a,f[D],m,w,j);return null}return m=Zi(m),a&&a[we]?a.J(f,m,l(w)?!!w.capture:!!w,j):It(a,f,m,!1,w,j)}function It(a,f,m,w,j,D){if(!f)throw Error("Invalid event type");const $=l(j)?!!j.capture:!!j;let oe=Ji(a);if(oe||(a[he]=oe=new ie(a)),m=oe.add(f,m,w,$,D),m.proxy)return m;if(w=G(),m.proxy=w,w.src=a,w.listener=m,a.addEventListener)N||(j=$),j===void 0&&(j=!1),a.addEventListener(f.toString(),w,j);else if(a.attachEvent)a.attachEvent(rs(f.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function G(){function a(m){return f.call(a.src,a.listener,m)}const f=zn;return a}function it(a,f,m,w,j){if(Array.isArray(f)){for(let D=0;D<f.length;D++)it(a,f[D],m,w,j);return null}return m=Zi(m),a&&a[we]?a.K(f,m,l(w)?!!w.capture:!!w,j):It(a,f,m,!0,w,j)}function Un(a,f,m,w,j){if(Array.isArray(f))for(var D=0;D<f.length;D++)Un(a,f[D],m,w,j);else w=l(w)?!!w.capture:!!w,m=Zi(m),a&&a[we]?(a=a.i,D=String(f).toString(),D in a.g&&(f=a.g[D],m=Se(f,m,w,j),m>-1&&(z(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete a.g[D],a.h--)))):a&&(a=Ji(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Se(f,m,w,j)),(m=a>-1?f[a]:null)&&We(m))}function We(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[we])Ee(f.i,a);else{var m=a.type,w=a.proxy;f.removeEventListener?f.removeEventListener(m,w,a.capture):f.detachEvent?f.detachEvent(rs(m),w):f.addListener&&f.removeListener&&f.removeListener(w),(m=Ji(f))?(Ee(m,a),m.h==0&&(m.src=null,f[he]=null)):z(a)}}}function rs(a){return a in cn?cn[a]:cn[a]="on"+a}function zn(a,f){if(a.da)a=!0;else{f=new Z(f,this);const m=a.listener,w=a.ha||a.src;a.fa&&We(a),a=m.call(w,f)}return a}function Ji(a){return a=a[he],a instanceof ie?a:null}var ss="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zi(a){return typeof a=="function"?a:(a[ss]||(a[ss]=function(f){return a.handleEvent(f)}),a[ss])}function et(){k.call(this),this.i=new ie(this),this.M=this,this.G=null}p(et,k),et.prototype[we]=!0,et.prototype.removeEventListener=function(a,f,m,w){Un(this,a,f,m,w)};function He(a,f){var m,w=a.G;if(w)for(m=[];w;w=w.G)m.push(w);if(a=a.M,w=f.type||f,typeof f=="string")f=new I(f,a);else if(f instanceof I)f.target=f.target||a;else{var j=f;f=new I(w,a),le(f,j)}j=!0;let D,$;if(m)for($=m.length-1;$>=0;$--)D=f.g=m[$],j=is(D,w,!0,f)&&j;if(D=f.g=a,j=is(D,w,!0,f)&&j,j=is(D,w,!1,f)&&j,m)for($=0;$<m.length;$++)D=f.g=m[$],j=is(D,w,!1,f)&&j}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const m=a.g[f];for(let w=0;w<m.length;w++)z(m[w]);delete a.g[f],a.h--}}this.G=null},et.prototype.J=function(a,f,m,w){return this.i.add(String(a),f,!1,m,w)},et.prototype.K=function(a,f,m,w){return this.i.add(String(a),f,!0,m,w)};function is(a,f,m,w){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let j=!0;for(let D=0;D<f.length;++D){const $=f[D];if($&&!$.da&&$.capture==m){const oe=$.listener,tt=$.ha||$.src;$.fa&&Ee(a.i,$),j=oe.call(tt,w)!==!1&&j}}return j&&!w.defaultPrevented}function $n(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function za(a){a.g=$n(()=>{a.g=null,a.i&&(a.i=!1,za(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class bc extends k{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(a){k.call(this),this.h=a,this.g={}}p(ot,k);var Wn=[];function $a(a){U(a.g,function(f,m){this.g.hasOwnProperty(m)&&We(f)},a),a.g={}}ot.prototype.N=function(){ot.Z.N.call(this),$a(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=o.JSON.stringify,Hs=o.JSON.parse,Ic=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function to(){}function qs(){}var Jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gs(){I.call(this,"d")}p(Gs,I);function Sn(){I.call(this,"c")}p(Sn,I);var Hn={},Wa=null;function os(){return Wa=Wa||new et}Hn.Ia="serverreachability";function no(a){I.call(this,Hn.Ia,a)}p(no,I);function as(a){const f=os();He(f,new no(f))}Hn.STAT_EVENT="statevent";function Ks(a,f){I.call(this,Hn.STAT_EVENT,a),this.stat=f}p(Ks,I);function je(a){const f=os();He(f,new Ks(f,a))}Hn.Ja="timingevent";function Ha(a,f){I.call(this,Hn.Ja,a),this.size=f}p(Ha,I);function ee(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function pe(){this.g=!0}pe.prototype.ua=function(){this.g=!1};function Ae(a,f,m,w,j,D){a.info(function(){if(a.g)if(D){var $="",oe=D.split("&");for(let Te=0;Te<oe.length;Te++){var tt=oe[Te].split("=");if(tt.length>1){const lt=tt[0];tt=tt[1];const kn=lt.split("_");$=kn.length>=2&&kn[1]=="type"?$+(lt+"="+tt+"&"):$+(lt+"=redacted&")}}}else $=null;else $=D;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+f+`
`+m+`
`+$})}function $t(a,f,m,w,j,D,$){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+f+`
`+m+`
`+D+" "+$})}function at(a,f,m,w){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+qn(a,m)+(w?" "+w:"")})}function An(a,f){a.info(function(){return"TIMEOUT: "+f})}pe.prototype.info=function(){};function qn(a,f){if(!a.g)return f;if(!f)return null;try{const D=JSON.parse(f);if(D){for(a=0;a<D.length;a++)if(Array.isArray(D[a])){var m=D[a];if(!(m.length<2)){var w=m[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let $=1;$<w.length;$++)w[$]=""}}}}return eo(D)}catch{return f}}var xt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gm;function Pc(){}p(Pc,to),Pc.prototype.g=function(){return new XMLHttpRequest},gm=new Pc;function ro(a){return encodeURIComponent(String(a))}function uE(a){var f=1;a=a.split(":");const m=[];for(;f>0&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function hr(a,f,m,w){this.j=a,this.i=f,this.l=m,this.S=w||1,this.V=new ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ym}function ym(){this.i=null,this.g="",this.h=!1}var vm={},Nc={};function Rc(a,f,m){a.M=1,a.A=Ga(Cn(f)),a.u=m,a.R=!0,xm(a,null)}function xm(a,f){a.F=Date.now(),qa(a),a.B=Cn(a.A);var m=a.B,w=a.S;Array.isArray(w)||(w=[String(w)]),Rm(m.i,"t",w),a.C=0,m=a.j.L,a.h=new ym,a.g=Ym(a.j,m?f:null,!a.u),a.P>0&&(a.O=new bc(h(a.Y,a,a.g),a.P)),f=a.V,m=a.g,w=a.ba;var j="readystatechange";Array.isArray(j)||(j&&(Wn[0]=j.toString()),j=Wn);for(let D=0;D<j.length;D++){const $=bt(m,j[D],w||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=a.J?X(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),as(),Ae(a.i,a.v,a.B,a.l,a.S,a.u)}hr.prototype.ba=function(a){a=a.target;const f=this.O;f&&pr(a)==3?f.j():this.Y(a)},hr.prototype.Y=function(a){try{if(a==this.g)e:{const oe=pr(this.g),tt=this.g.ya(),Te=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||Om(this.g)))){this.K||oe!=4||tt==7||(tt==8||Te<=0?as(3):as(2)),jc(this);var f=this.g.ca();this.X=f;var m=cE(this);if(this.o=f==200,$t(this.i,this.v,this.B,this.l,this.S,oe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var D=w;break t}}D=null}if(a=D)at(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vc(this,a);else{this.o=!1,this.m=3,je(12),ls(this),so(this);break e}}if(this.R){a=!0;let lt;for(;!this.K&&this.C<m.length;)if(lt=hE(this,m),lt==Nc){oe==4&&(this.m=4,je(14),a=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==vm){this.m=4,je(15),at(this.i,this.l,m,"[Invalid Chunk]"),a=!1;break}else at(this.i,this.l,lt,null),Vc(this,lt);if(wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||m.length!=0||this.h.h||(this.m=1,je(16),a=!1),this.o=this.o&&a,!a)at(this.i,this.l,m,"[Invalid Chunked Response]"),ls(this),so(this);else if(m.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),zc($),$.P=!0,je(11))}}else at(this.i,this.l,m,null),Vc(this,m);oe==4&&ls(this),this.o&&!this.K&&(oe==4?qm(this.j,this):(this.o=!1,qa(this)))}else AE(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),ls(this),so(this)}}}catch{}finally{}};function cE(a){if(!wm(a))return a.g.la();const f=Om(a.g);if(f==="")return"";let m="";const w=f.length,j=pr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return ls(a),so(a),"";a.h.i=new o.TextDecoder}for(let D=0;D<w;D++)a.h.h=!0,m+=a.h.i.decode(f[D],{stream:!(j&&D==w-1)});return f.length=0,a.h.g+=m,a.C=0,a.h.g}function wm(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function hE(a,f){var m=a.C,w=f.indexOf(`
`,m);return w==-1?Nc:(m=Number(f.substring(m,w)),isNaN(m)?vm:(w+=1,w+m>f.length?Nc:(f=f.slice(w,w+m),a.C=w+m,f)))}hr.prototype.cancel=function(){this.K=!0,ls(this)};function qa(a){a.T=Date.now()+a.H,_m(a,a.H)}function _m(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ee(h(a.aa,a),f)}function jc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}hr.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(An(this.i,this.B),this.M!=2&&(as(),je(17)),ls(this),this.m=2,so(this)):_m(this,this.T-a)};function so(a){a.j.I==0||a.K||qm(a.j,a)}function ls(a){jc(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,$a(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function Vc(a,f){try{var m=a.j;if(m.I!=0&&(m.g==a||Dc(m.h,a))){if(!a.L&&Dc(m.h,a)&&m.I==3){try{var w=m.Ba.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<a.F)Ja(m),Ya(m);else break e;Uc(m),je(18)}}else m.xa=j[1],0<m.xa-m.K&&j[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ee(h(m.Va,m),6e3));Sm(m.h)<=1&&m.ta&&(m.ta=void 0)}else cs(m,11)}else if((a.L||m.g==a)&&Ja(m),!C(f))for(j=m.Ba.g.parse(f),f=0;f<j.length;f++){let Te=j[f];const lt=Te[0];if(!(lt<=m.K))if(m.K=lt,Te=Te[1],m.I==2)if(Te[0]=="c"){m.M=Te[1],m.ba=Te[2];const kn=Te[3];kn!=null&&(m.ka=kn,m.j.info("VER="+m.ka));const hs=Te[4];hs!=null&&(m.za=hs,m.j.info("SVER="+m.za));const mr=Te[5];mr!=null&&typeof mr=="number"&&mr>0&&(w=1.5*mr,m.O=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const gr=a.g;if(gr){const el=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var D=w.h;D.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Mc(D,D.h),D.h=null))}if(w.G){const $c=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(w.wa=$c,Ie(w.J,w.G,$c))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-a.F,m.j.info("Handshake RTT: "+m.T+"ms")),w=m;var $=a;if(w.na=Qm(w,w.L?w.ba:null,w.W),$.L){Am(w.h,$);var oe=$,tt=w.O;tt&&(oe.H=tt),oe.D&&(jc(oe),qa(oe)),w.g=$}else Wm(w);m.i.length>0&&Xa(m)}else Te[0]!="stop"&&Te[0]!="close"||cs(m,7);else m.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?cs(m,7):Bc(m):Te[0]!="noop"&&m.l&&m.l.qa(Te),m.A=0)}}as(4)}catch{}}var dE=class{constructor(a,f){this.g=a,this.map=f}};function Em(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Sm(a){return a.h?1:a.g?a.g.size:0}function Dc(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Mc(a,f){a.g?a.g.add(f):a.h=f}function Am(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Em.prototype.cancel=function(){if(this.i=Cm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Cm(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.G);return f}return y(a.i)}var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fE(a,f){if(a){a=a.split("&");for(let m=0;m<a.length;m++){const w=a[m].indexOf("=");let j,D=null;w>=0?(j=a[m].substring(0,w),D=a[m].substring(w+1)):j=a[m],f(j,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function dr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof dr?(this.l=a.l,io(this,a.j),this.o=a.o,this.g=a.g,oo(this,a.u),this.h=a.h,Lc(this,jm(a.i)),this.m=a.m):a&&(f=String(a).match(km))?(this.l=!1,io(this,f[1]||"",!0),this.o=ao(f[2]||""),this.g=ao(f[3]||"",!0),oo(this,f[4]),this.h=ao(f[5]||"",!0),Lc(this,f[6]||"",!0),this.m=ao(f[7]||"")):(this.l=!1,this.i=new uo(null,this.l))}dr.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(lo(f,bm,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(lo(f,bm,!0),"@"),a.push(ro(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&a.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(lo(m,m.charAt(0)=="/"?gE:mE,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",lo(m,vE)),a.join("")},dr.prototype.resolve=function(a){const f=Cn(this);let m=!!a.j;m?io(f,a.j):m=!!a.o,m?f.o=a.o:m=!!a.g,m?f.g=a.g:m=a.u!=null;var w=a.h;if(m)oo(f,a.u);else if(m=!!a.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=f.h.lastIndexOf("/");j!=-1&&(w=f.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const D=[];for(let $=0;$<j.length;){const oe=j[$++];oe=="."?w&&$==j.length&&D.push(""):oe==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),w&&$==j.length&&D.push("")):(D.push(oe),w=!0)}w=D.join("/")}else w=j}return m?f.h=w:m=a.i.toString()!=="",m?Lc(f,jm(a.i)):m=!!a.m,m&&(f.m=a.m),f};function Cn(a){return new dr(a)}function io(a,f,m){a.j=m?ao(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function oo(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function Lc(a,f,m){f instanceof uo?(a.i=f,xE(a.i,a.l)):(m||(f=lo(f,yE)),a.i=new uo(f,a.l))}function Ie(a,f,m){a.i.set(f,m)}function Ga(a){return Ie(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function ao(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function lo(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,pE),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function pE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var bm=/[#\/\?@]/g,mE=/[#\?:]/g,gE=/[#\?]/g,yE=/[#\?@]/g,vE=/#/g;function uo(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function us(a){a.g||(a.g=new Map,a.h=0,a.i&&fE(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=uo.prototype,t.add=function(a,f){us(this),this.i=null,a=Qs(this,a);let m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function Im(a,f){us(a),f=Qs(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Pm(a,f){return us(a),f=Qs(a,f),a.g.has(f)}t.forEach=function(a,f){us(this),this.g.forEach(function(m,w){m.forEach(function(j){a.call(f,j,w,this)},this)},this)};function Nm(a,f){us(a);let m=[];if(typeof f=="string")Pm(a,f)&&(m=m.concat(a.g.get(Qs(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)m=m.concat(a[f]);return m}t.set=function(a,f){return us(this),this.i=null,a=Qs(this,a),Pm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Nm(this,a),a.length>0?String(a[0]):f):f};function Rm(a,f,m){Im(a,f),m.length>0&&(a.i=null,a.g.set(Qs(a,f),y(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let w=0;w<f.length;w++){var m=f[w];const j=ro(m);m=Nm(this,m);for(let D=0;D<m.length;D++){let $=j;m[D]!==""&&($+="="+ro(m[D])),a.push($)}}return this.i=a.join("&")};function jm(a){const f=new uo;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Qs(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function xE(a,f){f&&!a.j&&(us(a),a.i=null,a.g.forEach(function(m,w){const j=w.toLowerCase();w!=j&&(Im(this,w),Rm(this,j,m))},a)),a.j=f}function wE(a,f){const m=new pe;if(o.Image){const w=new Image;w.onload=d(fr,m,"TestLoadImage: loaded",!0,f,w),w.onerror=d(fr,m,"TestLoadImage: error",!1,f,w),w.onabort=d(fr,m,"TestLoadImage: abort",!1,f,w),w.ontimeout=d(fr,m,"TestLoadImage: timeout",!1,f,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else f(!1)}function _E(a,f){const m=new pe,w=new AbortController,j=setTimeout(()=>{w.abort(),fr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:w.signal}).then(D=>{clearTimeout(j),D.ok?fr(m,"TestPingServer: ok",!0,f):fr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(j),fr(m,"TestPingServer: error",!1,f)})}function fr(a,f,m,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(m)}catch{}}function EE(){this.g=new Ic}function Fc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Fc,to),Fc.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(a,f){et.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ka,et),t=Ka.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,ho(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vm(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vm(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?co(this):ho(this),this.readyState==3&&Vm(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,co(this))},t.Na=function(a){this.g&&(this.response=a,co(this))},t.ga=function(){this.g&&co(this)};function co(a){a.readyState=4,a.l=null,a.j=null,a.B=null,ho(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function ho(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Dm(a){let f="";return U(a,function(m,w){f+=w,f+=":",f+=m,f+=`\r
`}),f}function Oc(a,f,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Dm(m),typeof a=="string"?m!=null&&ro(m):Ie(a,f,m))}function Ue(a){et.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,et);var TE=/^https?$/i,SE=["POST","PUT"];t=Ue.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gm.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(D){Mm(this,D);return}if(a=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)m.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const D of w.keys())m.set(D,w.get(D));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),j=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(SE,f,void 0)>=0)||w||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,$]of m)this.g.setRequestHeader(D,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(D){Mm(this,D)}};function Mm(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,Lm(a),Qa(a)}function Lm(a){a.A||(a.A=!0,He(a,"complete"),He(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,He(this,"complete"),He(this,"abort"),Qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fm(this):this.Xa())},t.Xa=function(){Fm(this)};function Fm(a){if(a.h&&typeof i<"u"){if(a.v&&pr(a)==4)setTimeout(a.Ca.bind(a),0);else if(He(a,"readystatechange"),pr(a)==4){a.h=!1;try{const D=a.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var w;if(w=D===0){let $=String(a.D).match(km)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),w=!TE.test($?$.toLowerCase():"")}m=w}if(m)He(a,"complete"),He(a,"success");else{a.o=6;try{var j=pr(a)>2?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.ca()+"]",Lm(a)}}finally{Qa(a)}}}}function Qa(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const m=a.g;a.g=null,f||He(a,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function pr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return pr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Hs(f)}};function Om(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function AE(a){const f={};a=(a.g&&pr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(C(a[w]))continue;var m=uE(a[w]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=f[j]||[];f[j]=D,D.push(m)}Q(f,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function Bm(a){this.za=0,this.i=[],this.j=new pe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fo("baseRetryDelayMs",5e3,a),this.Za=fo("retryDelaySeedMs",1e4,a),this.Ta=fo("forwardChannelMaxRetries",2,a),this.va=fo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Em(a&&a.concurrentRequestLimit),this.Ba=new EE,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Bm.prototype,t.ka=8,t.I=1,t.connect=function(a,f,m,w){je(0),this.W=a,this.H=f||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.J=Qm(this,null,this.W),Xa(this)};function Bc(a){if(Um(a),a.I==3){var f=a.V++,m=Cn(a.J);if(Ie(m,"SID",a.M),Ie(m,"RID",f),Ie(m,"TYPE","terminate"),po(a,m),f=new hr(a,a.j,f),f.M=2,f.A=Ga(Cn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Ym(f.j,null),f.g.ea(f.A)),f.F=Date.now(),qa(f)}Km(a)}function Ya(a){a.g&&(zc(a),a.g.cancel(),a.g=null)}function Um(a){Ya(a),a.v&&(o.clearTimeout(a.v),a.v=null),Ja(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Xa(a){if(!Tm(a.h)&&!a.m){a.m=!0;var f=a.Ea;V||x(),M||(V(),M=!0),A.add(f,a),a.D=0}}function CE(a,f){return Sm(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ee(h(a.Ea,a,f),Gm(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const j=new hr(this,this.j,a);let D=this.o;if(this.U&&(D?(D=X(D),le(D,this.U)):D=this.U),this.u!==null||this.R||(j.J=D,D=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=$m(this,j,f),m=Cn(this.J),Ie(m,"RID",a),Ie(m,"CVER",22),this.G&&Ie(m,"X-HTTP-Session-Id",this.G),po(this,m),D&&(this.R?f="headers="+ro(Dm(D))+"&"+f:this.u&&Oc(m,this.u,D)),Mc(this.h,j),this.Ra&&Ie(m,"TYPE","init"),this.S?(Ie(m,"$req",f),Ie(m,"SID","null"),j.U=!0,Rc(j,m,null)):Rc(j,m,f),this.I=2}}else this.I==3&&(a?zm(this,a):this.i.length==0||Tm(this.h)||zm(this))};function zm(a,f){var m;f?m=f.l:m=a.V++;const w=Cn(a.J);Ie(w,"SID",a.M),Ie(w,"RID",m),Ie(w,"AID",a.K),po(a,w),a.u&&a.o&&Oc(w,a.u,a.o),m=new hr(a,a.j,m,a.D+1),a.u===null&&(m.J=a.o),f&&(a.i=f.G.concat(a.i)),f=$m(a,m,1e3),m.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Mc(a.h,m),Rc(m,w,f)}function po(a,f){a.H&&U(a.H,function(m,w){Ie(f,w,m)}),a.l&&U({},function(m,w){Ie(f,w,m)})}function $m(a,f,m){m=Math.min(a.i.length,m);const w=a.l?h(a.l.Ka,a.l,a):null;e:{var j=a.i;let oe=-1;for(;;){const tt=["count="+m];oe==-1?m>0?(oe=j[0].g,tt.push("ofs="+oe)):oe=0:tt.push("ofs="+oe);let Te=!0;for(let lt=0;lt<m;lt++){var D=j[lt].g;const kn=j[lt].map;if(D-=oe,D<0)oe=Math.max(0,j[lt].g-100),Te=!1;else try{D="req"+D+"_"||"";try{var $=kn instanceof Map?kn:Object.entries(kn);for(const[hs,mr]of $){let gr=mr;l(mr)&&(gr=eo(mr)),tt.push(D+hs+"="+encodeURIComponent(gr))}}catch(hs){throw tt.push(D+"type="+encodeURIComponent("_badmap")),hs}}catch{w&&w(kn)}}if(Te){$=tt.join("&");break e}}$=void 0}return a=a.i.splice(0,m),f.G=a,$}function Wm(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;V||x(),M||(V(),M=!0),A.add(f,a),a.A=0}}function Uc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ee(h(a.Da,a),Gm(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Hm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ee(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Ya(this),Hm(this))};function zc(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Hm(a){a.g=new hr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=Cn(a.na);Ie(f,"RID","rpc"),Ie(f,"SID",a.M),Ie(f,"AID",a.K),Ie(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Ie(f,"TO",a.ia),Ie(f,"TYPE","xmlhttp"),po(a,f),a.u&&a.o&&Oc(f,a.u,a.o),a.O&&(a.g.H=a.O);var m=a.g;a=a.ba,m.M=1,m.A=Ga(Cn(f)),m.u=null,m.R=!0,xm(m,a)}t.Va=function(){this.C!=null&&(this.C=null,Ya(this),Uc(this),je(19))};function Ja(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function qm(a,f){var m=null;if(a.g==f){Ja(a),zc(a),a.g=null;var w=2}else if(Dc(a.h,f))m=f.G,Am(a.h,f),w=1;else return;if(a.I!=0){if(f.o)if(w==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var j=a.D;w=os(),He(w,new Ha(w,m)),Xa(a)}else Wm(a);else if(j=f.m,j==3||j==0&&f.X>0||!(w==1&&CE(a,f)||w==2&&Uc(a)))switch(m&&m.length>0&&(f=a.h,f.i=f.i.concat(m)),j){case 1:cs(a,5);break;case 4:cs(a,10);break;case 3:cs(a,6);break;default:cs(a,2)}}}function Gm(a,f){let m=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(m*=2),m*f}function cs(a,f){if(a.j.info("Error code "+f),f==2){var m=h(a.bb,a),w=a.Ua;const j=!w;w=new dr(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||io(w,"https"),Ga(w),j?wE(w.toString(),m):_E(w.toString(),m)}else je(2);a.I=0,a.l&&a.l.pa(f),Km(a),Um(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Km(a){if(a.I=0,a.ja=[],a.l){const f=Cm(a.h);(f.length!=0||a.i.length!=0)&&(b(a.ja,f),b(a.ja,a.i),a.h.i.length=0,y(a.i),a.i.length=0),a.l.oa()}}function Qm(a,f,m){var w=m instanceof dr?Cn(m):new dr(m);if(w.g!="")f&&(w.g=f+"."+w.g),oo(w,w.u);else{var j=o.location;w=j.protocol,f=f?f+"."+j.hostname:j.hostname,j=+j.port;const D=new dr(null);w&&io(D,w),f&&(D.g=f),j&&oo(D,j),m&&(D.h=m),w=D}return m=a.G,f=a.wa,m&&f&&Ie(w,m,f),Ie(w,"VER",a.ka),po(a,w),w}function Ym(a,f,m){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new Ue(new Fc({ab:m})):new Ue(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xm(){}t=Xm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Za(){}Za.prototype.g=function(a,f){return new Wt(a,f)};function Wt(a,f){et.call(this),this.g=new Bm(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!C(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ys(this)}p(Wt,et),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Bc(this.g)},Wt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.v&&(m={},m.__data__=eo(a),a=m);f.i.push(new dE(f.Ya++,a)),f.I==3&&Xa(f)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,Wt.Z.N.call(this)};function Jm(a){Gs.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}p(Jm,Gs);function Zm(){Sn.call(this),this.status=1}p(Zm,Sn);function Ys(a){this.g=a}p(Ys,Xm),Ys.prototype.ra=function(){He(this.g,"a")},Ys.prototype.qa=function(a){He(this.g,new Jm(a))},Ys.prototype.pa=function(a){He(this.g,new Zm)},Ys.prototype.oa=function(){He(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,I2=function(){return new Za},b2=function(){return os()},k2=Hn,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Wl=xt,hn.COMPLETE="complete",C2=hn,qs.EventType=Jt,Jt.OPEN="a",Jt.CLOSE="b",Jt.ERROR="c",Jt.MESSAGE="d",et.prototype.listen=et.prototype.J,Po=qs,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,A2=Ue}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",A0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new v2("@firebase/firestore");function Zs(){return Vs.logLevel}function H(t,...e){if(Vs.logLevel<=ge.DEBUG){const n=e.map(Mp);Vs.debug(`Firestore (${Ki}): ${t}`,...n)}}function lr(t,...e){if(Vs.logLevel<=ge.ERROR){const n=e.map(Mp);Vs.error(`Firestore (${Ki}): ${t}`,...n)}}function Li(t,...e){if(Vs.logLevel<=ge.WARN){const n=e.map(Mp);Vs.warn(`Firestore (${Ki}): ${t}`,...n)}}function Mp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,P2(t,r,n)}function P2(t,e,n){let r=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw lr(r),new Error(r)}function ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||P2(e,s,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class sN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new N2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class oN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=uN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function Yd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return jh(s)===jh(i)?de(s,i):jh(s)?1:-1}return de(t.length,e.length)}const cN=55296,hN=57343;function jh(t){const e=t.charCodeAt(0);return e>=cN&&e<=hN}function Fi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class Pn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return de(e.length,n.length)}static compareSegments(e,n){const r=Pn.isNumericId(e),s=Pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pn.extractNumericId(e).compare(Pn.extractNumericId(n)):Yd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class Ce extends Pn{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Pn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new pt([k0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ce.fromString(e))}static fromName(e){return new J(Ce.fromString(e).popFirst(5))}static empty(){return new J(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fN(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b0(t){if(!J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I0(t){if(J.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function j2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pc(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ma(t,e){if(!j2(t))throw new q(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,N0=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N0);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P0)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ma(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Je("string",Ne._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new Ne(0,0))}static max(){return new re(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=-1;function pN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Gr(s,J.empty(),e)}function mN(t){return new Gr(t.readTime,t.key,wa)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(re.min(),J.empty(),wa)}static max(){return new Gr(re.max(),J.empty(),wa)}}function gN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==yN)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(d=>{o[h]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function gc(t){return t==null}function Ru(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!Ru(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="";function _N(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R0(e)),e=EN(t.get(n),e);return R0(e)}function EN(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case V2:n+="";break;default:n+=i}}return n}function R0(t){return t+V2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new st(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new M2("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=TN.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="server_timestamp",F2="__type__",O2="__previous_value__",B2="__local_write_time__";function Op(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[F2])==null?void 0:r.stringValue)===L2}function yc(t){const e=t.mapValue.fields[O2];return Op(e)?yc(e):e}function _a(t){const e=Kr(t.mapValue.fields[B2].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,s,i,o,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const ju="(default)";class Ea{constructor(e,n){this.projectId=e,this.database=n||ju}static empty(){return new Ea("","")}get isDefaultDatabase(){return this.database===ju}isEqual(e){return e instanceof Ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__type__",z2="__max__",Sl={mapValue:{fields:{__type__:{stringValue:z2}}}},$2="__vector__",Vu="value";function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Op(t)?4:CN(t)?9007199254740991:AN(t)?10:11:ne(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _a(t).isEqual(_a(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kr(s.timestampValue),l=Kr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qr(s.bytesValue).isEqual(Qr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return qe(s.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return qe(s.integerValue)===qe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=qe(s.doubleValue),l=qe(i.doubleValue);return o===l?Ru(o)===Ru(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Fi(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(j0(o)!==j0(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Bn(o[u],l[u])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Ta(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function Oi(t,e){if(t===e)return 0;const n=Yr(t),r=Yr(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=qe(i.integerValue||i.doubleValue),u=qe(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return D0(t.timestampValue,e.timestampValue);case 4:return D0(_a(t),_a(e));case 5:return Yd(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Qr(i),u=Qr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=de(l[h],u[h]);if(d!==0)return d}return de(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=de(qe(i.latitude),qe(o.latitude));return l!==0?l:de(qe(i.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return M0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,y,b,S;const l=i.fields||{},u=o.fields||{},h=(g=l[Vu])==null?void 0:g.arrayValue,d=(y=u[Vu])==null?void 0:y.arrayValue,p=de(((b=h==null?void 0:h.values)==null?void 0:b.length)||0,((S=d==null?void 0:d.values)==null?void 0:S.length)||0);return p!==0?p:M0(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Sl.mapValue&&o===Sl.mapValue)return 0;if(i===Sl.mapValue)return 1;if(o===Sl.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=Yd(u[p],d[p]);if(g!==0)return g;const y=Oi(l[u[p]],h[d[p]]);if(y!==0)return y}return de(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function D0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Kr(t),r=Kr(e),s=de(n.seconds,r.seconds);return s!==0?s:de(n.nanos,r.nanos)}function M0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oi(n[s],r[s]);if(i)return i}return de(n.length,r.length)}function Bi(t){return Xd(t)}function Xd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xd(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function Hl(t){switch(Yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(t);return e?16+Hl(e):16;case 5:return 2*t.stringValue.length;case 6:return Qr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Hl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bs(r.fields,(i,o)=>{s+=i.length+Hl(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function L0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jd(t){return!!t&&"integerValue"in t}function Bp(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function O0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ql(t){return!!t&&"mapValue"in t}function AN(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[U2])==null?void 0:r.stringValue)===$2}function Ko(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return{...t}}function CN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===z2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=pt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ko(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ql(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rn(Ko(this.value))}}function W2(t){const e=[];return Bs(t.fields,(n,r)=>{const s=new pt([n]);if(ql(r)){const i=W2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ct(e,0,re.min(),re.min(),re.min(),rn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,re.min(),re.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,re.min(),re.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.position=e,this.inclusive=n}}function B0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Oi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function U0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class Xe extends H2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IN(e,n,r):n==="array-contains"?new RN(e,r):n==="in"?new jN(e,r):n==="not-in"?new VN(e,r):n==="array-contains-any"?new DN(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PN(e,r):new NN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oi(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends H2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return q2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q2(t){return t.op==="and"}function G2(t){return bN(t)&&q2(t)}function bN(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function Zd(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+Bi(t.value);if(G2(t))return t.filters.map(e=>Zd(e)).join(",");{const e=t.filters.map(n=>Zd(n)).join(",");return`${t.op}(${e})`}}function K2(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&Bn(r.value,s.value)}(t,e):t instanceof En?function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&K2(o,s.filters[l]),!0):!1}(t,e):void ne(19439)}function Q2(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${Bi(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(Q2).join(" ,")+"}"}(t):"Filter"}class IN extends Xe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class PN extends Xe{constructor(e,n){super(e,"in",n),this.keys=Y2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NN extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Y2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class RN extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bp(n)&&Ta(n.arrayValue,this.value)}}class jN extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ta(this.value.arrayValue,n)}}class VN extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ta(this.value.arrayValue,n)}}class DN extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ta(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function z0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new MN(t,e,n,r,s,i,o)}function Up(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bi(r)).join(",")),e.Te=n}return e.Te}function zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U0(t.startAt,e.startAt)&&U0(t.endAt,e.endAt)}function ef(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LN(t,e,n,r,s,i,o,l){return new La(t,e,n,r,s,i,o,l)}function $p(t){return new La(t)}function $0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X2(t){return t.collectionGroup!==null}function Qo(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new st(pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Mu(i,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Mu(pt.keyField(),r))}return e.Ie}function Dn(t){const e=se(t);return e.Ee||(e.Ee=FN(e,Qo(t))),e.Ee}function FN(t,e){if(t.limitType==="F")return z0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mu(s.field,i)});const n=t.endAt?new Du(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Du(t.startAt.position,t.startAt.inclusive):null;return z0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tf(t,e){const n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nf(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vc(t,e){return zp(Dn(t),Dn(e))&&t.limitType===e.limitType}function J2(t){return`${Up(Dn(t))}|lt:${t.limitType}`}function ei(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Q2(s)).join(", ")}]`),gc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Bi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Bi(s)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function xc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Qo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const h=B0(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Qo(r),s)||r.endAt&&!function(o,l,u){const h=B0(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Qo(r),s))}(t,e)}function ON(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z2(t){return(e,n)=>{let r=!1;for(const s of Qo(t)){const i=BN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BN(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?Oi(u,h):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return D2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new Be(J.comparator);function ur(){return UN}const e_=new Be(J.comparator);function No(...t){let e=e_;for(const n of t)e=e.insert(n.key,n);return e}function t_(t){let e=e_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return Yo()}function n_(){return Yo()}function Yo(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const zN=new Be(J.comparator),$N=new st(J.comparator);function fe(...t){let e=$N;for(const n of t)e=e.add(n);return e}const WN=new st(de);function HN(){return WN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(e)?"-0":e}}function r_(t){return{integerValue:""+t}}function qN(t,e){return wN(e)?r_(e):Wp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function GN(t,e,n){return t instanceof Lu?function(s,i){const o={fields:{[F2]:{stringValue:L2},[B2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Op(i)&&(i=yc(i)),i&&(o.fields[O2]=i),{mapValue:o}}(n,e):t instanceof Sa?i_(t,e):t instanceof Aa?o_(t,e):function(s,i){const o=s_(s,i),l=W0(o)+W0(s.Ae);return Jd(o)&&Jd(s.Ae)?r_(l):Wp(s.serializer,l)}(t,e)}function KN(t,e,n){return t instanceof Sa?i_(t,e):t instanceof Aa?o_(t,e):n}function s_(t,e){return t instanceof Fu?function(r){return Jd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Lu extends wc{}class Sa extends wc{constructor(e){super(),this.elements=e}}function i_(t,e){const n=a_(e);for(const r of t.elements)n.some(s=>Bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Aa extends wc{constructor(e){super(),this.elements=e}}function o_(t,e){let n=a_(e);for(const r of t.elements)n=n.filter(s=>!Bn(s,r));return{arrayValue:{values:n}}}class Fu extends wc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W0(t){return qe(t.integerValue||t.doubleValue)}function a_(t){return Bp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sa&&s instanceof Sa||r instanceof Aa&&s instanceof Aa?Fi(r.elements,s.elements,Bn):r instanceof Fu&&s instanceof Fu?Bn(r.Ae,s.Ae):r instanceof Lu&&s instanceof Lu}(t.transform,e.transform)}class YN{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _c{}function l_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c_(t.key,Mn.none()):new Fa(t.key,t.data,Mn.none());{const n=t.data,r=rn.empty();let s=new st(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zs(t.key,r,new yn(s.toArray()),Mn.none())}}function XN(t,e,n){t instanceof Fa?function(s,i,o){const l=s.value.clone(),u=q0(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,o){if(!Gl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=q0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(u_(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof Fa?function(i,o,l,u){if(!Gl(i.precondition,o))return l;const h=i.value.clone(),d=G0(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,o,l,u){if(!Gl(i.precondition,o))return l;const h=G0(i.fieldTransforms,u,o),d=o.data;return d.setAll(u_(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,l){return Gl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function JN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=s_(r.transform,s||null);i!=null&&(n===null&&(n=rn.empty()),n.set(r.field,i))}return n||null}function H0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fi(r,s,(i,o)=>QN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fa extends _c{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends _c{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function u_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q0(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,KN(o,l,n[s]))}return r}function G0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,GN(i,o,e))}return r}class c_ extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&XN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=l_(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,(n,r)=>H0(n,r))&&Fi(this.baseMutations,e.baseMutations,(n,r)=>H0(n,r))}}class Hp{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return zN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Hp(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,me;function rR(t){switch(t){case F.OK:return ne(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function h_(t){if(t===void 0)return lr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ke.OK:return F.OK;case Ke.CANCELLED:return F.CANCELLED;case Ke.UNKNOWN:return F.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return F.INTERNAL;case Ke.UNAVAILABLE:return F.UNAVAILABLE;case Ke.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ke.NOT_FOUND:return F.NOT_FOUND;case Ke.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ke.ABORTED:return F.ABORTED;case Ke.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ke.DATA_LOSS:return F.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Ke||(Ke={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Br([4294967295,4294967295],0);function K0(t){const e=sR().encode(t),n=new S2;return n.update(e),new Uint8Array(n.digest())}function Q0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Br([n,r],0),new Br([s,i],0)]}class qp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ro(`Invalid padding: ${n}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Br.fromNumber(r)));return s.compare(iR)===1&&(s=new Br([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=K0(e),[r,s]=Q0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qp(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=K0(e),[r,s]=Q0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ec(re.min(),s,new Be(de),ur(),fe())}}class Oa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oa(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class d_{constructor(e,n){this.targetId=e,this.Ce=n}}class f_{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new Oa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Al(),this.He=Al(),this.Ye=new Be(de)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(ef(i))if(r===0){const o=new J(i.path);this.et(n,o,Ct.newNoDocument(o,re.min()))}else ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof M2)return Li("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new qp(o,s,i)}catch(u){return Li(u instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&ef(l.target)){const u=new J(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ct.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=fe();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ec(e,n,this.Ye,this.je,r);return this.je=ur(),this.Je=Al(),this.He=Al(),this.Ye=new Be(de),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Y0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(de),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(de),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Al(){return new Be(J.comparator)}function X0(){return new Be(J.comparator)}const aR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),lR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uR=(()=>({and:"AND",or:"OR"}))();class cR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rf(t,e){return t.useProto3Json||gc(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hR(t,e){return Ou(t,e.toTimestamp())}function Ln(t){return ve(!!t,49232),re.fromTimestamp(function(n){const r=Kr(n);return new Ne(r.seconds,r.nanos)}(t))}function Gp(t,e){return sf(t,e).canonicalString()}function sf(t,e){const n=function(s){return new Ce(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m_(t){const e=Ce.fromString(t);return ve(w_(e),10190,{key:e.toString()}),e}function of(t,e){return Gp(t.databaseId,e.path)}function Vh(t,e){const n=m_(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(y_(n))}function g_(t,e){return Gp(t.databaseId,e)}function dR(t){const e=m_(t);return e.length===4?Ce.emptyPath():y_(e)}function af(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y_(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J0(t,e,n){return{name:of(t,e),fields:n.value.mapValue.fields}}function fR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ne(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(ve(d===void 0||typeof d=="string",58123),vt.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const d=h.code===void 0?F.UNKNOWN:h_(h.code);return new q(d,h.message||"")}(o);n=new f_(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vh(t,r.document.name),i=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):re.min(),l=new rn({mapValue:{fields:r.document.fields}}),u=Ct.newFoundDocument(s,i,o,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Kl(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vh(t,r.document),i=r.readTime?Ln(r.readTime):re.min(),o=Ct.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Kl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vh(t,r.document),i=r.removedTargetIds||[];n=new Kl([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nR(s,i),l=r.targetId;n=new d_(l,o)}}return n}function pR(t,e){let n;if(e instanceof Fa)n={update:J0(t,e.key,e.value)};else if(e instanceof c_)n={delete:of(t,e.key)};else if(e instanceof zs)n={update:J0(t,e.key,e.data),updateMask:TR(e.fieldMask)};else{if(!(e instanceof ZN))return ne(16599,{Vt:e.type});n={verify:of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Aa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Fu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function mR(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ln(s.updateTime):Ln(i);return o.isEqual(re.min())&&(o=Ln(i)),new YN(o,s.transformResults||[])}(n,e))):[]}function gR(t,e){return{documents:[g_(t,e.path)]}}function yR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g_(t,s);const i=function(h){if(h.length!==0)return x_(En.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:ti(g.field),direction:wR(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=rf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function vR(t){let e=dR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ve(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const g=v_(p);return g instanceof En&&G2(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(b){return new Mu(ni(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,gc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new Du(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new Du(y,g)}(n.endAt)),LN(e,s,o,i,l,"F",u,h)}function xR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ni(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ni(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ni(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ni(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(ni(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>v_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function wR(t){return aR[t]}function _R(t){return lR[t]}function ER(t){return uR[t]}function ti(t){return{fieldPath:t.canonicalString()}}function ni(t){return pt.fromServerFormat(t.fieldPath)}function x_(t){return t instanceof Xe?function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(n.field),op:_R(n.op),value:n.value}}}(t):t instanceof En?function(n){const r=n.getFilters().map(s=>x_(s));return r.length===1?r[0]:{compositeFilter:{op:ER(n.op),filters:r}}}(t):ne(54877,{filter:t})}function TR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,s,i=re.min(),o=re.min(),l=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.yt=e}}function AR(t){const e=vR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Cn=new kR}addToCollectionParentIndex(e,n){return this.Cn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Gr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class kR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(Ce.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},__=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(__,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ui(0)}static cr(){return new Ui(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",bR=1048576;function tv([t,e],[n,r]){const s=de(t,n);return s===0?de(e,r):s}class IR{constructor(e){this.Ir=e,this.buffer=new st(tv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yi(n)?H(ev,"Ignoring IndexedDB error during garbage collection: ",n):await Qi(n)}await this.Vr(3e5)})}}class NR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(mc.ce);const r=new IR(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Z0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Zs()<=ge.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function RR(t,e){return new NR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xo(r.mutation,s,yn.empty(),Ne.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=Ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=No();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ur();const o=Yo(),l=function(){return Yo()}();return n.forEach((u,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof zs)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Xo(d.mutation,h,d.mutation.getFieldMask(),Ne.now())):o.set(h.key,yn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,d)=>o.set(h,d)),n.forEach((h,d)=>l.set(h,new VR(d,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Yo();let s=new Be((o,l)=>o-l),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||yn.empty();d=l.applyToLocalView(h,d),r.set(u,d);const p=(s.get(l.batchId)||fe()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=n_();d.forEach(g=>{if(!i.has(g)){const y=l_(n.get(g),r.get(g));y!==null&&p.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Ts());let l=wa,u=i;return o.next(h=>O.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,fe())).next(d=>({batchId:l,changes:t_(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=No();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=No();return this.indexManager.getCollectionParents(e,i).next(l=>O.forEach(l,u=>{const h=function(p,g){return new La(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let l=No();return o.forEach((u,h)=>{const d=i.get(u);d!==void 0&&Xo(d.mutation,h,yn.empty(),Ne.now()),xc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return O.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ln(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:AR(s.bundledQuery),readTime:Ln(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.overlays=new Be(J.comparator),this.qr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Ts(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Be((h,d)=>h-d);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Ts(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Ts(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return O.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tR(n,r));let i=this.qr.get(n);i===void 0&&(i=fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.Qr=new st(ut.$r),this.Ur=new st(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Ce([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Ce([])),r=new ut(n,e),s=new ut(n,e+1);let i=fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||de(e.Yr,n.Yr)}static Kr(e,n){return de(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(ut.$r)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eR(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new ut(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(de);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),O.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ut(new J(i),0);let l=new st(de);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Yr)),!0)},o),O.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return O.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),s=this.Zr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.ri=e,this.docs=function(){return new Be(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ur();const o=n.path,l=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||gN(mN(d),r)<=0||(s.has(d.key)||xc(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ii(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UR(this)}getSize(e){return O.resolve(this.size)}}class UR extends jR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.persistence=e,this.si=new Us(n=>Up(n),zp),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=Ui.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),O.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ui(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Pr(n),O.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new FR,this.referenceDelegate=e(this),this.Pi=new zR(this),this.indexManager=new CR,this.remoteDocumentCache=function(s){return new BR(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new SR(n),this.Ii=new MR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new OR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new $R(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return O.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class $R extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.fi,r=>{const s=J.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return O.or([()=>O.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bu{constructor(e,n){this.persistence=e,this.pi=new Us(r=>_N(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=RR(this,n)}static mi(e,n){return new Bu(e,n)}Ei(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return O.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hl(e.data.value)),n}br(e,n,r){return O.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LI()?8:xN(DI())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new WR;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Zs()<=ge.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),O.resolve()):(Zs()<=ge.DEBUG&&H("QueryEngine","Query:",ei(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Zs()<=ge.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):O.resolve())}ys(e,n){if($0(n))return O.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nf(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,o,u.readTime)?this.ys(e,nf(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,s){return $0(n)||s.isEqual(re.min())?O.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?O.resolve(null):(Zs()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ei(n)),this.vs(e,o,n,pN(s,wa)).next(l=>l))})}Ds(e,n){let r=new st(Z2(e));return n.forEach((s,i)=>{xc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Zs()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ei(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",qR=3e8;class GR{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Be(de),this.xs=new Us(i=>Up(i),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KR(t,e,n,r){return new GR(t,e,n,r)}async function T_(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=fe();for(const h of s){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function QR(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,g=p.keys();let y=O.resolve();return g.forEach(b=>{y=y.next(()=>d.getEntry(u,b)).next(S=>{const P=h.docVersions.get(b);ve(P!==null,48541),S.version.compareTo(P)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),d.addEntry(S)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function S_(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YR(t,e){const n=se(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((d,p)=>{const g=s.get(p);if(!g)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),function(S,P,T){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=qR?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,y,d)&&l.push(n.Pi.updateTargetData(i,y))});let u=ur(),h=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(XR(i,o,e.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!r.isEqual(re.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return O.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ms=s,i))}function XR(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ur();return n.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):H(Xp,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:s}})}function JR(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZR(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function lf(t,e,n){const r=se(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yi(o))throw o;H(Xp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function nv(t,e,n){const r=se(t);let s=re.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,d){const p=se(u),g=p.xs.get(d);return g!==void 0?O.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,d)}(r,o,Dn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:fe())).next(l=>(e4(r,ON(e),l),{documents:l,Qs:i})))}function e4(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class rv{constructor(){this.activeTargetIds=HN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t4{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=null;function uf(){return Cl===null?Cl=function(){return 268435456+Math.round(2147483648*Math.random())}():Cl++,"0x"+Cl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="RestConnection",r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ju?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=uf(),l=this.zo(e,n.toUriEncodedString());H(Dh,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(l),d=Vp(h);return this.Jo(e,l,u,r,d).then(p=>(H(Dh,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Li(Dh,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ki}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=r4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class o4 extends s4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=uf();return new Promise((l,u)=>{const h=new A2;h.setWithCredentials(!0),h.listenOnce(C2.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Wl.NO_ERROR:const p=h.getResponseJson();H(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Wl.TIMEOUT:H(Et,`RPC '${e}' ${o} timed out`),u(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Wl.HTTP_ERROR:const g=h.getStatus();if(H(Et,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const S=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(b.status);u(new q(S,b.message))}else u(new q(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new q(F.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(Et,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);H(Et,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",d,r,15)})}T_(e,n,r){const s=uf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=I2(),l=b2(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");H(Et,`Creating RPC '${e}' stream ${s}: ${d}`,u);const p=o.createWebChannel(d,u);this.I_(p);let g=!1,y=!1;const b=new i4({Yo:P=>{y?H(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(H(Et,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),H(Et,`RPC '${e}' stream ${s} sending:`,P),p.send(P))},Zo:()=>p.close()}),S=(P,T,v)=>{P.listen(T,_=>{try{v(_)}catch(R){setTimeout(()=>{throw R},0)}})};return S(p,Po.EventType.OPEN,()=>{y||(H(Et,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),S(p,Po.EventType.CLOSE,()=>{y||(y=!0,H(Et,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(p))}),S(p,Po.EventType.ERROR,P=>{y||(y=!0,Li(Et,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),b.a_(new q(F.UNAVAILABLE,"The operation could not be completed")))}),S(p,Po.EventType.MESSAGE,P=>{var T;if(!y){const v=P.data[0];ve(!!v,16349);const _=v,R=(_==null?void 0:_.error)||((T=_[0])==null?void 0:T.error);if(R){H(Et,`RPC '${e}' stream ${s} received error:`,R);const V=R.status;let M=function(E){const k=Ke[E];if(k!==void 0)return h_(k)}(V),A=R.message;M===void 0&&(M=F.INTERNAL,A="Unknown error status: "+V+" with message "+R.message),y=!0,b.a_(new q(M,A)),p.close()}else H(Et,`RPC '${e}' stream ${s} received:`,v),b.u_(v)}}),S(l,k2.STAT_EVENT,P=>{P.stat===Qd.PROXY?H(Et,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Qd.NOPROXY&&H(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){return new cR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class C_{constructor(e,n,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A_(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a4 extends C_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fR(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Ln(o.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=af(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=ef(u)?{documents:gR(i,u)}:{query:yR(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=p_(i,o.resumeToken);const h=rf(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(re.min())>0){l.readTime=Ou(i,o.snapshotVersion.toTimestamp());const h=rf(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=xR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=af(this.serializer),n.removeTarget=e,this.q_(n)}}class l4 extends C_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mR(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=af(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pR(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{}class c4 extends u4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,sf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,sf(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class h4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="RemoteStore";class d4{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{$s(this)&&(H(Ds,"Restarting streams for network reachability change."),await async function(u){const h=se(u);h.Ea.add(4),await Ba(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Sc(h)}(this))})}),this.Ra=new h4(r,s)}}async function Sc(t){if($s(t))for(const e of t.da)await e(!0)}async function Ba(t){for(const e of t.da)await e(!1)}function k_(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tm(n)?em(n):Xi(n).O_()&&Zp(n,e))}function Jp(t,e){const n=se(t),r=Xi(n);n.Ia.delete(e),r.O_()&&b_(n,e),n.Ia.size===0&&(r.O_()?r.L_():$s(n)&&n.Ra.set("Unknown"))}function Zp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xi(t).Y_(e)}function b_(t,e){t.Va.Ue(e),Xi(t).Z_(e)}function em(t){t.Va=new oR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xi(t).start(),t.Ra.ua()}function tm(t){return $s(t)&&!Xi(t).x_()&&t.Ia.size>0}function $s(t){return se(t).Ea.size===0}function I_(t){t.Va=void 0}async function f4(t){t.Ra.set("Online")}async function p4(t){t.Ia.forEach((e,n)=>{Zp(t,e)})}async function m4(t,e){I_(t),tm(t)?(t.Ra.ha(e),em(t)):t.Ra.set("Unknown")}async function g4(t,e,n){if(t.Ra.set("Online"),e instanceof f_&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){H(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uu(t,r)}else if(e instanceof Kl?t.Va.Ze(e):e instanceof d_?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await S_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),b_(i,u);const p=new kr(d.target,u,h,d.sequenceNumber);Zp(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){H(Ds,"Failed to raise snapshot:",r),await Uu(t,r)}}async function Uu(t,e,n){if(!Yi(e))throw e;t.Ea.add(1),await Ba(t),t.Ra.set("Offline"),n||(n=()=>S_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ds,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sc(t)})}function P_(t,e){return e().catch(n=>Uu(t,n,e))}async function Ac(t){const e=se(t),n=Xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;y4(e);)try{const s=await JR(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,v4(e,s)}catch(s){await Uu(e,s)}N_(e)&&R_(e)}function y4(t){return $s(t)&&t.Ta.length<10}function v4(t,e){t.Ta.push(e);const n=Xr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function N_(t){return $s(t)&&!Xr(t).x_()&&t.Ta.length>0}function R_(t){Xr(t).start()}async function x4(t){Xr(t).ra()}async function w4(t){const e=Xr(t);for(const n of t.Ta)e.ea(n.mutations)}async function _4(t,e,n){const r=t.Ta.shift(),s=Hp.from(r,e,n);await P_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ac(t)}async function E4(t,e){e&&Xr(t).X_&&await async function(r,s){if(function(o){return rR(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();Xr(r).B_(),await P_(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ac(r)}}(t,e),N_(t)&&R_(t)}async function av(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H(Ds,"RemoteStore received new credentials");const r=$s(n);n.Ea.add(3),await Ba(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sc(n)}async function T4(t,e){const n=se(t);e?(n.Ea.delete(2),await Sc(n)):e||(n.Ea.add(2),await Ba(n),n.Ra.set("Unknown"))}function Xi(t){return t.ma||(t.ma=function(n,r,s){const i=se(n);return i.sa(),new a4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:f4.bind(null,t),t_:p4.bind(null,t),r_:m4.bind(null,t),H_:g4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),tm(t)?em(t):t.Ra.set("Unknown")):(await t.ma.stop(),I_(t))})),t.ma}function Xr(t){return t.fa||(t.fa=function(n,r,s){const i=se(n);return i.sa(),new l4(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:x4.bind(null,t),r_:E4.bind(null,t),ta:w4.bind(null,t),na:_4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ac(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Ds,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new nm(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(t,e){if(lr("AsyncQueue",`${e}: ${t}`),Yi(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{static emptySet(e){return new Ci(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=No(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.ga=new Be(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class zi{constructor(e,n,r,s,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new zi(e,n,Ci.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class A4{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=se(n),i=s.queries;s.queries=uv(),i.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}}function uv(){return new Us(t=>J2(t),vc)}async function j_(t,e){const n=se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new S4,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=rm(o,`Initialization of query '${ei(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&sm(n)}async function V_(t,e){const n=se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C4(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&sm(n)}function k4(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function sm(t){t.Ca.forEach(e=>{e.next()})}var cf,cv;(cv=cf||(cf={})).Ma="default",cv.Cache="cache";class D_{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.key=e}}class L_{constructor(e){this.key=e}}class b4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=Z2(e),this.tu=new Ci(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const g=s.get(d),y=xc(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;g&&y?g.data.isEqual(y.data)?b!==S&&(r.track({type:3,doc:y}),P=!0):this.su(g,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),P=!0):g&&!y&&(r.track({type:1,doc:g}),P=!0,(u||h)&&(l=!0)),P&&(y?(o=o.add(y),i=S?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,p)=>function(y,b){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:P})}};return S(y)-S(b)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new zi(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new L_(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new M_(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const im="SyncEngine";class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P4{constructor(e){this.key=e,this.hu=!1}}class N4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Us(l=>J2(l),vc),this.Iu=new Map,this.Eu=new Set,this.du=new Be(J.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=Ui.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R4(t,e,n=!0){const r=$_(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await F_(r,e,n,!0),s}async function j4(t,e){const n=$_(t);await F_(n,e,!0,!1)}async function F_(t,e,n,r){const s=await ZR(t.localStore,Dn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await V4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&k_(t.remoteStore,s),l}async function V4(t,e,n,r,s){t.pu=(p,g,y)=>async function(S,P,T,v){let _=P.view.ru(T);_.Cs&&(_=await nv(S.localStore,P.query,!1).then(({documents:A})=>P.view.ru(A,_)));const R=v&&v.targetChanges.get(P.targetId),V=v&&v.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(_,S.isPrimaryClient,R,V);return dv(S,P.targetId,M.au),M.snapshot}(t,p,g,y);const i=await nv(t.localStore,e,!0),o=new b4(e,i.Qs),l=o.ru(i.documents),u=Oa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,u);dv(t,n,h.au);const d=new I4(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function D4(t,e,n){const r=se(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!vc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await lf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jp(r.remoteStore,s.targetId),hf(r,s.targetId)}).catch(Qi)):(hf(r,s.targetId),await lf(r.localStore,s.targetId,!0))}async function M4(t,e){const n=se(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jp(n.remoteStore,r.targetId))}async function L4(t,e,n){const r=W4(t);try{const s=await function(o,l){const u=se(o),h=Ne.now(),d=l.reduce((y,b)=>y.add(b.key),fe());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=ur(),S=fe();return u.Ns.getEntries(y,d).next(P=>{b=P,b.forEach((T,v)=>{v.isValidDocument()||(S=S.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(P=>{p=P;const T=[];for(const v of l){const _=JN(v,p.get(v.key).overlayedDocument);_!=null&&T.push(new zs(v.key,_,W2(_.value.mapValue),Mn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,T,l)}).next(P=>{g=P;const T=P.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(y,P.batchId,T)})}).then(()=>({batchId:g.batchId,changes:t_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Be(de)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),await Ua(r,s.changes),await Ac(r.remoteStore)}catch(s){const i=rm(s,"Failed to persist write");n.reject(i)}}async function O_(t,e){const n=se(t);try{const r=await YR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ve(o.hu,14607):s.removedDocuments.size>0&&(ve(o.hu,42227),o.hu=!1))}),await Ua(n,r,e)}catch(r){await Qi(r)}}function hv(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=se(o);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)}),h&&sm(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F4(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Be(J.comparator);o=o.insert(i,Ct.newNoDocument(i,re.min()));const l=fe().add(i),u=new Ec(re.min(),new Map,new Be(de),o,l);await O_(r,u),r.du=r.du.remove(i),r.Au.delete(e),om(r)}else await lf(r.localStore,e,!1).then(()=>hf(r,e,n)).catch(Qi)}async function O4(t,e){const n=se(t),r=e.batch.batchId;try{const s=await QR(n.localStore,e);U_(n,r,null),B_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ua(n,s)}catch(s){await Qi(s)}}async function B4(t,e,n){const r=se(t);try{const s=await function(o,l){const u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ve(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);U_(r,e,n),B_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ua(r,s)}catch(s){await Qi(s)}}function B_(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function U_(t,e,n){const r=se(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||z_(t,r)})}function z_(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),om(t))}function dv(t,e,n){for(const r of n)r instanceof M_?(t.Ru.addReference(r.key,e),U4(t,r)):r instanceof L_?(H(im,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||z_(t,r.key)):ne(19791,{wu:r})}function U4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(im,"New document in limbo: "+n),t.Eu.add(r),om(t))}function om(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Ce.fromString(e)),r=t.fu.next();t.Au.set(r,new P4(n)),t.du=t.du.insert(n,r),k_(t.remoteStore,new kr(Dn($p(n.path)),r,"TargetPurposeLimboResolution",mc.ce))}}async function Ua(t,e,n){const r=se(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Yp.As(u.targetId,h);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,h){const d=se(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(h,g=>O.forEach(g.Es,y=>d.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>O.forEach(g.ds,y=>d.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Yi(p))throw p;H(Xp,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=d.Ms.get(g),b=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(g,S)}}}(r.localStore,i))}async function z4(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H(im,"User change. New user:",e.toKey());const r=await T_(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new q(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ua(n,r.Ls)}}function $4(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let s=fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function $_(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F4.bind(null,e),e.Pu.H_=C4.bind(null,e.eventManager),e.Pu.yu=k4.bind(null,e.eventManager),e}function W4(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B4.bind(null,e),e}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KR(this.persistence,new HR,e.initialUser,this.serializer)}Cu(e){return new E_(Qp.mi,this.serializer)}Du(e){return new t4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class H4 extends zu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ve(this.persistence.referenceDelegate instanceof Bu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new PR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new E_(r=>Bu.mi(r,n),this.serializer)}}class df{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await T4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A4}()}createDatastore(e){const n=Tc(e.databaseInfo.databaseId),r=function(i){return new o4(i)}(e.databaseInfo);return function(i,o,l,u){return new c4(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new d4(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hv(this.syncEngine,n,0),function(){return iv.v()?new iv:new n4}())}createSyncEngine(e,n){return function(s,i,o,l,u,h,d){const p=new N4(s,i,o,l,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=se(s);H(Ds,"RemoteStore shutting down."),i.Ea.add(5),await Ba(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}df.provider={build:()=>new df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class q4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(Jr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Jr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),H(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await T_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G4(t);H(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>av(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>av(e.remoteStore,s)),t._onlineComponents=e}async function G4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Jr,"Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Li("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new zu)}}else H(Jr,"Using default OfflineComponentProvider"),await Lh(t,new H4(void 0));return t._offlineComponents}async function H_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Jr,"Using user provided OnlineComponentProvider"),await fv(t,t._uninitializedComponentsProvider._online)):(H(Jr,"Using default OnlineComponentProvider"),await fv(t,new df))),t._onlineComponents}function K4(t){return H_(t).then(e=>e.syncEngine)}async function ff(t){const e=await H_(t),n=e.eventManager;return n.onListen=R4.bind(null,e.syncEngine),n.onUnlisten=D4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M4.bind(null,e.syncEngine),n}function Q4(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,h){const d=new W_({next:g=>{d.Nu(),o.enqueueAndForget(()=>V_(i,p)),g.fromCache&&u.source==="server"?h.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new D_(l,d,{includeMetadataChanges:!0,qa:!0});return j_(i,p)}(await ff(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firestore.googleapis.com",mv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G_,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=__;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bR)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q_(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rN;switch(r.type){case"firstParty":return new aN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pv.get(n);r&&(H("ComponentProvider","Removing Datastore"),pv.delete(n),r.terminate())}(this),Promise.resolve()}}function Y4(t,e,n,r={}){var h;t=tr(t,Cc);const s=Vp(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(PI(`https://${l}`),VI("Firestore",!0)),i.host!==G_&&i.host!==l&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!Iu(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=St.MOCK_USER;else{d=NI(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new St(g)}t._authCredentials=new sN(new N2(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ma(n,Ze._jsonSchema))return new Ze(e,r||null,new J(Ce.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Je("string",Ze._jsonSchemaVersion),referencePath:Je("string")};class zr extends Ws{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new J(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function Js(t,e,...n){if(t=js(t),R2("collection","path",e),t instanceof Cc){const r=Ce.fromString(e,...n);return I0(r),new zr(t,null,r)}{if(!(t instanceof Ze||t instanceof zr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return I0(r),new zr(t.firestore,null,r)}}function pf(t,e,...n){if(t=js(t),arguments.length===1&&(e=Lp.newId()),R2("doc","path",e),t instanceof Cc){const r=Ce.fromString(e,...n);return b0(r),new Ze(t,null,new J(r))}{if(!(t instanceof Ze||t instanceof zr))throw new q(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return b0(r),new Ze(t.firestore,t instanceof zr?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A_(this,"async_queue_retry"),this._c=()=>{const r=Mh();r&&H(yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ur;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yi(e))throw e;H(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",xv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=nm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class $i extends Cc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function X4(t,e){const n=typeof t=="object"?t:WP(),r=typeof t=="string"?t:e||ju,s=OP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bI("firestore");i&&Y4(s,...i)}return s}function am(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J4(t),t._firestoreClient}function J4(t){var r,s,i;const e=t._freezeSettings(),n=function(l,u,h,d){return new SN(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,q_(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sn(vt.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ma(e,sn._jsonSchema))return sn.fromBase64String(e.bytes)}}sn._jsonSchemaVersion="firestore/bytes/1.0",sn._jsonSchema={type:Je("string",sn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Ma(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:Je("string",Fn._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:On._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ma(e,On._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new On(e.vectorValues);throw new q(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}On._jsonSchemaVersion="firestore/vectorValue/1.0",On._jsonSchema={type:Je("string",On._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^__.*__$/;class ej{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fa(e,this.data,n,this.fieldTransforms)}}function Q_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class um{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new um({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $u(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Q_(this.Ac)&&Z4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tc(e)}Cc(e,n,r,s=!1){return new um({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cm(t){const e=t._freezeSettings(),n=Tc(t._databaseId);return new tj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y_(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Z_("Data must be an object, but it was:",o,r);const l=X_(r,o);let u,h;if(i.merge)u=new yn(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const g=rj(e,p,n);if(!o.contains(g))throw new q(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ij(d,g)||d.push(g)}u=new yn(d),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new ej(new rn(l),u,h)}function nj(t,e,n,r=!1){return hm(n,t.Cc(r?4:3,e))}function hm(t,e){if(J_(t=js(t)))return Z_("Unsupported field value:",e,t),X_(t,e);if(t instanceof K_)return function(r,s){if(!Q_(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=hm(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=js(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ne.fromDate(r);return{timestampValue:Ou(s.serializer,i)}}if(r instanceof Ne){const i=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ou(s.serializer,i)}}if(r instanceof Fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sn)return{bytesValue:p_(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof On)return function(o,l){return{mapValue:{fields:{[U2]:{stringValue:$2},[Vu]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Wp(l.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${pc(r)}`)}(t,e)}function X_(t,e){const n={};return D2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,s)=>{const i=hm(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function J_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Fn||t instanceof sn||t instanceof Ze||t instanceof K_||t instanceof On)}function Z_(t,e,n){if(!J_(n)||!j2(n)){const r=pc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function rj(t,e,n){if((e=js(e))instanceof lm)return e._internalPath;if(typeof e=="string")return eE(t,e);throw $u("Field path arguments must be of type string or ",t,!1,void 0,n)}const sj=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(sj)>=0)throw $u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lm(...e.split("."))._internalPath}catch{throw $u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $u(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(F.INVALID_ARGUMENT,l+t+u)}function ij(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oj extends tE{data(){return super.data()}}function dm(t,e){return typeof e=="string"?eE(t,e):e instanceof lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class aj extends fm{}function kl(t,e,...n){let r=[];e instanceof fm&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof pm).length,l=i.filter(u=>u instanceof kc).length;if(o>1||o>0&&l>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class kc extends aj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kc(e,n,r)}_apply(e){const n=this._parse(e);return rE(e._query,n),new Ws(e.firestore,e.converter,tf(e._query,n))}_parse(e){const n=cm(e.firestore);return function(i,o,l,u,h,d,p){let g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ev(p,d);const b=[];for(const S of p)b.push(_v(u,i,S));g={arrayValue:{values:b}}}else g=_v(u,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ev(p,d),g=nj(l,o,p,d==="in"||d==="not-in");return Xe.create(h,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fh(t,e,n){const r=e,s=dm("where",t);return kc._create(s,r,n)}class pm extends fm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:En.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)rE(o,u),o=tf(o,u)}(e._query,n),new Ws(e.firestore,e.converter,tf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _v(t,e,n){if(typeof(n=js(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X2(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!J.isDocumentKey(r))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L0(t,new J(r))}if(n instanceof Ze)return L0(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pc(n)}.`)}function Ev(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rE(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lj{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Vu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>qe(o.doubleValue));return new On(n)}convertGeoPoint(e){return new Fn(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_a(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);ve(w_(r),9688,{name:e});const s=new Ea(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends tE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:Je("string",Cs._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Ql extends Cs{data(e={}){return super.data(e)}}class ks{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ql(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Ql(s._firestore,s._userDataWriter,l.doc.key,l.doc,new jo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Ql(s._firestore,s._userDataWriter,l.doc.key,l.doc,new jo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:uj(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ks._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}ks._jsonSchemaVersion="firestore/querySnapshot/1.0",ks._jsonSchema={type:Je("string",ks._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class mm extends lj{constructor(e){super(),this.firestore=e}convertBytes(e){return new sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function Tv(t){t=tr(t,Ws);const e=tr(t.firestore,$i),n=am(e),r=new mm(e);return nE(t._query),Q4(n,t._query).then(s=>new ks(e,r,t,s))}function Sv(t,e,n){t=tr(t,Ze);const r=tr(t.firestore,$i),s=sE(t.converter,e,n);return iE(r,[Y_(cm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Mn.none())])}function Av(t,e){const n=tr(t.firestore,$i),r=pf(t),s=sE(t.converter,e);return iE(n,[Y_(cm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function Cv(t,...e){var u,h,d;t=js(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wv(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wv(e[r])){const p=e[r];e[r]=(u=p.next)==null?void 0:u.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(d=p.complete)==null?void 0:d.bind(p)}let i,o,l;if(t instanceof Ze)o=tr(t.firestore,$i),l=$p(t._key.path),i={next:p=>{e[r]&&e[r](cj(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=tr(t,Ws);o=tr(p.firestore,$i),l=p._query;const g=new mm(o);i={next:y=>{e[r]&&e[r](new ks(o,g,p,y))},error:e[r+1],complete:e[r+2]},nE(t._query)}return function(g,y,b,S){const P=new W_(S),T=new D_(y,P,b);return g.asyncQueue.enqueueAndForget(async()=>j_(await ff(g),T)),()=>{P.Nu(),g.asyncQueue.enqueueAndForget(async()=>V_(await ff(g),T))}}(am(o),l,s,i)}function iE(t,e){return function(r,s){const i=new Ur;return r.asyncQueue.enqueueAndForget(async()=>L4(await K4(r),s,i)),i.promise}(am(t),e)}function cj(t,e,n){const r=n.docs.get(e._key),s=new mm(t);return new Cs(t,s,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ki=s})($P),Nu(new va("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new $i(new iN(r.getProvider("auth-internal")),new lN(o,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ea(h.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ai(S0,A0,e),Ai(S0,A0,"esm2020")})();const hj={apiKey:"AIzaSyAzI-MKopbC7aNotpkGsci3LsL63LUOyqA",authDomain:"vserveu-free.firebaseapp.com",projectId:"vserveu-free",storageBucket:"vserveu-free.firebasestorage.app",messagingSenderId:"107509528950",appId:"1:107509528950:web:0bd67716d00e2767586257"},dj=_2(hj),vr=X4(dj),oE=L.createContext(void 0);function fj({children:t}){const[e,n]=L.useState(null),[r,s]=L.useState([]),[i,o]=L.useState([]);L.useEffect(()=>{const S=kl(Js(vr,"requests")),P=Cv(S,_=>{const R=[];_.forEach(V=>{const M=V.data();R.push({id:V.id,...M})}),R.sort((V,M)=>new Date(M.date).getTime()-new Date(V.date).getTime()),s(R)},_=>{console.error("Error listening to requests:",_)}),T=kl(Js(vr,"users"),Fh("role","==","worker")),v=Cv(T,_=>{const R=[];_.forEach(V=>{R.push({id:V.id,...V.data()})}),o(R)});return()=>{P(),v()}},[]);const l=async S=>{try{const P=Js(vr,"users"),T=kl(P,Fh("phone","==",S)),v=await Tv(T);if(v.empty)return{success:!1,needRegistration:!0};{const _=v.docs[0],R={id:_.id,..._.data()};return n(R),{success:!0}}}catch(P){return console.error("Login error:",P),{success:!1,message:"Error connecting to database"}}},u=async S=>{try{const T={id:(await Av(Js(vr,"users"),S)).id,...S};return n(T),{success:!0}}catch(P){return console.error("Registration error:",P),{success:!1,message:P.message||"Failed to register user"}}},h=()=>{n(null)},d=async S=>{try{const P={...S,status:"pending",date:new Date().toISOString()},T=await Av(Js(vr,"requests"),P);return console.log("Request added to Firestore with ID: ",T.id),T.id}catch(P){throw console.error("Error adding document: ",P),P}},p=async(S,P)=>{try{const T=pf(vr,"requests",S);await Sv(T,{status:P},{merge:!0}),console.log("Status updated in Firestore to:",P)}catch(T){console.error("Error updating status: ",T)}},g=S=>r.filter(P=>P.workerId===S),y=S=>r.filter(P=>P.userId===S),b=S=>i.find(P=>P.id===S);return c.jsx(oE.Provider,{value:{currentUser:e,requests:r,login:l,logout:h,createRequest:d,updateRequestStatus:p,getRequestsForWorker:g,getRequestsForUser:y,getWorkerById:b,registerUser:u,workers:i,rateRequest:async(S,P,T)=>{try{const v=pf(vr,"requests",S);await Sv(v,{rating:P,feedback:T},{merge:!0}),console.log("Rating updated in Firestore:",P)}catch(v){console.error("Error updating rating: ",v)}},getWorkerStats:S=>{const P=r.filter(R=>R.workerId===S&&["completed","worker_completed"].includes(R.status)),T=P.length,v=P.filter(R=>R.rating),_=v.length>0?(v.reduce((R,V)=>R+(V.rating||0),0)/v.length).toFixed(1):"New";return{totalJobs:T,averageRating:_}},getWorkersByService:S=>(console.log(`Searching for service: "${S}"`),console.log(`Total workers: ${i.length}`),i.filter(P=>{var R;const T=P.role==="worker",v=P.isActive!==!1,_=(R=P.services)==null?void 0:R.includes(S);return T&&v&&!_&&console.log(`Worker ${P.name} skipped. Services: ${P.services}`),T&&v&&_})),getNextWorkerId:async()=>{try{const S=Js(vr,"users"),P=kl(S,Fh("role","==","worker")),T=await Tv(P);let v=0;return T.docs.forEach(R=>{const V=R.data().workerId;if(V&&V.startsWith("WRK")){const M=parseInt(V.replace("WRK",""),10);!isNaN(M)&&M>v&&(v=M)}}),`WRK${(v+1).toString().padStart(3,"0")}`}catch(S){return console.error("Error generating ID",S),`WRK${Math.floor(Math.random()*1e3).toString().padStart(3,"0")}`}}},children:t})}function Tn(){const t=L.useContext(oE);if(t===void 0)throw new Error("useFirebase must be used within a FirebaseProvider");return t}var pj=t=>{switch(t){case"success":return yj;case"info":return xj;case"warning":return vj;case"error":return wj;default:return null}},mj=Array(12).fill(0),gj=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},mj.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yj=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vj=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xj=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wj=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_j=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ej=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},mf=1,Tj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mf++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async u=>{if(i=["resolve",u],W.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(Aj(u)&&!u.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:h,description:d})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(u):e.success,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:h,description:d})}}).catch(async u=>{if(i=["reject",u],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(u):e.error,d=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:h,description:d})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),l=()=>new Promise((u,h)=>o.then(()=>i[0]==="reject"?h(i[1]):u(i[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||mf++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dt=new Tj,Sj=(t,e)=>{let n=(e==null?void 0:e.id)||mf++;return Dt.addToast({title:t,...e,id:n}),n},Aj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Cj=Sj,kj=()=>Dt.toasts,bj=()=>Dt.getActiveToasts(),Ca=Object.assign(Cj,{success:Dt.success,info:Dt.info,warning:Dt.warning,error:Dt.error,custom:Dt.custom,message:Dt.message,promise:Dt.promise,dismiss:Dt.dismiss,loading:Dt.loading},{getHistory:kj,getToasts:bj});function Ij(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Ij(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bl(t){return t.label!==void 0}var Pj=3,Nj="32px",Rj="16px",kv=4e3,jj=356,Vj=14,Dj=20,Mj=200;function fn(...t){return t.filter(Boolean).join(" ")}function Lj(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Fj=t=>{var e,n,r,s,i,o,l,u,h,d,p;let{invert:g,toast:y,unstyled:b,interacting:S,setHeights:P,visibleToasts:T,heights:v,index:_,toasts:R,expanded:V,removeToast:M,defaultRichColors:A,closeButton:x,style:E,cancelButtonStyle:k,actionButtonStyle:I,className:N="",descriptionClassName:C="",duration:Z,position:we,gap:ue,loadingIcon:_e,expandByDefault:z,classNames:U,icons:Q,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:Y}=t,[le,ie]=W.useState(null),[Ee,Se]=W.useState(null),[he,cn]=W.useState(!1),[bt,It]=W.useState(!1),[G,it]=W.useState(!1),[Un,We]=W.useState(!1),[rs,zn]=W.useState(!1),[Ji,ss]=W.useState(0),[Zi,et]=W.useState(0),He=W.useRef(y.duration||Z||kv),is=W.useRef(null),$n=W.useRef(null),za=_===0,bc=_+1<=T,ot=y.type,Wn=y.dismissible!==!1,$a=y.className||"",eo=y.descriptionClassName||"",Hs=W.useMemo(()=>v.findIndex(ee=>ee.toastId===y.id)||0,[v,y.id]),Ic=W.useMemo(()=>{var ee;return(ee=y.closeButton)!=null?ee:x},[y.closeButton,x]),to=W.useMemo(()=>y.duration||Z||kv,[y.duration,Z]),qs=W.useRef(0),Jt=W.useRef(0),Gs=W.useRef(0),Sn=W.useRef(null),[Hn,Wa]=we.split("-"),os=W.useMemo(()=>v.reduce((ee,pe,Ae)=>Ae>=Hs?ee:ee+pe.height,0),[v,Hs]),no=Ej(),as=y.invert||g,Ks=ot==="loading";Jt.current=W.useMemo(()=>Hs*ue+os,[Hs,os]),W.useEffect(()=>{He.current=to},[to]),W.useEffect(()=>{cn(!0)},[]),W.useEffect(()=>{let ee=$n.current;if(ee){let pe=ee.getBoundingClientRect().height;return et(pe),P(Ae=>[{toastId:y.id,height:pe,position:y.position},...Ae]),()=>P(Ae=>Ae.filter($t=>$t.toastId!==y.id))}},[P,y.id]),W.useLayoutEffect(()=>{if(!he)return;let ee=$n.current,pe=ee.style.height;ee.style.height="auto";let Ae=ee.getBoundingClientRect().height;ee.style.height=pe,et(Ae),P($t=>$t.find(at=>at.toastId===y.id)?$t.map(at=>at.toastId===y.id?{...at,height:Ae}:at):[{toastId:y.id,height:Ae,position:y.position},...$t])},[he,y.title,y.description,P,y.id]);let je=W.useCallback(()=>{It(!0),ss(Jt.current),P(ee=>ee.filter(pe=>pe.toastId!==y.id)),setTimeout(()=>{M(y)},Mj)},[y,M,P,Jt]);W.useEffect(()=>{if(y.promise&&ot==="loading"||y.duration===1/0||y.type==="loading")return;let ee;return V||S||Y&&no?(()=>{if(Gs.current<qs.current){let pe=new Date().getTime()-qs.current;He.current=He.current-pe}Gs.current=new Date().getTime()})():He.current!==1/0&&(qs.current=new Date().getTime(),ee=setTimeout(()=>{var pe;(pe=y.onAutoClose)==null||pe.call(y,y),je()},He.current)),()=>clearTimeout(ee)},[V,S,y,ot,Y,no,je]),W.useEffect(()=>{y.delete&&je()},[je,y.delete]);function Ha(){var ee,pe,Ae;return Q!=null&&Q.loading?W.createElement("div",{className:fn(U==null?void 0:U.loader,(ee=y==null?void 0:y.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":ot==="loading"},Q.loading):_e?W.createElement("div",{className:fn(U==null?void 0:U.loader,(pe=y==null?void 0:y.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":ot==="loading"},_e):W.createElement(gj,{className:fn(U==null?void 0:U.loader,(Ae=y==null?void 0:y.classNames)==null?void 0:Ae.loader),visible:ot==="loading"})}return W.createElement("li",{tabIndex:0,ref:$n,className:fn(N,$a,U==null?void 0:U.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[ot],(n=y==null?void 0:y.classNames)==null?void 0:n[ot]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:A,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":he,"data-promise":!!y.promise,"data-swiped":rs,"data-removed":bt,"data-visible":bc,"data-y-position":Hn,"data-x-position":Wa,"data-index":_,"data-front":za,"data-swiping":G,"data-dismissible":Wn,"data-type":ot,"data-invert":as,"data-swipe-out":Un,"data-swipe-direction":Ee,"data-expanded":!!(V||z&&he),style:{"--index":_,"--toasts-before":_,"--z-index":R.length-_,"--offset":`${bt?Ji:Jt.current}px`,"--initial-height":z?"auto":`${Zi}px`,...E,...y.style},onDragEnd:()=>{it(!1),ie(null),Sn.current=null},onPointerDown:ee=>{Ks||!Wn||(is.current=new Date,ss(Jt.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(it(!0),Sn.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,pe,Ae,$t;if(Un||!Wn)return;Sn.current=null;let at=Number(((ee=$n.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),An=Number(((pe=$n.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qn=new Date().getTime()-((Ae=is.current)==null?void 0:Ae.getTime()),xt=le==="x"?at:An,hn=Math.abs(xt)/qn;if(Math.abs(xt)>=Dj||hn>.11){ss(Jt.current),($t=y.onDismiss)==null||$t.call(y,y),Se(le==="x"?at>0?"right":"left":An>0?"down":"up"),je(),We(!0),zn(!1);return}it(!1),ie(null)},onPointerMove:ee=>{var pe,Ae,$t,at;if(!Sn.current||!Wn||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;let An=ee.clientY-Sn.current.y,qn=ee.clientX-Sn.current.x,xt=(Ae=t.swipeDirections)!=null?Ae:Lj(we);!le&&(Math.abs(qn)>1||Math.abs(An)>1)&&ie(Math.abs(qn)>Math.abs(An)?"x":"y");let hn={x:0,y:0};le==="y"?(xt.includes("top")||xt.includes("bottom"))&&(xt.includes("top")&&An<0||xt.includes("bottom")&&An>0)&&(hn.y=An):le==="x"&&(xt.includes("left")||xt.includes("right"))&&(xt.includes("left")&&qn<0||xt.includes("right")&&qn>0)&&(hn.x=qn),(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&zn(!0),($t=$n.current)==null||$t.style.setProperty("--swipe-amount-x",`${hn.x}px`),(at=$n.current)==null||at.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Ic&&!y.jsx?W.createElement("button",{"aria-label":X,"data-disabled":Ks,"data-close-button":!0,onClick:Ks||!Wn?()=>{}:()=>{var ee;je(),(ee=y.onDismiss)==null||ee.call(y,y)},className:fn(U==null?void 0:U.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:_j):null,y.jsx||L.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:W.createElement(W.Fragment,null,ot||y.icon||y.promise?W.createElement("div",{"data-icon":"",className:fn(U==null?void 0:U.icon,(o=y==null?void 0:y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ha():null,y.type!=="loading"?y.icon||(Q==null?void 0:Q[ot])||pj(ot):null):null,W.createElement("div",{"data-content":"",className:fn(U==null?void 0:U.content,(l=y==null?void 0:y.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:fn(U==null?void 0:U.title,(u=y==null?void 0:y.classNames)==null?void 0:u.title)},typeof y.title=="function"?y.title():y.title),y.description?W.createElement("div",{"data-description":"",className:fn(C,eo,U==null?void 0:U.description,(h=y==null?void 0:y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),L.isValidElement(y.cancel)?y.cancel:y.cancel&&bl(y.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||k,onClick:ee=>{var pe,Ae;bl(y.cancel)&&Wn&&((Ae=(pe=y.cancel).onClick)==null||Ae.call(pe,ee),je())},className:fn(U==null?void 0:U.cancelButton,(d=y==null?void 0:y.classNames)==null?void 0:d.cancelButton)},y.cancel.label):null,L.isValidElement(y.action)?y.action:y.action&&bl(y.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||I,onClick:ee=>{var pe,Ae;bl(y.action)&&((Ae=(pe=y.action).onClick)==null||Ae.call(pe,ee),!ee.defaultPrevented&&je())},className:fn(U==null?void 0:U.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function bv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Oj(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?Rj:Nj;function u(h){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${o}-${h}`]=l:n[`${o}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):u(l)}),n}var Bj=L.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:h,theme:d="light",richColors:p,duration:g,style:y,visibleToasts:b=Pj,toastOptions:S,dir:P=bv(),gap:T=Vj,loadingIcon:v,icons:_,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:V}=t,[M,A]=W.useState([]),x=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(Y=>Y.position).map(Y=>Y.position)))),[M,r]),[E,k]=W.useState([]),[I,N]=W.useState(!1),[C,Z]=W.useState(!1),[we,ue]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_e=W.useRef(null),z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),Q=W.useRef(!1),X=W.useCallback(Y=>{A(le=>{var ie;return(ie=le.find(Ee=>Ee.id===Y.id))!=null&&ie.delete||Dt.dismiss(Y.id),le.filter(({id:Ee})=>Ee!==Y.id)})},[]);return W.useEffect(()=>Dt.subscribe(Y=>{if(Y.dismiss){A(le=>le.map(ie=>ie.id===Y.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{JS.flushSync(()=>{A(le=>{let ie=le.findIndex(Ee=>Ee.id===Y.id);return ie!==-1?[...le.slice(0,ie),{...le[ie],...Y},...le.slice(ie+1)]:[Y,...le]})})})}),[]),W.useEffect(()=>{if(d!=="system"){ue(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ue("dark"):ue("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:le})=>{ue(le?"dark":"light")})}catch{Y.addListener(({matches:ie})=>{try{ue(ie?"dark":"light")}catch(Ee){console.error(Ee)}})}},[d]),W.useEffect(()=>{M.length<=1&&N(!1)},[M]),W.useEffect(()=>{let Y=le=>{var ie,Ee;s.every(Se=>le[Se]||le.code===Se)&&(N(!0),(ie=_e.current)==null||ie.focus()),le.code==="Escape"&&(document.activeElement===_e.current||(Ee=_e.current)!=null&&Ee.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),W.useEffect(()=>{if(_e.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[_e.current]),W.createElement("section",{ref:e,"aria-label":`${R} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((Y,le)=>{var ie;let[Ee,Se]=Y.split("-");return M.length?W.createElement("ol",{key:Y,dir:P==="auto"?bv():P,tabIndex:-1,ref:_e,className:l,"data-sonner-toaster":!0,"data-theme":we,"data-y-position":Ee,"data-lifted":I&&M.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((ie=E[0])==null?void 0:ie.height)||0}px`,"--width":`${jj}px`,"--gap":`${T}px`,...y,...Oj(u,h)},onBlur:he=>{Q.current&&!he.currentTarget.contains(he.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=he.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{C||N(!1)},onDragEnd:()=>N(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},M.filter(he=>!he.position&&le===0||he.position===Y).map((he,cn)=>{var bt,It;return W.createElement(Fj,{key:he.id,icons:_,index:cn,toast:he,defaultRichColors:p,duration:(bt=S==null?void 0:S.duration)!=null?bt:g,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:b,closeButton:(It=S==null?void 0:S.closeButton)!=null?It:o,interacting:C,position:Y,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:X,toasts:M.filter(G=>G.position==he.position),heights:E.filter(G=>G.position==he.position),setHeights:k,expandByDefault:i,gap:T,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:V,swipeDirections:t.swipeDirections})})):null}))});const Iv={"Worker Needs":["Electrician","Plumber","Carpenter","Mason","Painter"],"Home Needs":["House Cleaning","Appliance Repair","Pest Control"],"Daily Help":["Cook","Maid","Babysitter","Caretaker"],"Agriculture Needs":["Farm Labor","Tractor Driver","Harvester"],"Part-time / On-spot Work":["Delivery","Helper","Driver"]};function Uj({onLogin:t,onBack:e,initialRole:n}){var It;const{login:r,registerUser:s}=Tn(),[i,o]=L.useState("phone"),[l,u]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(""),[y,b]=L.useState(""),[S,P]=L.useState("Thanjavur"),[T,v]=L.useState(n||"user"),[_,R]=L.useState("Male"),[V,M]=L.useState("Worker Needs"),[A,x]=L.useState([]),[E,k]=L.useState(""),[I,N]=L.useState(""),[C,Z]=L.useState(""),[we,ue]=L.useState(""),[_e,z]=L.useState(""),[U,Q]=L.useState("9 AM - 6 PM"),[X,Y]=L.useState("Available"),[le,ie]=L.useState("Tamil"),Ee=G=>{if(G.preventDefault(),!/^\d{10}$/.test(l)){g("Please enter a valid 10-digit mobile number");return}g(""),o("otp")},Se=async G=>{if(G.preventDefault(),h!=="123456"){g("Invalid OTP. Please enter 123456");return}try{const it=await r(l);it.success?t({name:"",phone:l,village:""},""):it.needRegistration?o("register"):g(it.message||"Login failed")}catch{g("Something went wrong. Try again.")}},he=G=>{if(G.preventDefault(),!y||!S||!T){g("Please fill all fields");return}T==="worker"?o("worker-details"):bt()},cn=G=>{A.includes(G)?x(A.filter(it=>it!==G)):x([...A,G])},bt=async()=>{const G=T==="worker",it=new Date().toISOString().split("T")[0];let Un;if(G)try{Un=await getNextWorkerId()}catch(zn){console.error("Failed to generate ID",zn),Un=`WRK${Date.now().toString().slice(-3)}`}const We={name:y,phone:l,village:S,role:T,createdAt:it,isActive:!0};G&&(We.workerId=Un,We.gender=_,We.profilePhoto="placeholder.jpg",We.skillCategory=V,We.services=A,We.experienceYears=Number(E)||0,We.bio=I,We.location={village:S,taluk:C,district:we,pincode:_e},We.workingHours=U,We.availabilityStatus=X,We.preferredLanguage=le,We.rating=0,We.jobsCompleted=0,We.callEnabled=!1);const rs=await s(We);if(rs.success)Ca.success("Registration Successful! Welcome."),t({name:y,phone:l,village:S},T);else{const zn=rs.message||"Registration failed";Ca.error(zn),g(zn)}};return c.jsx(yt,{title:i==="register"?"Basic Info":i==="worker-details"?"Worker Profile":"Login",showBack:!0,onBack:i==="worker-details"?()=>o("register"):e,children:c.jsxs("div",{className:"min-h-screen md:min-h-[600px] flex flex-col justify-center bg-[#F7F8FC] p-6 max-w-md mx-auto w-full",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsxs("h2",{className:"text-2xl font-bold text-[#1A2238] mb-2",children:[i==="phone"&&"Welcome Back",i==="otp"&&"Verify OTP",i==="register"&&"Sign Up",i==="worker-details"&&"Worker Details"]}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:i==="worker-details"?"Tell us about your work":"Join our community"})]}),c.jsxs("form",{onSubmit:i==="phone"?Ee:i==="otp"?Se:i==="register"?he:G=>{G.preventDefault(),bt()},className:"space-y-4",children:[i==="phone"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-[#2E2E2E] mb-2 font-medium",children:"Mobile Number"}),c.jsx("input",{id:"phone",type:"tel",value:l,onChange:G=>{const it=G.target.value.replace(/\D/g,"").slice(0,10);u(it)},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:border-[#1A2238] text-lg bg-white",placeholder:"9876543210",required:!0,maxLength:10})]}),i==="otp"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"otp",className:"block text-[#2E2E2E] mb-2 font-medium",children:"OTP (123456)"}),c.jsx("input",{id:"otp",type:"text",value:h,onChange:G=>d(G.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:outline-none focus:border-[#1A2238] text-center tracking-widest text-xl bg-white",placeholder:"------",maxLength:6,required:!0})]}),i==="register"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-2 font-medium",children:"Full Name"}),c.jsx("input",{type:"text",placeholder:"Full Name",value:y,onChange:G=>b(G.target.value),className:"w-full p-3 rounded-xl border bg-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-2 font-medium",children:"Village"}),c.jsxs("select",{value:S,onChange:G=>P(G.target.value),className:"w-full p-3 rounded-xl border bg-white",children:[c.jsx("option",{value:"Thanjavur",children:"Thanjavur"}),c.jsx("option",{value:"Kumbakonam",children:"Kumbakonam"}),c.jsx("option",{value:"Papanasam",children:"Papanasam"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-2 font-medium",children:"Role"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:`flex-1 p-3 border-2 rounded-xl text-center cursor-pointer ${T==="user"?"border-[#1A2238] bg-blue-50 font-bold":"border-gray-200"}`,children:[c.jsx("input",{type:"radio",checked:T==="user",onChange:()=>v("user"),className:"hidden"})," User"]}),c.jsxs("label",{className:`flex-1 p-3 border-2 rounded-xl text-center cursor-pointer ${T==="worker"?"border-[#1A2238] bg-blue-50 font-bold":"border-gray-200"}`,children:[c.jsx("input",{type:"radio",checked:T==="worker",onChange:()=>v("worker"),className:"hidden"})," Worker"]})]})]})]}),i==="worker-details"&&c.jsxs("div",{className:"space-y-4 h-[450px] overflow-y-auto pr-2 pb-10",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-gray-500 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Name:"})," ",y]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Mobile:"})," ",l]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Role:"})," Worker"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Gender"}),c.jsxs("select",{value:_,onChange:G=>R(G.target.value),className:"w-full p-3 rounded-xl border bg-white",children:[c.jsx("option",{value:"Male",children:"Male"}),c.jsx("option",{value:"Female",children:"Female"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Skill Category"}),c.jsx("select",{value:V,onChange:G=>{M(G.target.value),x([])},className:"w-full p-3 rounded-xl border bg-white",children:Object.keys(Iv).map(G=>c.jsx("option",{value:G,children:G},G))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-2 font-medium text-sm",children:"Services (Select Multiple)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:(It=Iv[V])==null?void 0:It.map(G=>c.jsx("button",{type:"button",onClick:()=>cn(G),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${A.includes(G)?"bg-[#1A2238] text-white shadow-md":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:G},G))}),A.length===0&&c.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Please select at least one service"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Experience (Years)"}),c.jsx("input",{type:"number",value:E,onChange:G=>k(G.target.value),className:"w-full p-3 rounded-xl border bg-white",placeholder:"e.g. 5"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Bio"}),c.jsx("textarea",{value:I,onChange:G=>N(G.target.value),className:"w-full p-3 rounded-xl border bg-white h-20",placeholder:"Describe your experience..."})]}),c.jsxs("div",{className:"space-y-3 border-t pt-3",children:[c.jsx("p",{className:"font-semibold text-[#1A2238]",children:"Location Details"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-xs",children:"Village"}),c.jsx("input",{type:"text",value:S,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-xs",children:"Taluk"}),c.jsx("input",{type:"text",value:C,onChange:G=>Z(G.target.value),className:"w-full p-3 rounded-xl border bg-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-xs",children:"District"}),c.jsx("input",{type:"text",value:we,onChange:G=>ue(G.target.value),className:"w-full p-3 rounded-xl border bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-xs",children:"Pincode"}),c.jsx("input",{type:"text",value:_e,onChange:G=>z(G.target.value),className:"w-full p-3 rounded-xl border bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Working Hours"}),c.jsx("input",{type:"text",value:U,onChange:G=>Q(G.target.value),className:"w-full p-3 rounded-xl border bg-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Availability"}),c.jsxs("select",{value:X,onChange:G=>Y(G.target.value),className:"w-full p-3 rounded-xl border bg-white",children:[c.jsx("option",{value:"Available",children:"Available"}),c.jsx("option",{value:"Busy",children:"Busy"}),c.jsx("option",{value:"Offline",children:"Offline"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-1 font-medium text-sm",children:"Preferred Language"}),c.jsxs("select",{value:le,onChange:G=>ie(G.target.value),className:"w-full p-3 rounded-xl border bg-white",children:[c.jsx("option",{value:"Tamil",children:"Tamil"}),c.jsx("option",{value:"English",children:"English"})]})]}),c.jsx("div",{className:"h-10"})]}),p&&c.jsx("p",{className:"text-red-500 text-center text-sm",children:p}),c.jsx(Me,{type:"submit",variant:"accent",className:"w-full shadow-lg shadow-orange-200",size:"lg",children:i==="phone"?"Get OTP":i==="otp"?"Verify":i==="register"&&T==="worker"?"Next":"Complete Registration"}),i==="otp"&&c.jsx("button",{type:"button",onClick:()=>o("phone"),className:"w-full text-center text-[#9DAAF2] text-sm hover:underline",children:"Change Phone Number"})]})]})})}function ki({status:t}){const e={pending:{label:"Pending",className:"bg-[#F4DB7D] text-[#2E2E2E]"},accepted:{label:"Accepted",className:"bg-[#9DAAF2] text-white"},rejected:{label:"Rejected",className:"bg-[#E8E8E8] text-[#2E2E2E]"},user_started:{label:"User Started",className:"bg-blue-100 text-blue-600"},"in-progress":{label:"In Progress",className:"bg-blue-500 text-white"},worker_completed:{label:"Worker Done",className:"bg-green-100 text-green-600"},completed:{label:"Completed",className:"bg-[#4CAF50] text-white"}},n=e[t]||e.pending;return c.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full ${n.className}`,children:n.label})}const gf="/v_serve_u/assets/icon-worker-f005644e.png",aE="/v_serve_u/assets/icon-service-cleaning-55494242.png",lE="/v_serve_u/assets/icon-service-cook-adca06b5.png",zj="/v_serve_u/assets/icon-parttime-73c11948.png";function $j({village:t,onSelectCategory:e,onSelectRequest:n}){const r=[{id:"worker-needs",title:"Worker Needs",icon:gf,description:"Electrician, Plumber, Carpenter",gradient:"from-blue-500 to-blue-600"},{id:"home-needs",title:"Home Needs",icon:aE,description:"Cleaning, Painting, Repairs",gradient:"from-green-500 to-green-600"},{id:"daily-help",title:"Daily Help",icon:lE,description:"Cook, Maid, Caretaker",gradient:"from-purple-500 to-purple-600"},{id:"agriculture",title:"Agriculture Needs",icon:gf,description:"Farm Labor, Tractor, Harvesting",gradient:"from-yellow-500 to-amber-600"},{id:"part-time",title:"Part-time / On-spot Work",icon:zj,description:"Temporary help, Delivery",gradient:"from-orange-500 to-red-600"}];return c.jsx(yt,{children:c.jsxs("div",{className:"min-h-screen bg-[#F7F8FC]",children:[c.jsxs(ae.div,{className:"md:hidden bg-gradient-to-br from-[#1A2238] via-[#2A3248] to-[#1A2238] text-white p-6 rounded-b-3xl relative overflow-hidden",initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},children:[c.jsx(ae.div,{className:"absolute top-0 right-0 w-32 h-32 bg-[#FF6A3D] rounded-full opacity-20 blur-2xl",animate:{scale:[1,1.5,1],x:[0,20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),c.jsxs("div",{className:"flex items-center justify-between mb-2 relative z-10",children:[c.jsxs(ae.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[c.jsx("p",{className:"text-[#9DAAF2] mb-1",children:"Welcome to"}),c.jsx("h2",{className:"text-white",children:"vserveu"})]}),c.jsx(ae.div,{className:"w-12 h-12 bg-white/10 backdrop-blur rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},whileHover:{scale:1.1},whileTap:{scale:.95},children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),c.jsxs(ae.div,{className:"flex items-center gap-2 relative z-10",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[c.jsxs(ae.svg,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0},children:[c.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),c.jsx("span",{className:"text-sm",children:t})]})]}),c.jsx("div",{className:"max-w-7xl mx-auto w-full",children:c.jsxs("div",{className:"p-6 md:p-8 space-y-4",children:[c.jsx(ae.h3,{className:"text-[#2E2E2E] md:text-xl md:font-semibold md:mb-6",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:"Select Service Category"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:r.map((s,i)=>c.jsx(ae.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*i,type:"spring",stiffness:100},whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsxs(wn,{onClick:()=>e(s.id),className:"p-5 hover:shadow-xl transition-all duration-300 relative overflow-hidden group border border-transparent hover:border-gray-100 h-full",children:[c.jsx(ae.div,{className:`absolute inset-0 bg-gradient-to-r ${s.gradient} opacity-0 group-hover:opacity-5 transition-opacity`}),c.jsxs("div",{className:"flex items-center gap-4 relative z-10 h-full",children:[c.jsx(ae.div,{className:"text-5xl",whileHover:{rotate:[0,-10,10,-10,0],scale:1.2},transition:{duration:.5},children:c.jsx("img",{src:s.icon,alt:s.title,className:"w-12 h-12 object-contain"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-[#1A2238] mb-1 font-medium",children:s.title}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:s.description})]}),c.jsx(ae.svg,{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:translate-x-1 transition-transform text-gray-400 group-hover:text-[#1A2238]",children:c.jsx("path",{d:"m9 18 6-6-6-6"})})]})]})},s.id))}),c.jsxs("div",{className:"px-6 md:px-8 pb-8",children:[c.jsx("h3",{className:"text-[#2E2E2E] md:text-xl md:font-semibold mb-4",children:"My Requests"}),c.jsx(Wj,{onSelectRequest:n})]})]})})]})})}function Wj({onSelectRequest:t}){const{currentUser:e,getRequestsForUser:n}=Tn();if(!e)return null;const r=n(e.id);return r.length===0?c.jsx("div",{className:"text-gray-400 text-sm",children:"No active requests."}):c.jsx("div",{className:"space-y-3",children:r.map(s=>c.jsxs(wn,{onClick:()=>t(s.id),className:"p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-[#1A2238]",children:s.serviceType}),c.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleDateString()}),c.jsx("p",{className:"text-xs text-[#2E2E2E] opacity-70 mt-1 truncate max-w-[200px]",children:s.description})]}),c.jsx(ki,{status:s.status})]},s.id))})}const Hj="/v_serve_u/assets/icon-service-electrician-06101473.png",qj="/v_serve_u/assets/icon-service-plumber-4ba3a8a3.png",Gj="/v_serve_u/assets/icon-service-carpenter-5b123117.png",Kj="/v_serve_u/assets/icon-service-cleaning-55494242.png";function Qj({category:t,onSelectService:e,onBack:n}){const s={"worker-needs":["Electrician","Plumber","Carpenter","Welder","Mason"],"home-needs":["House Cleaning","Painting","Pest Control","AC Repair","Appliance Repair"],"daily-help":["Cook","Housemaid","Elder Care","Baby Sitter","Driver"],agriculture:["Farm Labor","Tractor Service","Harvesting","Irrigation Setup","Crop Protection"],"part-time":["Delivery Person","Event Helper","Loading/Unloading","Shopkeeper Assistant","General Labor"]}[t]||[],i={"worker-needs":"Worker Needs","home-needs":"Home Needs","daily-help":"Daily Help",agriculture:"Agriculture Needs","part-time":"Part-time Work"},o=l=>{const u=l.toLowerCase();return u.includes("electrician")?Hj:u.includes("plumber")?qj:u.includes("carpenter")?Gj:u.includes("painting")?aE:u.includes("cleaning")?Kj:u.includes("cook")?lE:gf};return c.jsx(yt,{title:i[t],showBack:!0,onBack:n,children:c.jsx("div",{className:"min-h-screen bg-[#F7F8FC]",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full p-6 md:p-8",children:[c.jsx("h3",{className:"text-[#2E2E2E] mb-4 md:mb-6 md:text-xl md:font-semibold",children:"Available Services"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:s.map((l,u)=>c.jsx(ae.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:u*.1},children:c.jsx(wn,{onClick:()=>e(l),className:"p-4 hover:shadow-md transition-shadow h-full flex flex-col justify-center",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-[#F0F2FA] rounded-xl flex items-center justify-center overflow-hidden flex-shrink-0",children:c.jsx("img",{src:o(l),alt:l,className:"w-8 h-8 object-contain"})}),c.jsx("span",{className:"text-[#1A2238] font-medium",children:l})]}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#9DAAF2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m9 18 6-6-6-6"})})]})})},l))})]})})})}function Yj({service:t,onSelectWorker:e,onBack:n}){const r=Tn(),s=r==null?void 0:r.getWorkersByService,i=r==null?void 0:r.getWorkerStats,o=L.useMemo(()=>{if(!s)return[];try{return s(t)}catch{return[]}},[t,s]);return c.jsx(yt,{title:t,showBack:!0,onBack:n,children:c.jsx("div",{className:"min-h-screen bg-[#F7F8FC]",children:c.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 md:p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[c.jsx("h3",{className:"text-[#2E2E2E] font-semibold text-lg md:text-xl",children:"Available Professionals"}),c.jsxs("span",{className:"text-xs md:text-sm bg-blue-50 text-blue-600 py-1 px-3 rounded-full font-medium whitespace-nowrap",children:[o.length," found"]})]}),o.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center p-10 text-center text-gray-400",children:[c.jsxs("p",{className:"text-lg",children:["No ",t,"s found nearby."]}),c.jsx("p",{className:"text-sm mt-2",children:"Try checking again later."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.map((l,u)=>{var d;const h=i?i(l.id):{totalJobs:0,averageRating:0};return c.jsx(ae.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:u*.1},children:c.jsxs(wn,{className:"p-4 md:p-5 hover:shadow-lg transition-all duration-300 relative overflow-hidden group border border-transparent hover:border-blue-100",onClick:()=>e(l.id),children:[c.jsxs("div",{className:"flex gap-3 md:gap-4",children:[c.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 flex-shrink-0 rounded-full bg-gradient-to-br from-blue-100 to-blue-50 flex items-center justify-center text-2xl shadow-inner border border-white relative z-10",children:l.profilePhoto&&l.profilePhoto!=="placeholder.jpg"?c.jsx("img",{src:l.profilePhoto,alt:l.name,className:"w-full h-full object-cover rounded-full"}):c.jsx("span",{className:"text-blue-500 font-bold",children:l.name.charAt(0)})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[" ",c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"min-w-0 mr-2",children:[c.jsx("h4",{className:"text-[#1A2238] font-bold text-lg leading-tight truncate",children:l.name}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#2E2E2E] opacity-70 mt-1 truncate",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"flex-shrink-0",children:[c.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),c.jsx("span",{className:"truncate",children:((d=l.location)==null?void 0:d.village)||l.village})]})]}),c.jsx("span",{className:`flex-shrink-0 px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${l.availabilityStatus==="Available"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.availabilityStatus==="Available"?"Available":"Busy"})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3 md:mt-4 p-2 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[#F4DB7D] font-bold text-sm",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"text-[#1A2238]",children:h.averageRating||"New"})]}),c.jsx("span",{className:"text-[9px] md:text-[10px] text-gray-400 uppercase tracking-wide",children:"Rating"})]}),c.jsx("div",{className:"w-px h-6 bg-gray-200"}),c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsxs("div",{className:"flex items-center gap-1 font-bold text-[#1A2238] text-sm",children:[c.jsx("span",{children:l.experienceYears||0}),c.jsx("span",{className:"text-xs font-normal",children:"Yrs"})]}),c.jsx("span",{className:"text-[9px] md:text-[10px] text-gray-400 uppercase tracking-wide",children:"Exp."})]}),c.jsx("div",{className:"w-px h-6 bg-gray-200"}),c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsx("div",{className:"flex items-center gap-1 font-bold text-[#1A2238] text-sm",children:c.jsx("span",{children:h.totalJobs||0})}),c.jsx("span",{className:"text-[9px] md:text-[10px] text-gray-400 uppercase tracking-wide",children:"Jobs"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4 md:mt-5",children:[c.jsx(Me,{variant:"secondary",size:"sm",className:"w-full text-xs font-semibold bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300",onClick:p=>{p.stopPropagation(),e(l.id)},children:"View"}),c.jsx(Me,{variant:"accent",size:"sm",className:"w-full text-xs font-semibold shadow-md shadow-orange-100",onClick:p=>{p.stopPropagation(),e(l.id)},children:"Book"})]})]})},l.id)})})]})})})}function Xj({workerId:t,onRequestService:e,onBack:n}){var b;const{getWorkerById:r,getWorkerStats:s}=Tn(),i=r(t),o=s(t);if(!i)return c.jsx(yt,{title:"Worker Details",showBack:!0,onBack:n,children:c.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:c.jsx("p",{className:"text-gray-500",children:"Worker not found or loading..."})})});const l=i.services||[],u=((b=i.location)==null?void 0:b.village)||i.village||"Unknown",h=o.averageRating,d=o.totalJobs,p=i.experienceYears||0,g=i.bio||"No description provided.",y=i.availabilityStatus==="Available";return c.jsx(yt,{title:"Worker Details",showBack:!0,onBack:n,children:c.jsxs(ae.div,{className:"min-h-[607px] bg-[#F7F8FC]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[c.jsxs(ae.div,{className:"bg-white p-6 mb-4 relative overflow-hidden",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,type:"spring"},children:[c.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-[#9DAAF2] to-[#FF6A3D] opacity-5 rounded-full blur-3xl"}),c.jsxs("div",{className:"flex gap-4 items-start mb-4 relative z-10",children:[c.jsx(ae.div,{className:"w-20 h-20 bg-gradient-to-br from-[#9DAAF2] to-[#7D8AE2] rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,type:"spring",stiffness:200},whileHover:{scale:1.1,rotate:5},children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(ae.h2,{className:"text-[#1A2238] mb-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:i.name}),c.jsxs(ae.div,{className:"flex items-center gap-2 text-sm text-[#2E2E2E] opacity-70 mb-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),c.jsx("span",{children:u})]}),c.jsx(ae.span,{className:`inline-flex px-3 py-1 ${y?"bg-[#4CAF50]":"bg-[#E8E8E8]"} text-white rounded-full text-sm`,initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:200},whileHover:{scale:1.05},children:y?" Available":"Busy"})]})]}),c.jsxs(ae.div,{className:"flex gap-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"#F4DB7D",stroke:"#F4DB7D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[#1A2238]",children:h}),c.jsx("div",{className:"text-xs text-[#2E2E2E] opacity-70",children:"Rating"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-[#1A2238]",children:[p," years"]}),c.jsx("div",{className:"text-xs text-[#2E2E2E] opacity-70",children:"Experience"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[#1A2238]",children:d}),c.jsx("div",{className:"text-xs text-[#2E2E2E] opacity-70",children:"Jobs Done"})]})]})]}),c.jsxs(ae.div,{className:"px-6 mb-4",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.7},children:[c.jsx("h3",{className:"text-[#1A2238] mb-3",children:"Services Offered"}),c.jsx("div",{className:"bg-white rounded-2xl p-4",children:c.jsx("ul",{className:"space-y-2",children:l.map((S,P)=>c.jsxs(ae.li,{className:"flex items-start gap-2",initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.8+P*.1},whileHover:{x:5},children:[c.jsx(ae.svg,{className:"flex-shrink-0 mt-1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#4CAF50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{scale:0},animate:{scale:1},transition:{delay:.8+P*.1},children:c.jsx("polyline",{points:"20 6 9 17 4 12"})}),c.jsx("span",{className:"text-[#2E2E2E]",children:S})]},P))})})]}),c.jsxs(ae.div,{className:"px-6 mb-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:1.2},children:[c.jsx("h3",{className:"text-[#1A2238] mb-3",children:"About"}),c.jsx("div",{className:"bg-white rounded-2xl p-4",children:c.jsx("p",{className:"text-[#2E2E2E]",children:g})})]}),c.jsx(ae.div,{className:"px-6 pb-6",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.3,type:"spring"},children:c.jsx(Me,{variant:"accent",className:"w-full",size:"lg",onClick:e,children:"Request Service"})})]})})}function Jj({workerId:t,onSubmitRequest:e,onBack:n}){const{createRequest:r,getWorkerById:s,currentUser:i,getRequestsForWorker:o}=Tn(),[l,u]=L.useState("today"),[h,d]=L.useState(""),[p,g]=L.useState(""),[y,b]=L.useState(""),S=s(t),P=o(t),T=()=>{const E=new Date;return l==="tomorrow"&&E.setDate(E.getDate()+1),l==="custom"&&h?new Date(h).toLocaleDateString():E.toLocaleDateString()},v=E=>{if(!E)return 0;const k=E.trim().split(" "),I=k[0],N=k.length>1?k[1]:"";let[C,Z]=I.split(":").map(Number);return isNaN(Z)&&(Z=0),N==="PM"&&C<12&&(C+=12),N==="AM"&&C===12&&(C=0),C*60+Z},_=E=>{const k=Math.floor(E/60),I=E%60,N=k>=12?"PM":"AM";return`${(k%12||12).toString().padStart(2,"0")}:${I.toString().padStart(2,"0")} ${N}`},V=(()=>{var Z,we;const E=((Z=S==null?void 0:S.workingHours)==null?void 0:Z.split(" - ")[0])||"09:00 AM",k=((we=S==null?void 0:S.workingHours)==null?void 0:we.split(" - ")[1])||"06:00 PM",I=v(E),N=v(k),C=[];for(let ue=I;ue<N;ue+=60)C.push(_(ue));return C})(),M=E=>{const k=T();if(l==="today"){const I=new Date,N=v(E),C=I.getHours()*60+I.getMinutes();if(N<C)return!0}return P.some(I=>["rejected","completed","worker_completed"].includes(I.status)?!1:new Date(I.date).toLocaleDateString()===k&&I.description.includes(`Time: ${E}`))},A=E=>{u(E),g("")},x=async E=>{var N;if(E.preventDefault(),!i||!S)return;const k=T(),I=await r({userId:i.id,userName:i.name,userVillage:i.village,workerId:S.id,workerName:S.name,serviceType:((N=S.services)==null?void 0:N[0])||"General Service",description:`${y} (Time: ${p} on ${k})`});I&&e(I)};return S?c.jsx(yt,{title:"Request Service",showBack:!0,onBack:n,children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-4 mb-6",children:[c.jsx("div",{className:"text-sm text-[#2E2E2E] opacity-70 mb-1",children:"Requesting service from"}),c.jsx("div",{className:"text-[#1A2238] font-bold text-lg",children:S.name}),c.jsx("div",{className:"text-xs text-gray-500",children:S.workingHours||"09:00 AM - 06:00 PM"})]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[#2E2E2E] mb-3 font-semibold",children:"Select Date"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[c.jsxs("button",{type:"button",onClick:()=>A("today"),className:`p-3 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all ${l==="today"?"bg-orange-50 border-[#FF6A3D] text-[#FF6A3D] shadow-sm":"bg-white border-gray-200 text-gray-600"}`,children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"text-sm font-medium",children:"Today"})]}),c.jsxs("button",{type:"button",onClick:()=>A("tomorrow"),className:`p-3 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all ${l==="tomorrow"?"bg-orange-50 border-[#FF6A3D] text-[#FF6A3D] shadow-sm":"bg-white border-gray-200 text-gray-600"}`,children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"text-sm font-medium",children:"Tomorrow"})]}),c.jsxs("button",{type:"button",onClick:()=>A("custom"),className:`p-3 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all ${l==="custom"?"bg-orange-50 border-[#FF6A3D] text-[#FF6A3D] shadow-sm":"bg-white border-gray-200 text-gray-600"}`,children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"text-sm font-medium",children:"Pick Date"})]})]}),l==="custom"&&c.jsx(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white p-2 rounded-xl border border-gray-200",children:c.jsx("input",{type:"date",required:l==="custom",className:"w-full p-2 outline-none text-[#1A2238]",onChange:E=>d(E.target.value),value:h,min:new Date().toISOString().split("T")[0]})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-[#2E2E2E] mb-3 font-semibold",children:["Available Slots (",V.length,")"]}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(E=>{const k=M(E),I=p===E;return c.jsx("button",{type:"button",disabled:k,onClick:()=>g(E),className:`
                          py-3 px-2 rounded-lg text-xs font-bold border transition-all truncate
                          ${I?"border-[#FF6A3D] bg-[#FF6A3D] text-white shadow-md":k?"bg-gray-100 text-gray-400 border-transparent cursor-not-allowed decoration-dashed":"bg-white border-gray-200 text-gray-700 hover:border-[#FF6A3D]"}
                      `,children:E},E)})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-[#2E2E2E] mb-2 font-semibold",children:"Work Description"}),c.jsx("textarea",{id:"description",value:y,onChange:E=>b(E.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-[#9DAAF2] focus:outline-none bg-white resize-none",rows:4,placeholder:"Describe the work to be done...",required:!0})]}),c.jsx(Me,{type:"submit",variant:"accent",className:"w-full",size:"lg",disabled:!p||l==="custom"&&!h||!y.trim(),children:"Confirm Booking"})]})]})}):c.jsx("div",{children:"Loading..."})}const Il=[{id:"booked",label:"Booked",statusMatch:["pending","accepted","user_started","in-progress","worker_completed","completed"]},{id:"accepted",label:"Accepted",statusMatch:["accepted","user_started","in-progress","worker_completed","completed"]},{id:"in-progress",label:"In Progress",statusMatch:["user_started","in-progress","worker_completed","completed"]},{id:"completed",label:"Completed",statusMatch:["completed"]}];function Zj({status:t}){const e=()=>c.jsx("div",{className:"flex flex-col md:hidden space-y-0",children:Il.map((r,s)=>{const i=r.statusMatch.includes(t),o=s===Il.length-1;return c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(ae.div,{initial:!1,animate:{backgroundColor:i?"#4CAF50":"#E5E7EB",scale:i?1.1:1},className:`w-8 h-8 rounded-full flex items-center justify-center z-10 border-2 ${i?"border-[#4CAF50]":"border-gray-300"}`,children:i&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})}),!o&&c.jsx("div",{className:`w-0.5 h-12 ${i&&Il[s+1].statusMatch.includes(t)?"bg-[#4CAF50]":"bg-gray-200"}`})]}),c.jsxs("div",{className:`pb-8 pt-1 ${i?"text-[#1A2238] font-medium":"text-gray-400"}`,children:[r.label,i&&s===0&&c.jsx("p",{className:"text-xs text-gray-500 font-normal",children:"Request sent"}),i&&s===1&&c.jsx("p",{className:"text-xs text-gray-500 font-normal",children:"Worker accepted"}),i&&s===2&&c.jsx("p",{className:"text-xs text-gray-500 font-normal",children:"Work started"}),i&&s===3&&c.jsx("p",{className:"text-xs text-green-600 font-normal",children:"Success!"})]})]},r.id)})}),n=()=>c.jsxs("div",{className:"hidden md:flex items-center justify-between w-full relative",children:[c.jsx("div",{className:"absolute top-4 left-0 w-full h-1 bg-gray-200 -z-10 rounded-full"}),c.jsx("div",{className:"absolute top-4 left-0 h-1 bg-[#4CAF50] -z-0 rounded-full transition-all duration-500",style:{width:t==="completed"?"100%":t==="in-progress"||t==="user_started"||t==="worker_completed"?"66%":t==="accepted"?"33%":"0%"}}),Il.map(r=>{const s=r.statusMatch.includes(t);return c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(ae.div,{initial:!1,animate:{backgroundColor:s?"#4CAF50":"#FFFFFF",borderColor:s?"#4CAF50":"#E5E7EB",scale:s?1.2:1},className:`w-8 h-8 rounded-full flex items-center justify-center border-2 z-10 ${!s&&"bg-white"}`,children:s&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})}),c.jsx("span",{className:`text-sm ${s?"text-[#1A2238] font-medium":"text-gray-400"}`,children:r.label})]},r.id)})]});return t==="rejected"?c.jsx("div",{className:"p-4 bg-red-100 text-red-700 rounded-lg text-center",children:"Request Rejected"}):c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-6",children:[c.jsx("h3",{className:"text-[#1A2238] font-semibold mb-6",children:"Job Status"}),e(),n()]})}function eV({isOpen:t,onClose:e,onSubmit:n,workerName:r}){const[s,i]=L.useState(0),[o,l]=L.useState("");return t?c.jsx(mI,{children:c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),c.jsxs(ae.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-2xl p-6 w-full max-w-sm relative z-10 shadow-xl",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-[#9DAAF2]/20 rounded-full flex items-center justify-center mx-auto mb-3 text-2xl",children:""}),c.jsxs("h3",{className:"text-xl font-bold text-[#1A2238] mb-1",children:["Rate ",r]}),c.jsx("p",{className:"text-gray-500 text-sm",children:"How was the service provided?"})]}),c.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(u=>c.jsx("button",{onClick:()=>i(u),className:`text-3xl transition-transform hover:scale-110 ${s>=u?"text-yellow-400":"text-gray-200"}`,children:""},u))}),c.jsx("textarea",{className:"w-full bg-[#F7F8FC] border border-gray-200 rounded-xl p-3 mb-6 focus:outline-none focus:border-[#9DAAF2] text-sm",placeholder:"Share your experience (optional)",rows:3,value:o,onChange:u=>l(u.target.value)}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Me,{variant:"primary",className:"w-full",disabled:s===0,onClick:()=>n(s,o),children:"Submit Review"}),c.jsx(Me,{variant:"ghost",className:"w-full text-gray-500",onClick:e,children:"Maybe Later"})]})]})]})}):null}function tV({status:t,onBack:e,requestId:n,onBookAgain:r}){var P;const{updateRequestStatus:s,rateRequest:i,requests:o}=Tn(),[l,u]=L.useState(!1),h=o.find(T=>T.id===n),d=(h==null?void 0:h.status)||t,p=h?{service:h.serviceType,workerName:h.workerName,workerVillage:"Village",preferredTime:((P=h.description.match(/Time: (.*)\)/))==null?void 0:P[1])||new Date(h.date).toLocaleDateString(),description:h.description.split(" (Time:")[0],requestedOn:new Date(h.date).toLocaleString(),rating:h.rating}:{service:"Service Request",workerName:"Loading...",workerVillage:"...",preferredTime:"...",description:"Fetching details...",requestedOn:"..."},g={pending:"Your request has been sent to the worker. Waiting for response...",accepted:'Worker has accepted! When they arrive, please click "Worker Arrived" to start.',rejected:"Worker is not available. Please try another worker.",user_started:"You started the job. Waiting for worker to confirm start...","in-progress":"Work is currently in progress.",worker_completed:"Worker has marked job as done. Please verify and pay.",completed:"Work has been completed successfully!"},y=async()=>{n&&await s(n,"user_started")},b=async()=>{n&&await s(n,"completed")},S=async(T,v)=>{n&&(await i(n,T,v),Ca.success("Thank you for your feedback!"),u(!1))};return c.jsx(yt,{title:"Request Status",showBack:!0,onBack:e,children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6 relative",children:[c.jsx(Zj,{status:d}),c.jsxs(ae.div,{className:"bg-white rounded-2xl p-6 mb-4 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-[#1A2238] mb-1",children:p.service}),c.jsxs("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:["ID: ",n||"..."]})]}),c.jsx(ki,{status:d})]}),c.jsx("div",{className:"bg-gradient-to-r from-[#F7F8FC] to-transparent rounded-xl p-4 mb-4",children:c.jsx("p",{className:"text-[#2E2E2E] text-center text-sm",children:g[d]})}),c.jsx("div",{className:"border-t border-gray-100 pt-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-12 h-12 bg-[#9DAAF2] bg-opacity-20 rounded-full flex items-center justify-center text-xl",children:""}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[#1A2238]",children:p.workerName}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:p.workerVillage})]})]})}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Preferred Time:"})," ",c.jsx("span",{className:"ml-2 text-[#1A2238]",children:p.preferredTime})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Description:"})," ",c.jsx("p",{className:"text-[#1A2238] mt-1",children:p.description})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Requested On:"})," ",c.jsx("span",{className:"ml-2 text-[#1A2238]",children:p.requestedOn})]})]})]}),c.jsxs("div",{className:"space-y-3 pb-8",children:[d==="accepted"&&c.jsx(Me,{onClick:y,variant:"primary",className:"w-full",size:"lg",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),c.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),c.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),c.jsx("span",{children:"Worker Arrived - Start Job"})]})}),d==="worker_completed"&&c.jsx(Me,{onClick:b,variant:"accent",className:"w-full",size:"lg",children:"Verify & Pay"}),(d==="accepted"||d==="in-progress"||d==="user_started")&&c.jsx(Me,{variant:"outline",className:"w-full",size:"lg",children:"Call Worker"}),d==="rejected"&&c.jsx(Me,{variant:"secondary",className:"w-full",size:"lg",onClick:e,children:"Find Another Worker"}),d==="completed"&&c.jsxs("div",{className:"space-y-3",children:[p.rating?c.jsxs("div",{className:"text-center p-3 bg-green-50 text-green-700 rounded-lg",children:["You rated this ",p.rating," stars "]}):c.jsx(Me,{variant:"accent",className:"w-full",size:"lg",onClick:()=>u(!0),children:"Rate Worker"}),c.jsx(Me,{variant:"outline",className:"w-full",size:"lg",onClick:()=>{h&&r&&r(h.workerId)},children:"Book Again"})]})]}),c.jsx(eV,{isOpen:l,onClose:()=>u(!1),onSubmit:S,workerName:p.workerName})]})})}function nV({onSelectRequest:t,onResumeJob:e}){const{currentUser:n,getRequestsForWorker:r}=Tn(),[s,i]=L.useState(!0),o=n?r(n.id):[],l=o.filter(d=>d.status==="pending"),u=o.filter(d=>["accepted","user_started","in-progress","worker_completed"].includes(d.status)),h=o.filter(d=>["completed","rejected"].includes(d.status));return c.jsx(yt,{children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC]",children:[c.jsxs("div",{className:"bg-[#1A2238] text-white p-6 rounded-b-3xl",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-white mb-1",children:"Worker Dashboard"}),c.jsx("p",{className:"text-[#9DAAF2] text-sm",children:(n==null?void 0:n.name)||"Worker"})]}),c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]}),c.jsxs("div",{className:"bg-white/10 rounded-xl p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white mb-1",children:"Availability Status"}),c.jsx("p",{className:"text-[#9DAAF2] text-sm",children:s?"You are visible to users":"You are not receiving requests"})]}),c.jsx("button",{onClick:()=>i(!s),className:`relative w-14 h-8 rounded-full transition-colors ${s?"bg-[#4CAF50]":"bg-gray-400"}`,children:c.jsx("div",{className:`absolute top-1 w-6 h-6 bg-white rounded-full transition-transform ${s?"translate-x-7":"translate-x-1"}`})})]})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[u.length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-[#2E2E2E] mb-3 font-semibold flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Active Jobs"]}),c.jsx("div",{className:"space-y-3",children:u.map(d=>c.jsxs(wn,{onClick:()=>e(d.id),className:"p-4 border border-green-100 bg-green-50/30",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-[#1A2238]",children:d.userName}),c.jsx("span",{className:"text-sm text-gray-500",children:d.userVillage})]}),c.jsx(ki,{status:d.status})]}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsx("p",{className:"text-[#2E2E2E] font-medium",children:d.serviceType}),c.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:d.description.split(" (Time:")[0]})]})]},d.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-[#2E2E2E] mb-3 font-semibold",children:["New Requests (",l.length,")"]}),c.jsx("div",{className:"space-y-3",children:l.length===0?c.jsx("div",{className:"text-center py-8 bg-white rounded-xl border border-dashed border-gray-300",children:c.jsx("p",{className:"text-gray-400 text-sm",children:"No new requests yet."})}):l.map(d=>{var p;return c.jsxs(wn,{onClick:()=>t(d.id),className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-[#9DAAF2] bg-opacity-20 rounded-full flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[#1A2238] font-medium",children:d.userName}),c.jsx("p",{className:"text-xs text-[#2E2E2E] opacity-70",children:d.userVillage})]})]}),c.jsx(ki,{status:d.status})]}),c.jsxs("div",{className:"space-y-1 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Service:"}),c.jsx("span",{className:"font-medium text-[#1A2238]",children:d.serviceType})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-500",children:"Time:"}),c.jsx("span",{className:"font-medium text-[#1A2238]",children:((p=d.description.match(/Time: (.*)\)/))==null?void 0:p[1])||"Flexible"})]}),c.jsx("div",{className:"mt-1 pt-1 border-t border-gray-100",children:c.jsx("p",{className:"text-gray-500 line-clamp-2",children:d.description.split(" (Time:")[0]})})]})]},d.id)})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-[#2E2E2E] mb-3 font-semibold mt-4 text-sm opacity-80",children:["Past Jobs (",h.length,")"]}),c.jsx("div",{className:"space-y-3",children:h.map(d=>c.jsxs(wn,{onClick:()=>e(d.id),className:"p-4 opacity-80 grayscale-[0.3]",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-[#1A2238]",children:d.userName}),c.jsx("span",{className:"text-xs text-gray-500",children:new Date(d.date).toLocaleDateString()})]}),c.jsx(ki,{status:d.status})]}),c.jsx("div",{className:"mb-2",children:c.jsx("p",{className:"text-xs text-[#2E2E2E] line-clamp-1",children:d.description.split(" (Time:")[0]})}),d.rating&&c.jsxs("div",{className:"text-xs bg-yellow-50 text-yellow-700 p-2 rounded mt-2",children:["Rated: ",d.rating,'  "',d.feedback,'"']})]},d.id))})]})]})]})})}function rV({requestId:t,onAccept:e,onReject:n,onBack:r}){var p;const{requests:s,updateRequestStatus:i}=Tn(),o=s.find(g=>g.id===t);if(!o)return c.jsx(yt,{title:"Request Details",showBack:!0,onBack:r,children:c.jsx("div",{className:"flex items-center justify-center min-h-[607px] text-gray-500",children:"Loading request details..."})});const l=async()=>{await i(t,"accepted"),Ca.success("Request accepted"),e()},u=async()=>{await i(t,"rejected"),Ca.error("Request rejected"),n()},h=((p=o.description.match(/Time: (.*)\)/))==null?void 0:p[1])||"Flexible",d=o.description.split(" (Time:")[0];return c.jsx(yt,{title:"Request Details",showBack:!0,onBack:r,children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-5 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-14 h-14 bg-[#9DAAF2] bg-opacity-20 rounded-full flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-[#1A2238]",children:o.userName}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-[#2E2E2E] opacity-70",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),c.jsx("span",{children:o.userVillage})]})]})]}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Service"}),c.jsx("span",{className:"text-[#1A2238]",children:o.serviceType})]}),c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Preferred Time"}),c.jsx("span",{className:"text-[#1A2238]",children:h})]}),c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Requested On"}),c.jsx("span",{className:"text-[#1A2238]",children:new Date(o.date).toLocaleString()})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-5 mb-6",children:[c.jsx("h4",{className:"text-[#1A2238] mb-2",children:"Work Description"}),c.jsx("p",{className:"text-[#2E2E2E]",children:d})]}),o.status==="pending"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx(Me,{variant:"accent",className:"w-full",size:"lg",onClick:l,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})}),c.jsx("span",{children:"Accept Request"})]})}),c.jsx(Me,{variant:"outline",className:"w-full",size:"lg",onClick:u,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 6 6 18"}),c.jsx("path",{d:"m6 6 12 12"})]}),c.jsx("span",{children:"Reject Request"})]})})]})]})})}function sV({onBack:t,requestId:e}){const{requests:n,updateRequestStatus:r}=Tn(),s=n.find(u=>u.id===e);if(!s)return c.jsx(yt,{title:"Job Progress",showBack:!0,onBack:t,children:c.jsx("div",{className:"flex items-center justify-center min-h-[607px] text-gray-500",children:"Loading job details..."})});const i=s.status,o=async()=>{s.id&&await r(s.id,"in-progress")},l=async()=>{s.id&&await r(s.id,"worker_completed")};return c.jsx(yt,{title:"Job Progress",showBack:!0,onBack:t,children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-5 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-[#1A2238] font-semibold",children:"Job Status"}),c.jsx(ki,{status:i})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[#4CAF50] flex items-center justify-center",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})}),c.jsx("div",{className:"w-0.5 h-full bg-[#4CAF50] my-1"})]}),c.jsxs("div",{className:"flex-1 pb-4",children:[c.jsx("h4",{className:"text-[#1A2238]",children:"Request Accepted"}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:"Job booked"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${["user_started","in-progress","worker_completed","completed"].includes(i)?"bg-[#4CAF50]":"bg-gray-300"}`,children:["in-progress","worker_completed","completed"].includes(i)?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})}):c.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),c.jsx("div",{className:`w-0.5 h-full my-1 ${["worker_completed","completed"].includes(i)?"bg-[#4CAF50]":"bg-gray-300"}`})]}),c.jsxs("div",{className:"flex-1 pb-4",children:[c.jsx("h4",{className:"text-[#1A2238]",children:"Work In Progress"}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:i==="user_started"?"User confirmed arrival. Please confirm start.":i==="accepted"?"Waiting for User to confirm your arrival...":"Job started"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"flex flex-col items-center",children:c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="completed"?"bg-[#4CAF50]":"bg-gray-300"}`,children:i==="completed"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})}):c.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-[#1A2238]",children:"Completed"}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:i==="worker_completed"?"Waiting for user verification":i==="completed"?"Job verified & closed":"Pending"})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-5 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-12 h-12 bg-[#9DAAF2] bg-opacity-20 rounded-full flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[#1A2238]",children:s.userName}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:s.userVillage})]})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Service:"}),c.jsx("span",{className:"ml-2 text-[#1A2238]",children:s.serviceType||"Service"})]}),c.jsxs("div",{className:"text-sm mt-2",children:[c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:"Description:"}),c.jsx("p",{className:"text-[#1A2238] mt-1",children:s.description})]})]}),c.jsxs("div",{className:"space-y-3",children:[i==="user_started"&&c.jsx(Me,{variant:"accent",className:"w-full",size:"lg",onClick:o,children:"Confirm Start (User Arrived)"}),i==="in-progress"&&c.jsx(Me,{variant:"accent",className:"w-full",size:"lg",onClick:l,children:"Complete Job"}),i==="worker_completed"&&c.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 text-center",children:c.jsx("p",{className:"text-blue-600",children:"Waiting for user to verify completion..."})}),i==="completed"&&c.jsx("div",{className:"bg-[#4CAF50] bg-opacity-10 border-2 border-[#4CAF50] rounded-xl p-4 text-center",children:c.jsx("p",{className:"text-[#4CAF50]",children:"Job completed successfully!"})}),c.jsx(Me,{variant:"outline",className:"w-full",size:"lg",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),c.jsx("span",{children:"Call User"})]})})]})]})})}function iV({onManageWorkers:t}){const e=[{label:"Total Users",value:"1,234",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),color:"bg-[#9DAAF2]"},{label:"Total Workers",value:"456",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 7h-9"}),c.jsx("path",{d:"M14 17H5"}),c.jsx("circle",{cx:"17",cy:"17",r:"3"}),c.jsx("circle",{cx:"7",cy:"7",r:"3"})]}),color:"bg-[#FF6A3D]"},{label:"Active Requests",value:"89",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2"}),c.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),color:"bg-[#F4DB7D]"},{label:"Completed Today",value:"23",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),color:"bg-[#4CAF50]"}],n=[{label:"Manage Workers",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 7h-9"}),c.jsx("path",{d:"M14 17H5"}),c.jsx("circle",{cx:"17",cy:"17",r:"3"}),c.jsx("circle",{cx:"7",cy:"7",r:"3"})]}),onClick:t},{label:"View All Requests",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2"}),c.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),onClick:()=>{}},{label:"Reports",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M3 3v18h18"}),c.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),onClick:()=>{}},{label:"Settings",icon:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),onClick:()=>{}}];return c.jsx(yt,{children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC]",children:[c.jsx("div",{className:"bg-[#1A2238] text-white p-6 rounded-b-3xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-white mb-1",children:"Admin Panel"}),c.jsx("p",{className:"text-[#9DAAF2] text-sm",children:"vserveu Platform"})]}),c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-[#2E2E2E] mb-4",children:"Platform Statistics"}),c.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:e.map((r,s)=>c.jsxs(wn,{className:"p-4",children:[c.jsx("div",{className:`w-10 h-10 ${r.color} rounded-xl flex items-center justify-center mb-3 text-white`,children:r.icon}),c.jsx("div",{className:"text-2xl text-[#1A2238] mb-1",children:r.value}),c.jsx("div",{className:"text-sm text-[#2E2E2E] opacity-70",children:r.label})]},s))}),c.jsx("h3",{className:"text-[#2E2E2E] mb-4",children:"Quick Actions"}),c.jsx("div",{className:"space-y-3",children:n.map((r,s)=>c.jsx(wn,{onClick:r.onClick,className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"text-[#1A2238]",children:r.icon}),c.jsx("span",{className:"flex-1 text-[#1A2238]",children:r.label}),c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m9 18 6-6-6-6"})})]})},s))})]})]})})}function oV({onBack:t}){const[e,n]=L.useState([{id:"1",name:"Ravi Kumar",village:"Thanjavur",service:"Electrician",rating:4.8,totalJobs:142,enabled:!0},{id:"2",name:"Murugan S",village:"Kumbakonam",service:"Plumber",rating:4.5,totalJobs:98,enabled:!0},{id:"3",name:"Senthil Raja",village:"Thanjavur",service:"Carpenter",rating:4.9,totalJobs:215,enabled:!0},{id:"4",name:"Karthik P",village:"Mayiladuthurai",service:"Mason",rating:4.3,totalJobs:67,enabled:!1}]),r=s=>{n(e.map(i=>i.id===s?{...i,enabled:!i.enabled}:i))};return c.jsx(yt,{title:"Manage Workers",showBack:!0,onBack:t,children:c.jsxs("div",{className:"min-h-[607px] bg-[#F7F8FC] p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-[#2E2E2E]",children:["All Workers (",e.length,")"]}),c.jsxs("div",{className:"text-sm text-[#2E2E2E] opacity-70",children:[e.filter(s=>s.enabled).length," active"]})]}),c.jsx("div",{className:"space-y-3",children:e.map(s=>c.jsx(wn,{className:"p-4",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-14 h-14 bg-[#9DAAF2] bg-opacity-20 rounded-full flex items-center justify-center flex-shrink-0",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-[#1A2238]",children:s.name}),c.jsx("p",{className:"text-sm text-[#2E2E2E] opacity-70",children:s.service})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s.enabled?"bg-[#4CAF50] text-white":"bg-[#E8E8E8] text-[#2E2E2E]"}`,children:s.enabled?"Enabled":"Disabled"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm mb-3",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),c.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),c.jsx("span",{className:"text-[#2E2E2E] opacity-70",children:s.village})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"#F4DB7D",stroke:"#F4DB7D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),c.jsx("span",{className:"text-[#2E2E2E]",children:s.rating})]}),c.jsxs("span",{className:"text-[#2E2E2E] opacity-70",children:[s.totalJobs," jobs"]})]}),c.jsx("button",{onClick:()=>r(s.id),className:`w-full px-4 py-2 rounded-xl border-2 transition-all ${s.enabled?"border-red-500 text-red-500 hover:bg-red-50":"border-[#4CAF50] text-[#4CAF50] hover:bg-green-50"}`,children:s.enabled?"Disable Worker":"Enable Worker"})]})]})},s.id))})]})})}function Pv({onLoginClick:t}){const e=[{icon:"",title:"Community Driven",description:"Connect with workers from your own village"},{icon:"",title:"Verified Workers",description:"All workers are verified by village administration"},{icon:"",title:"Fast Service",description:"Get help quickly when you need it most"},{icon:"",title:"Local Language",description:"App usage in Tamil and English"}],n=[{icon:"",name:"Electrical"},{icon:"",name:"Plumbing"},{icon:"",name:"Cleaning"},{icon:"",name:"Agriculture"},{icon:"",name:"Construction"},{icon:"",name:"Transport"}];return c.jsxs("div",{className:"min-h-screen bg-[#F7F8FC]",children:[c.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-[#1A2238]",children:"vserveu"}),c.jsx("p",{className:"text-sm text-[#9DAAF2] italic",children:'"v for us, v by us"'})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[c.jsx("a",{href:"#services",className:"text-[#2E2E2E] hover:text-[#1A2238]",children:"Services"}),c.jsx("a",{href:"#how-it-works",className:"text-[#2E2E2E] hover:text-[#1A2238]",children:"How it Works"}),c.jsx("a",{href:"#join",className:"text-[#2E2E2E] hover:text-[#1A2238]",children:"Join as Worker"}),c.jsx(Me,{variant:"accent",size:"sm",onClick:t,children:"Login"})]})]})})}),c.jsx("section",{className:"bg-gradient-to-br from-[#1A2238] to-[#2A3248] text-white py-20 md:py-32",children:c.jsx("div",{className:"max-w-7xl mx-auto px-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl mb-6 text-white",children:"Your Village's Service Platform"}),c.jsx("p",{className:"text-xl md:text-2xl text-[#9DAAF2] mb-8 italic",children:'"v for us, v by us"'}),c.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90",children:"Connect with trusted local service providers in your village and nearby towns. From electricians to farm labor, find the help you need from your own community."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx(Me,{variant:"accent",size:"lg",onClick:t,children:"Find Services"}),c.jsx(Me,{variant:"secondary",size:"lg",onClick:t,children:"Join as Worker"})]})]}),c.jsx("div",{className:"hidden md:flex items-center justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-80 h-80 bg-white/10 rounded-3xl backdrop-blur-sm flex items-center justify-center",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"160",height:"160",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-[#FF6A3D] rounded-3xl opacity-20"}),c.jsx("div",{className:"absolute -top-4 -left-4 w-32 h-32 bg-[#9DAAF2] rounded-3xl opacity-20"})]})})]})})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-[#1A2238] mb-4",children:"Why Choose vserveu?"}),c.jsx("p",{className:"text-lg text-[#2E2E2E] opacity-70",children:"Built for villages, by villages"})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,s)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-4",children:r.icon}),c.jsx("h3",{className:"text-[#1A2238] mb-2",children:r.title}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:r.description})]},s))})]})}),c.jsx("section",{id:"services",className:"py-20 bg-[#F7F8FC]",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-[#1A2238] mb-4",children:"Our Services"}),c.jsx("p",{className:"text-lg text-[#2E2E2E] opacity-70",children:"Find the right help for your needs"})]}),c.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:n.map((r,s)=>c.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center hover:shadow-lg transition-shadow cursor-pointer",children:[c.jsx("div",{className:"text-5xl mb-3",children:r.icon}),c.jsx("h4",{className:"text-[#1A2238]",children:r.name})]},s))})]})}),c.jsx("section",{id:"how-it-works",className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-[#1A2238] mb-4",children:"How It Works"}),c.jsx("p",{className:"text-lg text-[#2E2E2E] opacity-70",children:"Get started in 3 simple steps"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#9DAAF2] rounded-full flex items-center justify-center text-white mx-auto mb-6",children:c.jsx("span",{className:"text-3xl",children:"1"})}),c.jsx("h3",{className:"text-[#1A2238] mb-3",children:"Browse Services"}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:"Select the service you need from our wide range of categories"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#FF6A3D] rounded-full flex items-center justify-center text-white mx-auto mb-6",children:c.jsx("span",{className:"text-3xl",children:"2"})}),c.jsx("h3",{className:"text-[#1A2238] mb-3",children:"Choose a Worker"}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:"View ratings and pick a trusted worker from your village"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-[#4CAF50] rounded-full flex items-center justify-center text-white mx-auto mb-6",children:c.jsx("span",{className:"text-3xl",children:"3"})}),c.jsx("h3",{className:"text-[#1A2238] mb-3",children:"Get It Done"}),c.jsx("p",{className:"text-[#2E2E2E] opacity-70",children:"Send request and get your work done quickly"})]})]})]})}),c.jsx("section",{id:"join",className:"py-20 bg-gradient-to-br from-[#FF6A3D] to-[#EF5A2D] text-white",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[c.jsx("h2",{className:"text-white mb-4",children:"Join as a Worker"}),c.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Are you a skilled worker? Join vserveu and connect with people in your village who need your services"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(Me,{variant:"primary",size:"lg",children:"Register as Worker"}),c.jsx(Me,{variant:"secondary",size:"lg",children:"Learn More"})]})]})}),c.jsx("footer",{className:"bg-[#1A2238] text-white py-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[c.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white mb-4",children:"vserveu"}),c.jsx("p",{className:"text-[#9DAAF2] italic mb-2",children:'"v for us, v by us"'}),c.jsx("p",{className:"text-white/70",children:"Your village's trusted service platform"})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white mb-4",children:"Quick Links"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("a",{href:"#services",className:"block text-white/70 hover:text-white",children:"Services"}),c.jsx("a",{href:"#how-it-works",className:"block text-white/70 hover:text-white",children:"How it Works"}),c.jsx("a",{href:"#join",className:"block text-white/70 hover:text-white",children:"Join as Worker"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white mb-4",children:"Contact"}),c.jsx("p",{className:"text-white/70",children:"Support: support@vserveu.in"})]})]}),c.jsx("div",{className:"border-t border-white/10 pt-8 text-center text-white/70",children:c.jsx("p",{children:" 2026 vserveu. All rights reserved."})})]})})]})}function aV({onBack:t,onHome:e,isMobile:n}){const{currentUser:r,logout:s}=Tn(),[i,o]=L.useState(!1),[l,u]=L.useState("EN"),h=()=>o(!i),d=()=>u(b=>b==="EN"?"TA":"EN"),p=()=>{s(),o(!1)},g=()=>{alert("Edit Profile Feature coming soon!"),o(!1)},y=()=>{alert("Switch Role Feature coming soon!"),o(!1)};return c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[t&&c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full text-[#1A2238]",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m15 18-6-6 6-6"})})}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-[#1A2238]",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),c.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),!n&&c.jsx("span",{className:"text-xl font-bold text-[#1A2238]",children:"V Serve U"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:d,className:"px-3 py-1 rounded-lg border border-gray-200 text-sm font-medium text-[#1A2238] hover:bg-gray-50 bg-white",children:l}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:h,className:"flex items-center md:gap-2 p-1 md:pr-4 rounded-full hover:bg-gray-50 border border-transparent hover:border-gray-200 transition-all",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),!n&&r&&c.jsxs("div",{className:"text-left hidden md:block",children:[c.jsx("p",{className:"text-sm font-medium text-[#1A2238] leading-none",children:r.name}),c.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r.role})]})]}),i&&c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-1 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[c.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 md:hidden",children:[c.jsx("p",{className:"text-sm font-medium text-[#1A2238]",children:r==null?void 0:r.name}),c.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r==null?void 0:r.role})]}),c.jsx("button",{onClick:g,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:c.jsx("span",{children:"Edit Profile"})}),(r==null?void 0:r.role)==="worker"&&c.jsx("button",{onClick:y,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:c.jsx("span",{children:"Switch to User"})}),c.jsx("div",{className:"h-px bg-gray-100 my-1"}),c.jsx("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:c.jsx("span",{children:"Logout"})})]})]})]})]})})}function lV({children:t,onBack:e,onHome:n}){return c.jsxs("div",{className:"min-h-screen bg-[#F7F8FC] flex flex-col",children:[c.jsx(aV,{onBack:e,onHome:n,isMobile:!1}),c.jsx("main",{className:"flex-1 w-full max-w-7xl mx-auto p-4 md:p-6",children:t})]})}function uV(){const{currentUser:t,login:e,logout:n}=Tn(),[r,s]=L.useState("website"),[i,o]=L.useState(""),[l,u]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(""),[y,b]=L.useState("pending"),[S,P]=L.useState("user");L.useEffect(()=>{t?t.role==="user"&&(r==="login"||r==="website")?s("user-home"):t.role==="worker"&&(r==="login"||r==="website")?s("worker-dashboard"):t.role==="admin"&&(r==="login"||r==="website")&&s("admin-dashboard"):r!=="login"&&r!=="website"&&r!=="splash"&&s("website")},[t,r]);const T=async()=>{},v=N=>{P(N),s("login")},_=N=>{o(N),s("service-list")},R=N=>{u(N),s("worker-list")},V=N=>{d(N),s("worker-detail")},M=()=>{s("request-service")},A=N=>{g(N),b("pending"),s("request-status")},x=N=>{g(N),s("worker-request-detail")},E=()=>{s("job-progress")},k=()=>{s("worker-dashboard")},I=()=>{switch(r){case"website":return c.jsx(Pv,{onLoginClick:()=>s("login")});case"splash":return c.jsx(gI,{});case"role-selection":return c.jsx(yI,{onSelectRole:v});case"login":return c.jsx(Uj,{onLogin:T,onBack:()=>s("website"),initialRole:S});case"user-home":return(t==null?void 0:t.role)==="user"?c.jsx($j,{village:t.village,onSelectCategory:_,onSelectRequest:N=>{g(N),s("request-status")}}):null;case"service-list":return c.jsx(Qj,{category:i,onSelectService:R,onBack:()=>s("user-home")});case"worker-list":return c.jsx(Yj,{service:l,onSelectWorker:V,onBack:()=>s("service-list")});case"worker-detail":return c.jsx(Xj,{workerId:h,onRequestService:M,onBack:()=>s("worker-list")});case"request-service":return c.jsx(Jj,{workerId:h,onSubmitRequest:A,onBack:()=>s("worker-detail")});case"request-status":return c.jsx(tV,{status:y,onBack:()=>s("user-home"),requestId:p,onBookAgain:N=>{d(N),s("worker-detail")}});case"worker-dashboard":return(t==null?void 0:t.role)==="worker"?c.jsx(nV,{onSelectRequest:x,onResumeJob:N=>{g(N),s("job-progress")}}):null;case"worker-request-detail":return c.jsx(rV,{requestId:p,onAccept:E,onReject:k,onBack:()=>s("worker-dashboard")});case"job-progress":return c.jsx(sV,{onBack:()=>s("worker-dashboard"),requestId:p});case"admin-dashboard":return c.jsx(iV,{onManageWorkers:()=>s("admin-worker-management")});case"admin-worker-management":return c.jsx(oV,{onBack:()=>s("admin-dashboard")});default:return c.jsx(Pv,{onLoginClick:()=>s("login")})}};return c.jsx("div",{className:"min-h-screen bg-[#F7F8FC]",children:r==="website"?I():c.jsx(lV,{onHome:()=>{(t==null?void 0:t.role)==="worker"?s("worker-dashboard"):(t==null?void 0:t.role)==="admin"?s("admin-dashboard"):s("user-home")},onBack:r==="service-list"?()=>s("user-home"):r==="worker-list"?()=>s("service-list"):r==="worker-detail"?()=>s("worker-list"):r==="request-service"?()=>s("worker-detail"):r==="request-status"?()=>s("user-home"):r==="worker-request-detail"?()=>s("worker-dashboard"):r==="job-progress"?()=>s("worker-dashboard"):r==="admin-worker-management"?()=>s("admin-dashboard"):r==="login"?()=>s("website"):void 0,children:I()})})}function cV(){return c.jsxs(fj,{children:[c.jsx(uV,{}),c.jsx(Bj,{position:"top-center",richColors:!0})]})}Hx(document.getElementById("root")).render(c.jsx(cV,{}));
